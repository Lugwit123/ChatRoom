

    "日志系统初始化完成"   2025-01-12 03:59:31----code_context : lprint("日志系统初始化完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:48, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:49, ->code_context:->setup_logging()->fn:<module>


    "日志系统初始化完成"   2025-01-12 03:59:46----code_context : lprint("日志系统初始化完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:48, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:49, ->code_context:->setup_logging()->fn:<module>


    "日志系统初始化完成"   2025-01-12 04:00:52----code_context : lprint("日志系统初始化完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:48, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:49, ->code_context:->setup_logging()->fn:<module>


    "日志系统初始化完成"   2025-01-12 04:01:08----code_context : lprint("日志系统初始化完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:48, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:49, ->code_context:->setup_logging()->fn:<module>
2025-01-13 15:53:46 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 15:53:46----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:57, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:60, ->code_context:->setup_logging()->fn:<module>
2025-01-13 15:53:46 - asyncio - DEBUG - Using proactor: IocpProactor
2025-01-13 15:53:46 - root - WARNING - 

    "1. 清空数据库..."   2025-01-13 15:53:46----code_context : lprint("1. 清空数据库...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:418, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 15:53:46 - root - WARNING - 

    "开始清空数据库"   2025-01-13 15:53:46----code_context : lprint("开始清空数据库") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:312, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:419, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 15:53:46 - root - WARNING - 

    "清空数据库时出错: connection was closed in the middle of operation"   2025-01-13 15:53:46----code_context : lprint(f"清空数据库时出错: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:331, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:419, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 15:53:46 - root - WARNING - 

    "数据库初始化失败: connection was closed in the middle of operation"   2025-01-13 15:53:46----code_context : lprint(f"数据库初始化失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 15:53:46 - root - WARNING - 

    "Traceback (most recent call last):
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 419, in initialize_db
    await clear_database(session)
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 321, in clear_database
    result = await session.execute(text(tables_query))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 461, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2226, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2095, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"<string>\", line 2, in _connection_for_bind
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3276, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3300, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 179, in _do_get
    with util.safe_reraise():
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 674, in __init__
    self.__connect()
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 900, in __connect
    with util.safe_reraise():
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 620, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 937, in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 131, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\connection.py\", line 2421, in connect
    return await connect_utils._connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 1049, in _connect
    conn = await _connect_addr(
           ^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 886, in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 934, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
"   2025-01-13 15:53:46----code_context : lprint(traceback.format_exc()) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:464, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 15:55:31 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 15:55:31----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:57, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:60, ->code_context:->setup_logging()->fn:<module>
2025-01-13 15:55:31 - asyncio - DEBUG - Using proactor: IocpProactor
2025-01-13 15:55:31 - root - WARNING - 

    "1. 清空数据库..."   2025-01-13 15:55:31----code_context : lprint("1. 清空数据库...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:418, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 15:55:31 - root - WARNING - 

    "开始清空数据库"   2025-01-13 15:55:31----code_context : lprint("开始清空数据库") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:312, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:419, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 15:55:31 - root - WARNING - 

    "清空数据库时出错: connection was closed in the middle of operation"   2025-01-13 15:55:31----code_context : lprint(f"清空数据库时出错: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:331, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:419, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 15:55:31 - root - WARNING - 

    "数据库初始化失败: connection was closed in the middle of operation"   2025-01-13 15:55:31----code_context : lprint(f"数据库初始化失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 15:55:31 - root - WARNING - 

    "Traceback (most recent call last):
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 419, in initialize_db
    await clear_database(session)
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 321, in clear_database
    result = await session.execute(text(tables_query))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 461, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2226, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2095, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"<string>\", line 2, in _connection_for_bind
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3276, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3300, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 179, in _do_get
    with util.safe_reraise():
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 674, in __init__
    self.__connect()
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 900, in __connect
    with util.safe_reraise():
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 620, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 937, in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 131, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\connection.py\", line 2421, in connect
    return await connect_utils._connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 1049, in _connect
    conn = await _connect_addr(
           ^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 886, in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 934, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
"   2025-01-13 15:55:31----code_context : lprint(traceback.format_exc()) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:464, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 16:52:36 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 16:52:36----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:57, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:60, ->code_context:->setup_logging()->fn:<module>
2025-01-13 16:52:36 - asyncio - DEBUG - Using proactor: IocpProactor
2025-01-13 16:52:36 - root - WARNING - 

    "1. 清空数据库..."   2025-01-13 16:52:36----code_context : lprint("1. 清空数据库...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:418, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 16:52:36 - root - WARNING - 

    "开始清空数据库"   2025-01-13 16:52:36----code_context : lprint("开始清空数据库") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:312, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:419, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 16:52:36 - root - WARNING - 

    "清空数据库时出错: connect() got an unexpected keyword argument 'connect_timeout'"   2025-01-13 16:52:36----code_context : lprint(f"清空数据库时出错: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:331, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:419, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 16:52:36 - root - WARNING - 

    "数据库初始化失败: connect() got an unexpected keyword argument 'connect_timeout'"   2025-01-13 16:52:36----code_context : lprint(f"数据库初始化失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 16:52:36 - root - WARNING - 

    "Traceback (most recent call last):
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 419, in initialize_db
    await clear_database(session)
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 321, in clear_database
    result = await session.execute(text(tables_query))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 461, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2226, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2095, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"<string>\", line 2, in _connection_for_bind
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3276, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3300, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 179, in _do_get
    with util.safe_reraise():
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 674, in __init__
    self.__connect()
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 900, in __connect
    with util.safe_reraise():
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 620, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 937, in connect
    await_only(creator_fn(*arg, **kw)),
               ^^^^^^^^^^^^^^^^^^^^^^
TypeError: connect() got an unexpected keyword argument 'connect_timeout'
"   2025-01-13 16:52:36----code_context : lprint(traceback.format_exc()) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:464, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 16:52:59 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 16:52:59----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:57, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:60, ->code_context:->setup_logging()->fn:<module>
2025-01-13 16:52:59 - asyncio - DEBUG - Using proactor: IocpProactor
2025-01-13 16:52:59 - root - WARNING - 

    "1. 清空数据库..."   2025-01-13 16:52:59----code_context : lprint("1. 清空数据库...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:418, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 16:52:59 - root - WARNING - 

    "开始清空数据库"   2025-01-13 16:52:59----code_context : lprint("开始清空数据库") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:312, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:419, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 16:52:59 - root - WARNING - 

    "清空数据库时出错: connection was closed in the middle of operation"   2025-01-13 16:52:59----code_context : lprint(f"清空数据库时出错: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:331, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:419, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 16:52:59 - root - WARNING - 

    "数据库初始化失败: connection was closed in the middle of operation"   2025-01-13 16:52:59----code_context : lprint(f"数据库初始化失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 16:52:59 - root - WARNING - 

    "Traceback (most recent call last):
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 419, in initialize_db
    await clear_database(session)
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 321, in clear_database
    result = await session.execute(text(tables_query))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 461, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2226, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2095, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"<string>\", line 2, in _connection_for_bind
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3276, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3300, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 712, in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 179, in _do_get
    with util.safe_reraise():
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 177, in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 390, in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 674, in __init__
    self.__connect()
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 900, in __connect
    with util.safe_reraise():
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 643, in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 620, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 937, in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 131, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\connection.py\", line 2421, in connect
    return await connect_utils._connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 1049, in _connect
    conn = await _connect_addr(
           ^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 886, in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\connect_utils.py\", line 934, in __connect_addr
    await connected
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation
"   2025-01-13 16:52:59----code_context : lprint(traceback.format_exc()) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:464, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 16:53:18 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 16:53:18----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:57, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:60, ->code_context:->setup_logging()->fn:<module>
2025-01-13 16:53:18 - asyncio - DEBUG - Using proactor: IocpProactor
2025-01-13 16:53:18 - root - WARNING - 

    "1. 清空数据库..."   2025-01-13 16:53:18----code_context : lprint("1. 清空数据库...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:418, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 16:53:18 - root - WARNING - 

    "开始清空数据库"   2025-01-13 16:53:18----code_context : lprint("开始清空数据库") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:312, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:419, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 16:53:18 - root - WARNING - 

    "数据库清空完成"   2025-01-13 16:53:18----code_context : lprint("数据库清空完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:329, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:419, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 16:53:18 - root - WARNING - 

    "2. 重新创建枚举类型..."   2025-01-13 16:53:18----code_context : lprint("2. 重新创建枚举类型...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:422, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 16:53:18 - root - WARNING - 

    "开始删除枚举类型"   2025-01-13 16:53:18----code_context : lprint("开始删除枚举类型") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:337, -fn: drop_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:423, ->code_context:->await drop_enums(session)->fn:initialize_db
2025-01-13 16:53:18 - root - WARNING - 

    "枚举类型删除完成"   2025-01-13 16:53:18----code_context : lprint("枚举类型删除完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:356, -fn: drop_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:423, ->code_context:->await drop_enums(session)->fn:initialize_db
2025-01-13 16:53:18 - root - WARNING - 

    "开始创建枚举类型"   2025-01-13 16:53:18----code_context : lprint("开始创建枚举类型") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:365, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:424, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 16:53:18 - root - WARNING - 

    "创建枚举类型 messagetype 成功"   2025-01-13 16:53:18----code_context : lprint(f"创建枚举类型 {enum_name} 成功") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:383, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:424, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 16:53:18 - root - WARNING - 

    "创建枚举类型 messagecontenttype 成功"   2025-01-13 16:53:18----code_context : lprint(f"创建枚举类型 {enum_name} 成功") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:383, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:424, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 16:53:18 - root - WARNING - 

    "创建枚举类型 userrole 成功"   2025-01-13 16:53:18----code_context : lprint(f"创建枚举类型 {enum_name} 成功") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:383, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:424, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 16:53:18 - root - WARNING - 

    "创建枚举类型 messagestatus 成功"   2025-01-13 16:53:18----code_context : lprint(f"创建枚举类型 {enum_name} 成功") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:383, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:424, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 16:53:18 - root - WARNING - 

    "枚举类型创建完成"   2025-01-13 16:53:18----code_context : lprint("枚举类型创建完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:390, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:424, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 16:53:18 - root - WARNING - 

    "3. 创建表..."   2025-01-13 16:53:18----code_context : lprint("3. 创建表...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:427, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 16:53:19 - root - WARNING - 

    "基础表创建完成"   2025-01-13 16:53:19----code_context : lprint("基础表创建完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:400, -fn: create_tables, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:428, ->code_context:->await create_tables()->fn:initialize_db
2025-01-13 16:53:19 - root - WARNING - 

    "群组消息表创建完成"   2025-01-13 16:53:19----code_context : lprint("群组消息表创建完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:408, -fn: create_tables, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:428, ->code_context:->await create_tables()->fn:initialize_db
2025-01-13 16:53:19 - root - WARNING - 

    "4. 加载用户数据..."   2025-01-13 16:53:19----code_context : lprint("4. 加载用户数据...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:431, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 16:53:19 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 16:53:19 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 16:53:19 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 16:53:19 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 16:53:19 - passlib.handlers.bcrypt - DEBUG - detected 'bcrypt' backend, version '3.2.0'
2025-01-13 16:53:19 - passlib.handlers.bcrypt - DEBUG - 'bcrypt' backend lacks $2$ support, enabling workaround
2025-01-13 16:53:19 - root - WARNING - 

    "添加用户: admin01"   2025-01-13 16:53:19----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 16:53:19 - root - WARNING - 

    "添加用户: system01"   2025-01-13 16:53:19----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 16:53:19 - root - WARNING - 

    "添加用户: zhangqunzhong"   2025-01-13 16:53:19----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 16:53:19 - root - WARNING - 

    "添加用户: fengqingqing"   2025-01-13 16:53:19----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 16:53:20 - root - WARNING - 

    "添加用户: zhaiwenpeng"   2025-01-13 16:53:20----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 16:53:20 - root - WARNING - 

    "添加用户: OC6"   2025-01-13 16:53:20----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 16:53:20 - root - WARNING - 

    "添加用户: OC5"   2025-01-13 16:53:20----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 16:53:20 - root - WARNING - 

    "添加用户: OC4"   2025-01-13 16:53:20----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 16:53:20 - root - WARNING - 

    "添加用户: OC3"   2025-01-13 16:53:20----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户: OC2"   2025-01-13 16:53:21----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户: OC1"   2025-01-13 16:53:21----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户: liujunlong"   2025-01-13 16:53:21----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户: julia01"   2025-01-13 16:53:21----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户: tanglinyu"   2025-01-13 16:53:21----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "5. 加载群组数据..."   2025-01-13 16:53:21----code_context : lprint("5. 加载群组数据...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:438, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 16:53:21 - root - WARNING - 

    "添加群组: asset_group (资产组)"   2025-01-13 16:53:21----code_context : lprint(f"添加群组: {group['name']} ({group['label']})") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:98, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加群组: animation_group (动画组)"   2025-01-13 16:53:21----code_context : lprint(f"添加群组: {group['name']} ({group['label']})") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:98, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加群组: effect_group (特效组)"   2025-01-13 16:53:21----code_context : lprint(f"添加群组: {group['name']} ({group['label']})") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:98, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加群组: solve_group (解算组)"   2025-01-13 16:53:21----code_context : lprint(f"添加群组: {group['name']} ({group['label']})") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:98, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加群组: light_group (灯光组)"   2025-01-13 16:53:21----code_context : lprint(f"添加群组: {group['name']} ({group['label']})") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:98, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户 admin01 到群组 asset_group"   2025-01-13 16:53:21----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户 admin01 到群组 animation_group"   2025-01-13 16:53:21----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户 system01 到群组 solve_group"   2025-01-13 16:53:21----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户 zhangqunzhong 到群组 light_group"   2025-01-13 16:53:21----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户 zhangqunzhong 到群组 effect_group"   2025-01-13 16:53:21----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户 fengqingqing 到群组 solve_group"   2025-01-13 16:53:21----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户 zhaiwenpeng 到群组 effect_group"   2025-01-13 16:53:21----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户 OC6 到群组 solve_group"   2025-01-13 16:53:21----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户 OC5 到群组 solve_group"   2025-01-13 16:53:21----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户 OC4 到群组 solve_group"   2025-01-13 16:53:21----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户 OC3 到群组 solve_group"   2025-01-13 16:53:21----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户 OC2 到群组 solve_group"   2025-01-13 16:53:21----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户 OC1 到群组 solve_group"   2025-01-13 16:53:21----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户 liujunlong 到群组 asset_group"   2025-01-13 16:53:21----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户 julia01 到群组 asset_group"   2025-01-13 16:53:21----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加用户 tanglinyu 到群组 light_group"   2025-01-13 16:53:21----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "6. 加载消息数据..."   2025-01-13 16:53:21----code_context : lprint("6. 加载消息数据...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:446, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 16:53:21 - root - WARNING - 

    "添加消息类型: private_chat"   2025-01-13 16:53:21----code_context : lprint(f"添加消息类型: {msg_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:157, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加消息类型: group_chat"   2025-01-13 16:53:21----code_context : lprint(f"添加消息类型: {msg_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:157, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加消息类型: system"   2025-01-13 16:53:21----code_context : lprint(f"添加消息类型: {msg_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:157, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加消息类型: notification"   2025-01-13 16:53:21----code_context : lprint(f"添加消息类型: {msg_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:157, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加消息内容类型: plain_text"   2025-01-13 16:53:21----code_context : lprint(f"添加消息内容类型: {content_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:171, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加消息内容类型: html"   2025-01-13 16:53:21----code_context : lprint(f"添加消息内容类型: {content_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:171, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加消息内容类型: markdown"   2025-01-13 16:53:21----code_context : lprint(f"添加消息内容类型: {content_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:171, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加消息内容类型: image"   2025-01-13 16:53:21----code_context : lprint(f"添加消息内容类型: {content_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:171, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加消息内容类型: file"   2025-01-13 16:53:21----code_context : lprint(f"添加消息内容类型: {content_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:171, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 16:53:21----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 16:53:21----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:21 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 16:53:21----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 16:53:22----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 16:53:22----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 16:53:22----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 16:53:22----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> solve_group"   2025-01-13 16:53:22----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> solve_group"   2025-01-13 16:53:22----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> solve_group"   2025-01-13 16:53:22----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> solve_group"   2025-01-13 16:53:22----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> light_group"   2025-01-13 16:53:22----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> light_group"   2025-01-13 16:53:22----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> light_group"   2025-01-13 16:53:22----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> asset_group"   2025-01-13 16:53:22----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> asset_group"   2025-01-13 16:53:22----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> effect_group"   2025-01-13 16:53:22----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> effect_group"   2025-01-13 16:53:22----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> effect_group"   2025-01-13 16:53:22----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> animation_group"   2025-01-13 16:53:22----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> animation_group"   2025-01-13 16:53:22----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> animation_group"   2025-01-13 16:53:22----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "7. 加载设备数据..."   2025-01-13 16:53:22----code_context : lprint("7. 加载设备数据...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:453, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 16:53:22 - root - WARNING - 

    "初始设备文件未找到: d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\data\\initial_devices.json"   2025-01-13 16:53:22----code_context : lprint(f"初始设备文件未找到: {json_path}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:277, -fn: load_initial_devices, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:454, ->code_context:->await load_initial_devices(->fn:initialize_db
2025-01-13 16:53:22 - root - WARNING - 

    "数据库初始化完成!"   2025-01-13 16:53:22----code_context : lprint("数据库初始化完成!") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:460, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:16:46 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:16:46----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:16:46 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:16:46----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:51, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:16:46 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:16:46----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:51, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:16:46 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:16:46----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:51, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:16:46 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:16:46----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:16:46 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:16:46----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:16:46 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:16:46 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:16:46----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:28, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:25, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:17:11 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:17:11----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:17:11 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:17:11----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:17:11 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:17:11----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:17:11 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:17:11----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:17:12 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:17:12 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:17:12 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:17:12 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:17:12----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:17:12 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:17:12 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:17:12----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:17:12 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:17:12----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:17:12 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:17:12 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:17:12----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:28, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:25, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_name with data[0:8]
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_data with data[9:17]
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_name with data[18:26]
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_data with data[27:30]
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_name with data[31:41]
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_data with data[42:50]
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_name with data[51:56]
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_name with data[58:67]
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_name with data[69:82]
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:17:18 - multipart.multipart - DEBUG - Calling on_end with no data
2025-01-13 17:17:18 - root - WARNING - 

    "收到登录请求 - 用户名: system01, 客户端IP: 127.0.0.1"   2025-01-13 17:17:18----code_context : lprint(f"收到登录请求 - 用户名: {form_data.username}, 客户端IP: {request.client.host}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:126, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:17:18 - root - WARNING - 

    "请求头: {'host': '127.0.0.1:1026', 'accept': 'application/json', 'accept-encoding': 'gzip, deflate', 'user-agent': 'Python/3.11 aiohttp/3.11.10', 'content-length': '83', 'content-type': 'application/x-www-form-urlencoded'}"   2025-01-13 17:17:18----code_context : lprint(f"请求头: {dict(request.headers)}", level=logging.DEBUG) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:127, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:17:18 - root - WARNING - 

    "认证用户: system01"   2025-01-13 17:17:18----code_context : lprint(f"认证用户: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:170, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:130, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 17.2 on x86_64-windows, compiled by msvc-19.42.34433, 64-bit',)
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] ('system01',)
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:17:18 - root - WARNING - 

    "用户验证成功: system01"   2025-01-13 17:17:18----code_context : lprint(f"用户验证成功: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:181, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:130, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:17:18 - root - WARNING - 

    "获取密钥: a3f1e5c9d8b4a6e3f2c1d4b5e6f7a8c9d0e1f2a3b4c5d6e7f8g9h0i1j2k3l4m"   2025-01-13 17:17:18----code_context : lprint(f"获取密钥: {SECRET_KEY}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:69, -fn: get_secret_key, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:98, ->code_context:->encoded_jwt = jwt.encode(to_encode, get_secret_key(), algorithm=ALGORITHM)->fn:create_access_token
2025-01-13 17:17:18 - root - WARNING - 

    "创建访问令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:17:18----code_context : lprint(f"创建访问令牌: {encoded_jwt[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:99, -fn: create_access_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:141, ->code_context:->access_token = create_access_token(->fn:login
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - SELECT devices.id, devices.device_id, devices.user_id, devices.device_name, devices.device_type, devices.login_status, devices.ip_address, devices.user_agent, devices.first_login, devices.last_seen, devices.login_count 
FROM devices 
WHERE devices.user_id = $1::INTEGER AND devices.device_name = $2::VARCHAR AND devices.ip_address = $3::VARCHAR
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] (2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', '127.0.0.1')
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'device_id', 'user_id', 'device_name', 'device_type', 'login_status', 'ip_address', 'user_agent', 'first_login', 'last_seen', 'login_count')
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - DEBUG - Row (1, '82650354-f2e5-4cb4-86db-617229360dc6', 2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', 'unknown', True, '127.0.0.1', 'Python/3.11 aiohttp/3.11.10', datetime.datetime(2025, 1, 13, 9, 14, 42, 530184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 16, 1, 523684, tzinfo=datetime.timezone.utc), 2)
2025-01-13 17:17:18 - root - WARNING - 

    "更新现有设备: Python/3.11 aiohttp/3.11.10 (127.0.0.1), ID: 82650354-f2e5-4cb4-86db-617229360dc6"   2025-01-13 17:17:18----code_context : lprint(f"更新现有设备: {device_name}, ID: {device_id}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:185, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - UPDATE devices SET last_seen=$1::TIMESTAMP WITH TIME ZONE, login_count=$2::INTEGER WHERE devices.id = $3::INTEGER
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] (datetime.datetime(2025, 1, 13, 17, 17, 18, 308184, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 3, 1)
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:17:18 - root - WARNING - 

    "用户登录成功: system01, IP: 127.0.0.1, 设备ID: 82650354-f2e5-4cb4-86db-617229360dc6, 设备名称: Python/3.11 aiohttp/3.11.10 (127.0.0.1), 设备类型: unknown"   2025-01-13 17:17:18----code_context : lprint(f"用户登录成功: {user.username}, IP: {client_host}, 设备ID: {device_id}, 设备名称: {device_name}, 设备类型: {device_type}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:211, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:17:18 - engineio.server - INFO - VRFL1oSjXLHQWG5_AAAA: Sending packet OPEN data {'sid': 'VRFL1oSjXLHQWG5_AAAA', 'upgrades': [], 'pingTimeout': 20000, 'pingInterval': 25000}
2025-01-13 17:17:18 - engineio.server - INFO - VRFL1oSjXLHQWG5_AAAA: Received request to upgrade to websocket
2025-01-13 17:17:18 - engineio.server - INFO - VRFL1oSjXLHQWG5_AAAA: Upgrade to websocket successful
2025-01-13 17:17:18 - engineio.server - INFO - VRFL1oSjXLHQWG5_AAAA: Received packet MESSAGE data 0{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MDczOH0.cTiMB_6HDqnQg1HVVEpSjBD0T0Ul_F39SDBttwWT3eI"
}
2025-01-13 17:17:18 - root - WARNING - 

    "收到客户端连接请求: nXsl0D5X2VCaN0FWAAAB"   2025-01-13 17:17:18----code_context : lprint(f"收到客户端连接请求: {sid}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:328, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:17:18 - root - WARNING - 

    "验证令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:17:18----code_context : lprint(f"验证令牌: {token[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:104, -fn: authenticate_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:340, ->code_context:->user = await authenticate_token(token)->fn:connect
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - [cached since 0.1374s ago] ('system01',)
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:17:18 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:17:18 - root - WARNING - 

    "连接处理错误: ConnectionManager.connect() missing 1 required positional argument: 'client_ip'"   2025-01-13 17:17:18----code_context : lprint(f"连接处理错误: {str(e)}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:359, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:17:18 - root - WARNING - 

    "Traceback (most recent call last):
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\app\\main.py\", line 353, in connect
    await manager.connect(user.username, sid)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ConnectionManager.connect() missing 1 required positional argument: 'client_ip'
"   2025-01-13 17:17:18----code_context : lprint(traceback.format_exc()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:360, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:17:18 - socketio.server - INFO - emitting event "error" to nXsl0D5X2VCaN0FWAAAB [/]
2025-01-13 17:17:18 - engineio.server - INFO - VRFL1oSjXLHQWG5_AAAA: Sending packet MESSAGE data 2[
  "error",
  {
    "message": "Internal server error"
  }
]
2025-01-13 17:17:18 - engineio.server - INFO - VRFL1oSjXLHQWG5_AAAA: Sending packet MESSAGE data 4{
  "message": "Connection rejected by server"
}
2025-01-13 17:17:52 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:17:52----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:17:52 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:17:52----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:17:52 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:17:52----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:17:52 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:17:52----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:17:53 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:17:53 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:17:53 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:17:53 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:17:53----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:17:53 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:17:53 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:17:53----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:17:53 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:17:53----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:17:53 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:17:53 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:17:53----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:17:53 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:17:53----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:28, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:25, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_name with data[0:8]
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_data with data[9:17]
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_name with data[18:26]
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_data with data[27:30]
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_name with data[31:41]
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_data with data[42:50]
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_name with data[51:56]
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_name with data[58:67]
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_name with data[69:82]
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:18:01 - multipart.multipart - DEBUG - Calling on_end with no data
2025-01-13 17:18:01 - root - WARNING - 

    "收到登录请求 - 用户名: system01, 客户端IP: 127.0.0.1"   2025-01-13 17:18:01----code_context : lprint(f"收到登录请求 - 用户名: {form_data.username}, 客户端IP: {request.client.host}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:136, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:18:01 - root - WARNING - 

    "请求头: {'host': '127.0.0.1:1026', 'accept': 'application/json', 'accept-encoding': 'gzip, deflate', 'user-agent': 'Python/3.11 aiohttp/3.11.10', 'content-length': '83', 'content-type': 'application/x-www-form-urlencoded'}"   2025-01-13 17:18:01----code_context : lprint(f"请求头: {dict(request.headers)}", level=logging.DEBUG) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:137, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:18:01 - root - WARNING - 

    "认证用户: system01"   2025-01-13 17:18:01----code_context : lprint(f"认证用户: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:170, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 17.2 on x86_64-windows, compiled by msvc-19.42.34433, 64-bit',)
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - [generated in 0.00111s] ('system01',)
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:18:02 - root - WARNING - 

    "用户验证成功: system01"   2025-01-13 17:18:02----code_context : lprint(f"用户验证成功: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:181, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:18:02 - root - WARNING - 

    "获取密钥: a3f1e5c9d8b4a6e3f2c1d4b5e6f7a8c9d0e1f2a3b4c5d6e7f8g9h0i1j2k3l4m"   2025-01-13 17:18:02----code_context : lprint(f"获取密钥: {SECRET_KEY}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:69, -fn: get_secret_key, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:98, ->code_context:->encoded_jwt = jwt.encode(to_encode, get_secret_key(), algorithm=ALGORITHM)->fn:create_access_token
2025-01-13 17:18:02 - root - WARNING - 

    "创建访问令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:18:02----code_context : lprint(f"创建访问令牌: {encoded_jwt[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:99, -fn: create_access_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:151, ->code_context:->access_token = create_access_token(->fn:login
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - SELECT devices.id, devices.device_id, devices.user_id, devices.device_name, devices.device_type, devices.login_status, devices.ip_address, devices.user_agent, devices.first_login, devices.last_seen, devices.login_count 
FROM devices 
WHERE devices.user_id = $1::INTEGER AND devices.device_name = $2::VARCHAR AND devices.ip_address = $3::VARCHAR
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', '127.0.0.1')
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'device_id', 'user_id', 'device_name', 'device_type', 'login_status', 'ip_address', 'user_agent', 'first_login', 'last_seen', 'login_count')
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - DEBUG - Row (1, '82650354-f2e5-4cb4-86db-617229360dc6', 2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', 'unknown', True, '127.0.0.1', 'Python/3.11 aiohttp/3.11.10', datetime.datetime(2025, 1, 13, 9, 14, 42, 530184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 17, 18, 308184, tzinfo=datetime.timezone.utc), 3)
2025-01-13 17:18:02 - root - WARNING - 

    "更新现有设备: Python/3.11 aiohttp/3.11.10 (127.0.0.1), ID: 82650354-f2e5-4cb4-86db-617229360dc6"   2025-01-13 17:18:02----code_context : lprint(f"更新现有设备: {device_name}, ID: {device_id}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:195, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - UPDATE devices SET last_seen=$1::TIMESTAMP WITH TIME ZONE, login_count=$2::INTEGER WHERE devices.id = $3::INTEGER
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (datetime.datetime(2025, 1, 13, 17, 18, 2, 136683, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 4, 1)
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:18:02 - root - WARNING - 

    "用户登录成功: system01, IP: 127.0.0.1, 设备ID: 82650354-f2e5-4cb4-86db-617229360dc6, 设备名称: Python/3.11 aiohttp/3.11.10 (127.0.0.1), 设备类型: unknown"   2025-01-13 17:18:02----code_context : lprint(f"用户登录成功: {user.username}, IP: {client_host}, 设备ID: {device_id}, 设备名称: {device_name}, 设备类型: {device_type}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:221, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:18:02 - engineio.server - INFO - hjpIYdiVPvvbu-HeAAAA: Sending packet OPEN data {'sid': 'hjpIYdiVPvvbu-HeAAAA', 'upgrades': [], 'pingTimeout': 60000, 'pingInterval': 25000}
2025-01-13 17:18:02 - engineio.server - INFO - hjpIYdiVPvvbu-HeAAAA: Received request to upgrade to websocket
2025-01-13 17:18:02 - engineio.server - INFO - hjpIYdiVPvvbu-HeAAAA: Upgrade to websocket successful
2025-01-13 17:18:02 - engineio.server - INFO - hjpIYdiVPvvbu-HeAAAA: Received packet MESSAGE data 0{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MDc4Mn0.Zo0bI1vQ1-2nUtMIyVc_hBCP-2596zgoyYrc1Ly12O8"
}
2025-01-13 17:18:02 - engineio.server - INFO - hjpIYdiVPvvbu-HeAAAA: Sending packet MESSAGE data 0{
  "sid": "imyS4vZFPdGpO4zmAAAB"
}
2025-01-13 17:18:02 - root - WARNING - 

    "收到客户端连接请求: imyS4vZFPdGpO4zmAAAB"   2025-01-13 17:18:02----code_context : lprint(f"收到客户端连接请求: {sid}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:338, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:18:02 - root - WARNING - 

    "验证令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:18:02----code_context : lprint(f"验证令牌: {token[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:104, -fn: authenticate_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:350, ->code_context:->user = await authenticate_token(token)->fn:connect
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - [cached since 0.1384s ago] ('system01',)
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:18:02 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:18:02 - root - WARNING - 

    "连接处理错误: ConnectionManager.connect() missing 1 required positional argument: 'client_ip'"   2025-01-13 17:18:02----code_context : lprint(f"连接处理错误: {str(e)}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:369, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:18:02 - root - WARNING - 

    "Traceback (most recent call last):
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\app\\main.py\", line 363, in connect
    await manager.connect(user.username, sid)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ConnectionManager.connect() missing 1 required positional argument: 'client_ip'
"   2025-01-13 17:18:02----code_context : lprint(traceback.format_exc()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:370, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:18:02 - socketio.server - INFO - emitting event "error" to imyS4vZFPdGpO4zmAAAB [/]
2025-01-13 17:18:02 - engineio.server - INFO - hjpIYdiVPvvbu-HeAAAA: Sending packet MESSAGE data 2[
  "error",
  {
    "message": "Internal server error"
  }
]
2025-01-13 17:18:02 - engineio.server - INFO - hjpIYdiVPvvbu-HeAAAA: Sending packet MESSAGE data 1{
  "message": "Connection rejected by server"
}
2025-01-13 17:18:30 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:18:30----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:18:30 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:18:30----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:18:30 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:18:30----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:18:30 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:18:30----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:18:31 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:18:31 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:18:31 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:18:31 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:18:31----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:18:31 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:18:31 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:18:31----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:18:31 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:18:31----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:18:31 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:18:31 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:18:31----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:18:31 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:18:31----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:28, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:25, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_name with data[0:8]
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_data with data[9:17]
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_name with data[18:26]
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_data with data[27:30]
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_name with data[31:41]
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_data with data[42:50]
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_name with data[51:56]
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_name with data[58:67]
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_name with data[69:82]
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:18:37 - multipart.multipart - DEBUG - Calling on_end with no data
2025-01-13 17:18:37 - root - WARNING - 

    "收到登录请求 - 用户名: system01, 客户端IP: 127.0.0.1"   2025-01-13 17:18:37----code_context : lprint(f"收到登录请求 - 用户名: {form_data.username}, 客户端IP: {request.client.host}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:136, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:18:37 - root - WARNING - 

    "请求头: {'host': '127.0.0.1:1026', 'accept': 'application/json', 'accept-encoding': 'gzip, deflate', 'user-agent': 'Python/3.11 aiohttp/3.11.10', 'content-length': '83', 'content-type': 'application/x-www-form-urlencoded'}"   2025-01-13 17:18:37----code_context : lprint(f"请求头: {dict(request.headers)}", level=logging.DEBUG) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:137, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:18:37 - root - WARNING - 

    "认证用户: system01"   2025-01-13 17:18:37----code_context : lprint(f"认证用户: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:170, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 17.2 on x86_64-windows, compiled by msvc-19.42.34433, 64-bit',)
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00075s] ('system01',)
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:18:37 - root - WARNING - 

    "用户验证成功: system01"   2025-01-13 17:18:37----code_context : lprint(f"用户验证成功: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:181, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:18:37 - root - WARNING - 

    "获取密钥: a3f1e5c9d8b4a6e3f2c1d4b5e6f7a8c9d0e1f2a3b4c5d6e7f8g9h0i1j2k3l4m"   2025-01-13 17:18:37----code_context : lprint(f"获取密钥: {SECRET_KEY}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:69, -fn: get_secret_key, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:98, ->code_context:->encoded_jwt = jwt.encode(to_encode, get_secret_key(), algorithm=ALGORITHM)->fn:create_access_token
2025-01-13 17:18:37 - root - WARNING - 

    "创建访问令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:18:37----code_context : lprint(f"创建访问令牌: {encoded_jwt[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:99, -fn: create_access_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:151, ->code_context:->access_token = create_access_token(->fn:login
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - SELECT devices.id, devices.device_id, devices.user_id, devices.device_name, devices.device_type, devices.login_status, devices.ip_address, devices.user_agent, devices.first_login, devices.last_seen, devices.login_count 
FROM devices 
WHERE devices.user_id = $1::INTEGER AND devices.device_name = $2::VARCHAR AND devices.ip_address = $3::VARCHAR
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', '127.0.0.1')
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'device_id', 'user_id', 'device_name', 'device_type', 'login_status', 'ip_address', 'user_agent', 'first_login', 'last_seen', 'login_count')
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - DEBUG - Row (1, '82650354-f2e5-4cb4-86db-617229360dc6', 2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', 'unknown', True, '127.0.0.1', 'Python/3.11 aiohttp/3.11.10', datetime.datetime(2025, 1, 13, 9, 14, 42, 530184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 18, 2, 136683, tzinfo=datetime.timezone.utc), 4)
2025-01-13 17:18:37 - root - WARNING - 

    "更新现有设备: Python/3.11 aiohttp/3.11.10 (127.0.0.1), ID: 82650354-f2e5-4cb4-86db-617229360dc6"   2025-01-13 17:18:37----code_context : lprint(f"更新现有设备: {device_name}, ID: {device_id}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:195, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - UPDATE devices SET last_seen=$1::TIMESTAMP WITH TIME ZONE, login_count=$2::INTEGER WHERE devices.id = $3::INTEGER
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] (datetime.datetime(2025, 1, 13, 17, 18, 37, 683683, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 5, 1)
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:18:37 - root - WARNING - 

    "用户登录成功: system01, IP: 127.0.0.1, 设备ID: 82650354-f2e5-4cb4-86db-617229360dc6, 设备名称: Python/3.11 aiohttp/3.11.10 (127.0.0.1), 设备类型: unknown"   2025-01-13 17:18:37----code_context : lprint(f"用户登录成功: {user.username}, IP: {client_host}, 设备ID: {device_id}, 设备名称: {device_name}, 设备类型: {device_type}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:221, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:18:37 - engineio.server - INFO - bAQoeVw-d73HFFnCAAAA: Sending packet OPEN data {'sid': 'bAQoeVw-d73HFFnCAAAA', 'upgrades': [], 'pingTimeout': 60000, 'pingInterval': 25000}
2025-01-13 17:18:37 - engineio.server - INFO - bAQoeVw-d73HFFnCAAAA: Received request to upgrade to websocket
2025-01-13 17:18:37 - engineio.server - INFO - bAQoeVw-d73HFFnCAAAA: Upgrade to websocket successful
2025-01-13 17:18:37 - engineio.server - INFO - bAQoeVw-d73HFFnCAAAA: Received packet MESSAGE data 0{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MDgxN30.jcEtQOHthrljvKwIdv3OYNjdEUT6pfVpZKl6-r_11H0"
}
2025-01-13 17:18:37 - engineio.server - INFO - bAQoeVw-d73HFFnCAAAA: Sending packet MESSAGE data 0{
  "sid": "tnJuSv1dpjaHvRA4AAAB"
}
2025-01-13 17:18:37 - root - WARNING - 

    "收到连接请求: sid=tnJuSv1dpjaHvRA4AAAB, auth={'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MDgxN30.jcEtQOHthrljvKwIdv3OYNjdEUT6pfVpZKl6-r_11H0'}"   2025-01-13 17:18:37----code_context : lprint(f"收到连接请求: sid={sid}, auth={auth}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:338, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:18:37 - root - WARNING - 

    "验证 token: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:18:37----code_context : lprint(f"验证 token: {token[:20]}...") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:350, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:18:37 - root - WARNING - 

    "验证令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:18:37----code_context : lprint(f"验证令牌: {token[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:104, -fn: authenticate_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:351, ->code_context:->user = await authenticate_token(token)->fn:connect
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - [cached since 0.132s ago] ('system01',)
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:18:37 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:18:37 - root - WARNING - 

    "用户 system01 连接成功"   2025-01-13 17:18:37----code_context : lprint(f"用户 {user.username} 连接成功") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:358, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:18:37 - root - WARNING - 

    "连接处理错误: 'ConnectionManager' object has no attribute 'add_connection'"   2025-01-13 17:18:37----code_context : lprint(f"连接处理错误: {str(e)}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:375, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:18:37 - root - WARNING - 

    "Traceback (most recent call last):
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\app\\main.py\", line 359, in connect
    manager.add_connection(user.username, sid, device_id)
    ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ConnectionManager' object has no attribute 'add_connection'
"   2025-01-13 17:18:37----code_context : lprint(traceback.format_exc()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:376, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:18:37 - socketio.server - INFO - emitting event "error" to tnJuSv1dpjaHvRA4AAAB [/]
2025-01-13 17:18:37 - engineio.server - INFO - bAQoeVw-d73HFFnCAAAA: Sending packet MESSAGE data 2[
  "error",
  {
    "message": "Internal server error"
  }
]
2025-01-13 17:18:37 - engineio.server - INFO - bAQoeVw-d73HFFnCAAAA: Sending packet MESSAGE data 1{
  "message": "Connection rejected by server"
}
2025-01-13 17:19:55 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:19:55----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:19:55 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:19:55----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:19:55 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:19:55----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:19:55 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:19:55----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:19:56 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:19:56 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:19:56 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:19:56 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:19:56----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:19:56 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:19:56 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:19:56----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:19:56 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:19:56----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:19:56 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:19:56 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:19:56----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:19:56 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:19:56----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:28, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:25, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_name with data[0:8]
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_data with data[9:17]
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_name with data[18:26]
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_data with data[27:30]
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_name with data[31:41]
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_data with data[42:50]
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_name with data[51:56]
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_name with data[58:67]
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_name with data[69:82]
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:20:01 - multipart.multipart - DEBUG - Calling on_end with no data
2025-01-13 17:20:01 - root - WARNING - 

    "收到登录请求 - 用户名: system01, 客户端IP: 127.0.0.1"   2025-01-13 17:20:01----code_context : lprint(f"收到登录请求 - 用户名: {form_data.username}, 客户端IP: {request.client.host}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:136, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:20:01 - root - WARNING - 

    "请求头: {'host': '127.0.0.1:1026', 'accept': 'application/json', 'accept-encoding': 'gzip, deflate', 'user-agent': 'Python/3.11 aiohttp/3.11.10', 'content-length': '83', 'content-type': 'application/x-www-form-urlencoded'}"   2025-01-13 17:20:01----code_context : lprint(f"请求头: {dict(request.headers)}", level=logging.DEBUG) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:137, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:20:01 - root - WARNING - 

    "认证用户: system01"   2025-01-13 17:20:01----code_context : lprint(f"认证用户: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:170, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 17.2 on x86_64-windows, compiled by msvc-19.42.34433, 64-bit',)
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] ('system01',)
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:20:01 - root - WARNING - 

    "用户验证成功: system01"   2025-01-13 17:20:01----code_context : lprint(f"用户验证成功: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:181, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:20:01 - root - WARNING - 

    "获取密钥: a3f1e5c9d8b4a6e3f2c1d4b5e6f7a8c9d0e1f2a3b4c5d6e7f8g9h0i1j2k3l4m"   2025-01-13 17:20:01----code_context : lprint(f"获取密钥: {SECRET_KEY}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:69, -fn: get_secret_key, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:98, ->code_context:->encoded_jwt = jwt.encode(to_encode, get_secret_key(), algorithm=ALGORITHM)->fn:create_access_token
2025-01-13 17:20:01 - root - WARNING - 

    "创建访问令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:20:01----code_context : lprint(f"创建访问令牌: {encoded_jwt[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:99, -fn: create_access_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:151, ->code_context:->access_token = create_access_token(->fn:login
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - SELECT devices.id, devices.device_id, devices.user_id, devices.device_name, devices.device_type, devices.login_status, devices.ip_address, devices.user_agent, devices.first_login, devices.last_seen, devices.login_count 
FROM devices 
WHERE devices.user_id = $1::INTEGER AND devices.device_name = $2::VARCHAR AND devices.ip_address = $3::VARCHAR
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] (2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', '127.0.0.1')
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'device_id', 'user_id', 'device_name', 'device_type', 'login_status', 'ip_address', 'user_agent', 'first_login', 'last_seen', 'login_count')
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - DEBUG - Row (1, '82650354-f2e5-4cb4-86db-617229360dc6', 2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', 'unknown', True, '127.0.0.1', 'Python/3.11 aiohttp/3.11.10', datetime.datetime(2025, 1, 13, 9, 14, 42, 530184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 18, 37, 683683, tzinfo=datetime.timezone.utc), 5)
2025-01-13 17:20:01 - root - WARNING - 

    "更新现有设备: Python/3.11 aiohttp/3.11.10 (127.0.0.1), ID: 82650354-f2e5-4cb4-86db-617229360dc6"   2025-01-13 17:20:01----code_context : lprint(f"更新现有设备: {device_name}, ID: {device_id}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:195, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - UPDATE devices SET last_seen=$1::TIMESTAMP WITH TIME ZONE, login_count=$2::INTEGER WHERE devices.id = $3::INTEGER
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (datetime.datetime(2025, 1, 13, 17, 20, 1, 679183, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 6, 1)
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:20:01 - root - WARNING - 

    "用户登录成功: system01, IP: 127.0.0.1, 设备ID: 82650354-f2e5-4cb4-86db-617229360dc6, 设备名称: Python/3.11 aiohttp/3.11.10 (127.0.0.1), 设备类型: unknown"   2025-01-13 17:20:01----code_context : lprint(f"用户登录成功: {user.username}, IP: {client_host}, 设备ID: {device_id}, 设备名称: {device_name}, 设备类型: {device_type}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:221, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:20:01 - engineio.server - INFO - 8DYAgO5ZjbUuxOQ9AAAA: Sending packet OPEN data {'sid': '8DYAgO5ZjbUuxOQ9AAAA', 'upgrades': [], 'pingTimeout': 60000, 'pingInterval': 25000}
2025-01-13 17:20:01 - engineio.server - INFO - 8DYAgO5ZjbUuxOQ9AAAA: Received request to upgrade to websocket
2025-01-13 17:20:01 - engineio.server - INFO - 8DYAgO5ZjbUuxOQ9AAAA: Upgrade to websocket successful
2025-01-13 17:20:01 - engineio.server - INFO - 8DYAgO5ZjbUuxOQ9AAAA: Received packet MESSAGE data 0{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MDkwMX0.9jExRTktHoQnoiyIb6aMCJhrLvuLmB9Sy8mFHucXS9o"
}
2025-01-13 17:20:01 - engineio.server - INFO - 8DYAgO5ZjbUuxOQ9AAAA: Sending packet MESSAGE data 0{
  "sid": "LoujHUi1HdAPpzYlAAAB"
}
2025-01-13 17:20:01 - root - WARNING - 

    "收到连接请求: sid=LoujHUi1HdAPpzYlAAAB, auth={'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MDkwMX0.9jExRTktHoQnoiyIb6aMCJhrLvuLmB9Sy8mFHucXS9o'}"   2025-01-13 17:20:01----code_context : lprint(f"收到连接请求: sid={sid}, auth={auth}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:338, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:20:01 - root - WARNING - 

    "验证 token: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:20:01----code_context : lprint(f"验证 token: {token[:20]}...") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:350, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:20:01 - root - WARNING - 

    "验证令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:20:01----code_context : lprint(f"验证令牌: {token[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:104, -fn: authenticate_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:351, ->code_context:->user = await authenticate_token(token)->fn:connect
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - [cached since 0.1245s ago] ('system01',)
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:20:01 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:20:01 - root - WARNING - 

    "用户 system01 连接成功"   2025-01-13 17:20:01----code_context : lprint(f"用户 {user.username} 连接成功") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:358, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:20:01 - socketio.server - INFO - emitting event "connect_success" to LoujHUi1HdAPpzYlAAAB [/]
2025-01-13 17:20:01 - engineio.server - INFO - 8DYAgO5ZjbUuxOQ9AAAA: Sending packet MESSAGE data 2[
  "connect_success",
  {
    "message": "Welcome system01!",
    "sid": "LoujHUi1HdAPpzYlAAAB"
  }
]
2025-01-13 17:20:01 - socketio.server - INFO - emitting event "user_connected" to all [/]
2025-01-13 17:20:02 - engineio.server - INFO - 8DYAgO5ZjbUuxOQ9AAAA: Received packet MESSAGE data 2[
  "message",
  {
    "content": "这是一条测试消息",
    "recipient": "1",
    "recipient_type": "group",
    "timestamp": "2025-01-13T17:20:02.762184+08:00"
  }
]
2025-01-13 17:20:02 - socketio.server - INFO - received event "message" from LoujHUi1HdAPpzYlAAAB [/]
2025-01-13 17:20:02 - root - WARNING - 

    "统一的消息处理入口收到消息类型: <class 'dict'>, 数据: {'content': '这是一条测试消息', 'recipient': '1', 'recipient_type': 'group', 'timestamp': '2025-01-13T17:20:02.762184+08:00'}"   2025-01-13 17:20:02----code_context : lprint(f"统一的消息处理入口收到消息类型: {type(data)}, 数据: {data}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:101, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:20:02 - root - WARNING - 

    "Traceback (most recent call last):
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\app\\core\\message_handlers.py\", line 118, in handle_message
    message.recipient_type = 'private'
    ^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\LUGWIT~1\\LUGWIT~1\\python_env\\Lib\\site-packages\\sqlmodel\\main.py\", line 824, in __setattr__
    super().__setattr__(name, value)
  File \"D:\\TD_Depot\\Software\\LUGWIT~1\\LUGWIT~1\\python_env\\Lib\\site-packages\\pydantic\\main.py\", line 884, in __setattr__
    raise ValueError(f'\"{self.__class__.__name__}\" object has no field \"{name}\"')
ValueError: \"MessageBase\" object has no field \"recipient_type\"
"   2025-01-13 17:20:02----code_context : lprint(traceback.format_exc(), popui=False) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:137, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:22:01 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:22:01----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:22:01 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:22:01----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:22:01 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:22:01----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:22:01 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:22:01----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:22:02 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:22:02 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:22:02 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:22:02 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:22:02----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:22:02 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:22:02 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:22:02----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:22:02 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:22:02----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:22:02 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:22:02 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:22:02----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:22:02 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:22:02----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:28, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:25, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_name with data[0:8]
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_data with data[9:17]
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_name with data[18:26]
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_data with data[27:30]
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_name with data[31:41]
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_data with data[42:50]
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_name with data[51:56]
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_name with data[58:67]
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_name with data[69:82]
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:22:09 - multipart.multipart - DEBUG - Calling on_end with no data
2025-01-13 17:22:09 - root - WARNING - 

    "收到登录请求 - 用户名: system01, 客户端IP: 127.0.0.1"   2025-01-13 17:22:09----code_context : lprint(f"收到登录请求 - 用户名: {form_data.username}, 客户端IP: {request.client.host}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:136, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:22:09 - root - WARNING - 

    "请求头: {'host': '127.0.0.1:1026', 'accept': 'application/json', 'accept-encoding': 'gzip, deflate', 'user-agent': 'Python/3.11 aiohttp/3.11.10', 'content-length': '83', 'content-type': 'application/x-www-form-urlencoded'}"   2025-01-13 17:22:09----code_context : lprint(f"请求头: {dict(request.headers)}", level=logging.DEBUG) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:137, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:22:09 - root - WARNING - 

    "认证用户: system01"   2025-01-13 17:22:09----code_context : lprint(f"认证用户: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:170, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 17.2 on x86_64-windows, compiled by msvc-19.42.34433, 64-bit',)
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] ('system01',)
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:22:09 - root - WARNING - 

    "用户验证成功: system01"   2025-01-13 17:22:09----code_context : lprint(f"用户验证成功: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:181, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:22:09 - root - WARNING - 

    "获取密钥: a3f1e5c9d8b4a6e3f2c1d4b5e6f7a8c9d0e1f2a3b4c5d6e7f8g9h0i1j2k3l4m"   2025-01-13 17:22:09----code_context : lprint(f"获取密钥: {SECRET_KEY}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:69, -fn: get_secret_key, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:98, ->code_context:->encoded_jwt = jwt.encode(to_encode, get_secret_key(), algorithm=ALGORITHM)->fn:create_access_token
2025-01-13 17:22:09 - root - WARNING - 

    "创建访问令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:22:09----code_context : lprint(f"创建访问令牌: {encoded_jwt[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:99, -fn: create_access_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:151, ->code_context:->access_token = create_access_token(->fn:login
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - SELECT devices.id, devices.device_id, devices.user_id, devices.device_name, devices.device_type, devices.login_status, devices.ip_address, devices.user_agent, devices.first_login, devices.last_seen, devices.login_count 
FROM devices 
WHERE devices.user_id = $1::INTEGER AND devices.device_name = $2::VARCHAR AND devices.ip_address = $3::VARCHAR
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] (2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', '127.0.0.1')
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'device_id', 'user_id', 'device_name', 'device_type', 'login_status', 'ip_address', 'user_agent', 'first_login', 'last_seen', 'login_count')
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - DEBUG - Row (1, '82650354-f2e5-4cb4-86db-617229360dc6', 2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', 'unknown', True, '127.0.0.1', 'Python/3.11 aiohttp/3.11.10', datetime.datetime(2025, 1, 13, 9, 14, 42, 530184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 20, 1, 679183, tzinfo=datetime.timezone.utc), 6)
2025-01-13 17:22:09 - root - WARNING - 

    "更新现有设备: Python/3.11 aiohttp/3.11.10 (127.0.0.1), ID: 82650354-f2e5-4cb4-86db-617229360dc6"   2025-01-13 17:22:09----code_context : lprint(f"更新现有设备: {device_name}, ID: {device_id}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:195, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - UPDATE devices SET last_seen=$1::TIMESTAMP WITH TIME ZONE, login_count=$2::INTEGER WHERE devices.id = $3::INTEGER
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] (datetime.datetime(2025, 1, 13, 17, 22, 9, 299187, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 7, 1)
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:22:09 - root - WARNING - 

    "用户登录成功: system01, IP: 127.0.0.1, 设备ID: 82650354-f2e5-4cb4-86db-617229360dc6, 设备名称: Python/3.11 aiohttp/3.11.10 (127.0.0.1), 设备类型: unknown"   2025-01-13 17:22:09----code_context : lprint(f"用户登录成功: {user.username}, IP: {client_host}, 设备ID: {device_id}, 设备名称: {device_name}, 设备类型: {device_type}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:221, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:22:09 - engineio.server - INFO - MKgoVK5uX6CE8pu_AAAA: Sending packet OPEN data {'sid': 'MKgoVK5uX6CE8pu_AAAA', 'upgrades': [], 'pingTimeout': 60000, 'pingInterval': 25000}
2025-01-13 17:22:09 - engineio.server - INFO - MKgoVK5uX6CE8pu_AAAA: Received request to upgrade to websocket
2025-01-13 17:22:09 - engineio.server - INFO - MKgoVK5uX6CE8pu_AAAA: Upgrade to websocket successful
2025-01-13 17:22:09 - engineio.server - INFO - MKgoVK5uX6CE8pu_AAAA: Received packet MESSAGE data 0{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MTAyOX0.uta3kqmkDm07MoIY5k07s6SbiXttbcfpQa_h42ApfYk"
}
2025-01-13 17:22:09 - engineio.server - INFO - MKgoVK5uX6CE8pu_AAAA: Sending packet MESSAGE data 0{
  "sid": "zgh73DbkP_oNiIlBAAAB"
}
2025-01-13 17:22:09 - root - WARNING - 

    "收到连接请求: sid=zgh73DbkP_oNiIlBAAAB, auth={'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MTAyOX0.uta3kqmkDm07MoIY5k07s6SbiXttbcfpQa_h42ApfYk'}"   2025-01-13 17:22:09----code_context : lprint(f"收到连接请求: sid={sid}, auth={auth}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:338, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:22:09 - root - WARNING - 

    "验证 token: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:22:09----code_context : lprint(f"验证 token: {token[:20]}...") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:350, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:22:09 - root - WARNING - 

    "验证令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:22:09----code_context : lprint(f"验证令牌: {token[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:104, -fn: authenticate_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:351, ->code_context:->user = await authenticate_token(token)->fn:connect
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - [cached since 0.1387s ago] ('system01',)
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:22:09 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:22:09 - root - WARNING - 

    "用户 system01 连接成功"   2025-01-13 17:22:09----code_context : lprint(f"用户 {user.username} 连接成功") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:358, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:22:09 - socketio.server - INFO - emitting event "connect_success" to zgh73DbkP_oNiIlBAAAB [/]
2025-01-13 17:22:09 - engineio.server - INFO - MKgoVK5uX6CE8pu_AAAA: Sending packet MESSAGE data 2[
  "connect_success",
  {
    "message": "Welcome system01!",
    "sid": "zgh73DbkP_oNiIlBAAAB"
  }
]
2025-01-13 17:22:09 - socketio.server - INFO - emitting event "user_connected" to all [/]
2025-01-13 17:22:10 - engineio.server - INFO - MKgoVK5uX6CE8pu_AAAA: Received packet MESSAGE data 2[
  "message",
  {
    "content": "这是一条测试消息",
    "recipient": "1",
    "recipient_type": "group",
    "timestamp": "2025-01-13T17:22:10.401183+08:00"
  }
]
2025-01-13 17:22:10 - socketio.server - INFO - received event "message" from zgh73DbkP_oNiIlBAAAB [/]
2025-01-13 17:22:10 - root - WARNING - 

    "统一的消息处理入口收到消息类型: <class 'dict'>, 数据: {'content': '这是一条测试消息', 'recipient': '1', 'recipient_type': 'group', 'timestamp': '2025-01-13T17:22:10.401183+08:00'}"   2025-01-13 17:22:10----code_context : lprint(f"统一的消息处理入口收到消息类型: {type(data)}, 数据: {data}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:101, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:22:10 - root - WARNING - 

    "Traceback (most recent call last):
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\app\\core\\message_handlers.py\", line 118, in handle_message
    message_from_database = await database.insert_message(message)
                                  ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.db.database' has no attribute 'insert_message'
"   2025-01-13 17:22:10----code_context : lprint(traceback.format_exc(), popui=False) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:136, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_name with data[0:8]
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_data with data[9:17]
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_name with data[18:26]
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_data with data[27:30]
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_name with data[31:41]
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_data with data[42:50]
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_name with data[51:56]
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_name with data[58:67]
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_name with data[69:82]
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:22:37 - multipart.multipart - DEBUG - Calling on_end with no data
2025-01-13 17:22:37 - root - WARNING - 

    "收到登录请求 - 用户名: system01, 客户端IP: 127.0.0.1"   2025-01-13 17:22:37----code_context : lprint(f"收到登录请求 - 用户名: {form_data.username}, 客户端IP: {request.client.host}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:136, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:22:37 - root - WARNING - 

    "请求头: {'host': '127.0.0.1:1026', 'accept': 'application/json', 'accept-encoding': 'gzip, deflate', 'user-agent': 'Python/3.11 aiohttp/3.11.10', 'content-length': '83', 'content-type': 'application/x-www-form-urlencoded'}"   2025-01-13 17:22:37----code_context : lprint(f"请求头: {dict(request.headers)}", level=logging.DEBUG) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:137, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:22:37 - root - WARNING - 

    "认证用户: system01"   2025-01-13 17:22:37----code_context : lprint(f"认证用户: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:170, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:22:37 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:22:37 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:22:37 - sqlalchemy.engine.Engine - INFO - [cached since 28.17s ago] ('system01',)
2025-01-13 17:22:37 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:22:37 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:22:37 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:22:37 - root - WARNING - 

    "用户验证成功: system01"   2025-01-13 17:22:37----code_context : lprint(f"用户验证成功: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:181, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:22:37 - root - WARNING - 

    "获取密钥: a3f1e5c9d8b4a6e3f2c1d4b5e6f7a8c9d0e1f2a3b4c5d6e7f8g9h0i1j2k3l4m"   2025-01-13 17:22:37----code_context : lprint(f"获取密钥: {SECRET_KEY}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:69, -fn: get_secret_key, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:98, ->code_context:->encoded_jwt = jwt.encode(to_encode, get_secret_key(), algorithm=ALGORITHM)->fn:create_access_token
2025-01-13 17:22:37 - root - WARNING - 

    "创建访问令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:22:37----code_context : lprint(f"创建访问令牌: {encoded_jwt[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:99, -fn: create_access_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:151, ->code_context:->access_token = create_access_token(->fn:login
2025-01-13 17:22:37 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:22:37 - sqlalchemy.engine.Engine - INFO - SELECT devices.id, devices.device_id, devices.user_id, devices.device_name, devices.device_type, devices.login_status, devices.ip_address, devices.user_agent, devices.first_login, devices.last_seen, devices.login_count 
FROM devices 
WHERE devices.user_id = $1::INTEGER AND devices.device_name = $2::VARCHAR AND devices.ip_address = $3::VARCHAR
2025-01-13 17:22:37 - sqlalchemy.engine.Engine - INFO - [cached since 28.14s ago] (2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', '127.0.0.1')
2025-01-13 17:22:37 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'device_id', 'user_id', 'device_name', 'device_type', 'login_status', 'ip_address', 'user_agent', 'first_login', 'last_seen', 'login_count')
2025-01-13 17:22:37 - sqlalchemy.engine.Engine - DEBUG - Row (1, '82650354-f2e5-4cb4-86db-617229360dc6', 2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', 'unknown', True, '127.0.0.1', 'Python/3.11 aiohttp/3.11.10', datetime.datetime(2025, 1, 13, 9, 14, 42, 530184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 22, 9, 299187, tzinfo=datetime.timezone.utc), 7)
2025-01-13 17:22:37 - root - WARNING - 

    "更新现有设备: Python/3.11 aiohttp/3.11.10 (127.0.0.1), ID: 82650354-f2e5-4cb4-86db-617229360dc6"   2025-01-13 17:22:37----code_context : lprint(f"更新现有设备: {device_name}, ID: {device_id}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:195, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:22:37 - sqlalchemy.engine.Engine - INFO - UPDATE devices SET last_seen=$1::TIMESTAMP WITH TIME ZONE, login_count=$2::INTEGER WHERE devices.id = $3::INTEGER
2025-01-13 17:22:37 - sqlalchemy.engine.Engine - INFO - [cached since 28.14s ago] (datetime.datetime(2025, 1, 13, 17, 22, 37, 443184, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 8, 1)
2025-01-13 17:22:37 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:22:37 - root - WARNING - 

    "用户登录成功: system01, IP: 127.0.0.1, 设备ID: 82650354-f2e5-4cb4-86db-617229360dc6, 设备名称: Python/3.11 aiohttp/3.11.10 (127.0.0.1), 设备类型: unknown"   2025-01-13 17:22:37----code_context : lprint(f"用户登录成功: {user.username}, IP: {client_host}, 设备ID: {device_id}, 设备名称: {device_name}, 设备类型: {device_type}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:221, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:22:37 - engineio.server - INFO - ZoXdJXTWB0OBqyu4AAAC: Sending packet OPEN data {'sid': 'ZoXdJXTWB0OBqyu4AAAC', 'upgrades': [], 'pingTimeout': 60000, 'pingInterval': 25000}
2025-01-13 17:22:37 - engineio.server - INFO - ZoXdJXTWB0OBqyu4AAAC: Received request to upgrade to websocket
2025-01-13 17:22:37 - engineio.server - INFO - ZoXdJXTWB0OBqyu4AAAC: Upgrade to websocket successful
2025-01-13 17:22:37 - engineio.server - INFO - ZoXdJXTWB0OBqyu4AAAC: Received packet MESSAGE data 0{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MTA1N30.e-uqWaf3fWn1f_Co3G44v80mQSP2HgYkgpUEmMmKoKk"
}
2025-01-13 17:22:37 - engineio.server - INFO - ZoXdJXTWB0OBqyu4AAAC: Sending packet MESSAGE data 0{
  "sid": "rWgSx7qYKs_aRedMAAAD"
}
2025-01-13 17:22:37 - root - WARNING - 

    "收到连接请求: sid=rWgSx7qYKs_aRedMAAAD, auth={'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MTA1N30.e-uqWaf3fWn1f_Co3G44v80mQSP2HgYkgpUEmMmKoKk'}"   2025-01-13 17:22:37----code_context : lprint(f"收到连接请求: sid={sid}, auth={auth}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:338, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:22:37 - root - WARNING - 

    "验证 token: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:22:37----code_context : lprint(f"验证 token: {token[:20]}...") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:350, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:22:37 - root - WARNING - 

    "验证令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:22:37----code_context : lprint(f"验证令牌: {token[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:104, -fn: authenticate_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:351, ->code_context:->user = await authenticate_token(token)->fn:connect
2025-01-13 17:22:37 - root - WARNING - 

    "用户 system01 连接成功"   2025-01-13 17:22:37----code_context : lprint(f"用户 {user.username} 连接成功") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:358, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:22:37 - socketio.server - INFO - emitting event "connect_success" to rWgSx7qYKs_aRedMAAAD [/]
2025-01-13 17:22:37 - engineio.server - INFO - ZoXdJXTWB0OBqyu4AAAC: Sending packet MESSAGE data 2[
  "connect_success",
  {
    "message": "Welcome system01!",
    "sid": "rWgSx7qYKs_aRedMAAAD"
  }
]
2025-01-13 17:22:37 - socketio.server - INFO - emitting event "user_connected" to all [/]
2025-01-13 17:22:38 - engineio.server - INFO - ZoXdJXTWB0OBqyu4AAAC: Received packet MESSAGE data 2[
  "message",
  {
    "content": "这是一条测试消息",
    "recipient": "1",
    "message_type": "group_chat",
    "timestamp": "2025-01-13T17:22:38.550183+08:00"
  }
]
2025-01-13 17:22:38 - socketio.server - INFO - received event "message" from rWgSx7qYKs_aRedMAAAD [/]
2025-01-13 17:22:38 - root - WARNING - 

    "统一的消息处理入口收到消息类型: <class 'dict'>, 数据: {'content': '这是一条测试消息', 'recipient': '1', 'message_type': 'group_chat', 'timestamp': '2025-01-13T17:22:38.550183+08:00'}"   2025-01-13 17:22:38----code_context : lprint(f"统一的消息处理入口收到消息类型: {type(data)}, 数据: {data}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:101, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:22:38 - root - WARNING - 

    "Traceback (most recent call last):
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\app\\core\\message_handlers.py\", line 118, in handle_message
    message_from_database = await database.insert_message(message)
                                  ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.db.database' has no attribute 'insert_message'
"   2025-01-13 17:22:38----code_context : lprint(traceback.format_exc(), popui=False) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:136, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:29:55 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:29:55----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:29:55 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:29:55----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:29:55 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:29:55----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:29:55 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:29:55----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:29:56 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:29:56 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:29:56 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:29:56 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:29:56----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:29:56 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:29:56 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:29:56----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:29:56 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:29:56----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:29:56 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:29:56 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:29:56----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:29:56 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:29:56----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_name with data[0:8]
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_data with data[9:17]
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_name with data[18:26]
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_data with data[27:30]
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_name with data[31:41]
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_data with data[42:50]
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_name with data[51:56]
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_name with data[58:67]
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_name with data[69:82]
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:30:21 - multipart.multipart - DEBUG - Calling on_end with no data
2025-01-13 17:30:21 - root - WARNING - 

    "收到登录请求 - 用户名: system01, 客户端IP: 127.0.0.1"   2025-01-13 17:30:21----code_context : lprint(f"收到登录请求 - 用户名: {form_data.username}, 客户端IP: {request.client.host}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:136, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:30:21 - root - WARNING - 

    "请求头: {'host': '127.0.0.1:1026', 'accept': 'application/json', 'accept-encoding': 'gzip, deflate', 'user-agent': 'Python/3.11 aiohttp/3.11.10', 'content-length': '83', 'content-type': 'application/x-www-form-urlencoded'}"   2025-01-13 17:30:21----code_context : lprint(f"请求头: {dict(request.headers)}", level=logging.DEBUG) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:137, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:30:21 - root - WARNING - 

    "认证用户: system01"   2025-01-13 17:30:21----code_context : lprint(f"认证用户: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:170, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 17.2 on x86_64-windows, compiled by msvc-19.42.34433, 64-bit',)
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] ('system01',)
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:30:21 - root - WARNING - 

    "用户验证成功: system01"   2025-01-13 17:30:21----code_context : lprint(f"用户验证成功: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:181, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:30:21 - root - WARNING - 

    "获取密钥: a3f1e5c9d8b4a6e3f2c1d4b5e6f7a8c9d0e1f2a3b4c5d6e7f8g9h0i1j2k3l4m"   2025-01-13 17:30:21----code_context : lprint(f"获取密钥: {SECRET_KEY}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:69, -fn: get_secret_key, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:98, ->code_context:->encoded_jwt = jwt.encode(to_encode, get_secret_key(), algorithm=ALGORITHM)->fn:create_access_token
2025-01-13 17:30:21 - root - WARNING - 

    "创建访问令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:30:21----code_context : lprint(f"创建访问令牌: {encoded_jwt[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:99, -fn: create_access_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:151, ->code_context:->access_token = create_access_token(->fn:login
2025-01-13 17:30:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:30:22 - sqlalchemy.engine.Engine - INFO - SELECT devices.id, devices.device_id, devices.user_id, devices.device_name, devices.device_type, devices.login_status, devices.ip_address, devices.user_agent, devices.first_login, devices.last_seen, devices.login_count 
FROM devices 
WHERE devices.user_id = $1::INTEGER AND devices.device_name = $2::VARCHAR AND devices.ip_address = $3::VARCHAR
2025-01-13 17:30:22 - sqlalchemy.engine.Engine - INFO - [generated in 0.00089s] (2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', '127.0.0.1')
2025-01-13 17:30:22 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'device_id', 'user_id', 'device_name', 'device_type', 'login_status', 'ip_address', 'user_agent', 'first_login', 'last_seen', 'login_count')
2025-01-13 17:30:22 - sqlalchemy.engine.Engine - DEBUG - Row (1, '82650354-f2e5-4cb4-86db-617229360dc6', 2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', 'unknown', True, '127.0.0.1', 'Python/3.11 aiohttp/3.11.10', datetime.datetime(2025, 1, 13, 9, 14, 42, 530184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 22, 37, 443184, tzinfo=datetime.timezone.utc), 8)
2025-01-13 17:30:22 - root - WARNING - 

    "更新现有设备: Python/3.11 aiohttp/3.11.10 (127.0.0.1), ID: 82650354-f2e5-4cb4-86db-617229360dc6"   2025-01-13 17:30:22----code_context : lprint(f"更新现有设备: {device_name}, ID: {device_id}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:195, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:30:22 - sqlalchemy.engine.Engine - INFO - UPDATE devices SET last_seen=$1::TIMESTAMP WITH TIME ZONE, login_count=$2::INTEGER WHERE devices.id = $3::INTEGER
2025-01-13 17:30:22 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] (datetime.datetime(2025, 1, 13, 17, 30, 21, 996184, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 9, 1)
2025-01-13 17:30:22 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:30:22 - root - WARNING - 

    "用户登录成功: system01, IP: 127.0.0.1, 设备ID: 82650354-f2e5-4cb4-86db-617229360dc6, 设备名称: Python/3.11 aiohttp/3.11.10 (127.0.0.1), 设备类型: unknown"   2025-01-13 17:30:22----code_context : lprint(f"用户登录成功: {user.username}, IP: {client_host}, 设备ID: {device_id}, 设备名称: {device_name}, 设备类型: {device_type}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:221, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:30:22 - engineio.server - INFO - KeEi1B1aRmn0R87JAAAA: Sending packet OPEN data {'sid': 'KeEi1B1aRmn0R87JAAAA', 'upgrades': [], 'pingTimeout': 60000, 'pingInterval': 25000}
2025-01-13 17:30:22 - engineio.server - INFO - KeEi1B1aRmn0R87JAAAA: Received request to upgrade to websocket
2025-01-13 17:30:22 - engineio.server - INFO - KeEi1B1aRmn0R87JAAAA: Upgrade to websocket successful
2025-01-13 17:30:22 - engineio.server - INFO - KeEi1B1aRmn0R87JAAAA: Received packet MESSAGE data 0{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MTUyMX0.K8c6tNabhu86vi0bAGViUy0RHs_mTLQL_LhD-llQQzU"
}
2025-01-13 17:30:22 - engineio.server - INFO - KeEi1B1aRmn0R87JAAAA: Sending packet MESSAGE data 0{
  "sid": "o_0uig0Iw03zUaK0AAAB"
}
2025-01-13 17:30:22 - root - WARNING - 

    "收到连接请求: sid=o_0uig0Iw03zUaK0AAAB, auth={'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MTUyMX0.K8c6tNabhu86vi0bAGViUy0RHs_mTLQL_LhD-llQQzU'}"   2025-01-13 17:30:22----code_context : lprint(f"收到连接请求: sid={sid}, auth={auth}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:338, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:30:22 - root - WARNING - 

    "验证 token: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:30:22----code_context : lprint(f"验证 token: {token[:20]}...") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:350, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:30:22 - root - WARNING - 

    "验证令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:30:22----code_context : lprint(f"验证令牌: {token[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:104, -fn: authenticate_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:351, ->code_context:->user = await authenticate_token(token)->fn:connect
2025-01-13 17:30:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:30:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:30:22 - sqlalchemy.engine.Engine - INFO - [cached since 0.1392s ago] ('system01',)
2025-01-13 17:30:22 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:30:22 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:30:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:30:22 - root - WARNING - 

    "用户 system01 连接成功"   2025-01-13 17:30:22----code_context : lprint(f"用户 {user.username} 连接成功") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:358, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:30:22 - socketio.server - INFO - emitting event "connect_success" to o_0uig0Iw03zUaK0AAAB [/]
2025-01-13 17:30:22 - engineio.server - INFO - KeEi1B1aRmn0R87JAAAA: Sending packet MESSAGE data 2[
  "connect_success",
  {
    "message": "Welcome system01!",
    "sid": "o_0uig0Iw03zUaK0AAAB"
  }
]
2025-01-13 17:30:22 - socketio.server - INFO - emitting event "user_connected" to all [/]
2025-01-13 17:30:23 - engineio.server - INFO - KeEi1B1aRmn0R87JAAAA: Received packet MESSAGE data 2[
  "message",
  {
    "content": "这是一条群聊测试消息",
    "recipient": "1",
    "message_type": "group_chat",
    "timestamp": "2025-01-13T17:30:23.095683+08:00"
  }
]
2025-01-13 17:30:23 - socketio.server - INFO - received event "message" from o_0uig0Iw03zUaK0AAAB [/]
2025-01-13 17:30:23 - root - WARNING - 

    "统一的消息处理入口收到消息类型: <class 'dict'>, 数据: {'content': '这是一条群聊测试消息', 'recipient': '1', 'message_type': 'group_chat', 'timestamp': '2025-01-13T17:30:23.095683+08:00'}"   2025-01-13 17:30:23----code_context : lprint(f"统一的消息处理入口收到消息类型: {type(data)}, 数据: {data}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:102, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:30:23 - root - WARNING - 

    "Traceback (most recent call last):
  File \"D:\\TD_Depot\\Software\\LUGWIT~1\\LUGWIT~1\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 3462, in add
    state = attributes.instance_state(instance)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\LUGWIT~1\\LUGWIT~1\\python_env\\Lib\\site-packages\\pydantic\\main.py\", line 856, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'MessageBase' object has no attribute '_sa_instance_state'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\app\\core\\message_handlers.py\", line 119, in handle_message
    message_from_database = await insert_message(message)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\app\\db\\message_operations.py\", line 81, in insert_message
    session.add(message)
  File \"D:\\TD_Depot\\Software\\LUGWIT~1\\LUGWIT~1\\python_env\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1152, in add
    return self._proxied.add(instance, _warn=_warn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\LUGWIT~1\\LUGWIT~1\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 3464, in add
    raise exc.UnmappedInstanceError(instance) from err
sqlalchemy.orm.exc.UnmappedInstanceError: Class 'app.db.schemas.MessageBase' is not mapped
"   2025-01-13 17:30:23----code_context : lprint(traceback.format_exc(), popui=False) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:137, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:30:24 - engineio.server - INFO - KeEi1B1aRmn0R87JAAAA: Received packet MESSAGE data 2[
  "message",
  {
    "content": "这是一条私聊测试消息",
    "recipient": null,
    "message_type": "private_chat",
    "timestamp": "2025-01-13T17:30:24.102929+08:00"
  }
]
2025-01-13 17:30:24 - socketio.server - INFO - received event "message" from o_0uig0Iw03zUaK0AAAB [/]
2025-01-13 17:30:24 - root - WARNING - 

    "统一的消息处理入口收到消息类型: <class 'dict'>, 数据: {'content': '这是一条私聊测试消息', 'recipient': None, 'message_type': 'private_chat', 'timestamp': '2025-01-13T17:30:24.102929+08:00'}"   2025-01-13 17:30:24----code_context : lprint(f"统一的消息处理入口收到消息类型: {type(data)}, 数据: {data}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:102, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:30:24 - root - WARNING - 

    "Traceback (most recent call last):
  File \"D:\\TD_Depot\\Software\\LUGWIT~1\\LUGWIT~1\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 3462, in add
    state = attributes.instance_state(instance)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\LUGWIT~1\\LUGWIT~1\\python_env\\Lib\\site-packages\\pydantic\\main.py\", line 856, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'MessageBase' object has no attribute '_sa_instance_state'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\app\\core\\message_handlers.py\", line 119, in handle_message
    message_from_database = await insert_message(message)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\app\\db\\message_operations.py\", line 81, in insert_message
    session.add(message)
  File \"D:\\TD_Depot\\Software\\LUGWIT~1\\LUGWIT~1\\python_env\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1152, in add
    return self._proxied.add(instance, _warn=_warn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\LUGWIT~1\\LUGWIT~1\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 3464, in add
    raise exc.UnmappedInstanceError(instance) from err
sqlalchemy.orm.exc.UnmappedInstanceError: Class 'app.db.schemas.MessageBase' is not mapped
"   2025-01-13 17:30:24----code_context : lprint(traceback.format_exc(), popui=False) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:137, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:31:12 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:31:12----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:31:12 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:31:12----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:31:12 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:31:12----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:31:12 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:31:12----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:31:13 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:31:13 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:31:13 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:31:13 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:31:13----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:31:13 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:31:13 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:31:13----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:31:13 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:31:13----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:31:13 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:31:13 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:31:13----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:31:13 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:31:13----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_name with data[0:8]
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_data with data[9:17]
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_name with data[18:26]
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_data with data[27:30]
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_name with data[31:41]
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_data with data[42:50]
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_name with data[51:56]
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_name with data[58:67]
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_name with data[69:82]
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:31:22 - multipart.multipart - DEBUG - Calling on_end with no data
2025-01-13 17:31:22 - root - WARNING - 

    "收到登录请求 - 用户名: system01, 客户端IP: 127.0.0.1"   2025-01-13 17:31:22----code_context : lprint(f"收到登录请求 - 用户名: {form_data.username}, 客户端IP: {request.client.host}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:136, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:31:22 - root - WARNING - 

    "请求头: {'host': '127.0.0.1:1026', 'accept': 'application/json', 'accept-encoding': 'gzip, deflate', 'user-agent': 'Python/3.11 aiohttp/3.11.10', 'content-length': '83', 'content-type': 'application/x-www-form-urlencoded'}"   2025-01-13 17:31:22----code_context : lprint(f"请求头: {dict(request.headers)}", level=logging.DEBUG) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:137, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:31:22 - root - WARNING - 

    "认证用户: system01"   2025-01-13 17:31:22----code_context : lprint(f"认证用户: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:170, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 17.2 on x86_64-windows, compiled by msvc-19.42.34433, 64-bit',)
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] ('system01',)
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:31:22 - root - WARNING - 

    "用户验证成功: system01"   2025-01-13 17:31:22----code_context : lprint(f"用户验证成功: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:181, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:31:22 - root - WARNING - 

    "获取密钥: a3f1e5c9d8b4a6e3f2c1d4b5e6f7a8c9d0e1f2a3b4c5d6e7f8g9h0i1j2k3l4m"   2025-01-13 17:31:22----code_context : lprint(f"获取密钥: {SECRET_KEY}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:69, -fn: get_secret_key, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:98, ->code_context:->encoded_jwt = jwt.encode(to_encode, get_secret_key(), algorithm=ALGORITHM)->fn:create_access_token
2025-01-13 17:31:22 - root - WARNING - 

    "创建访问令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:31:22----code_context : lprint(f"创建访问令牌: {encoded_jwt[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:99, -fn: create_access_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:151, ->code_context:->access_token = create_access_token(->fn:login
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - SELECT devices.id, devices.device_id, devices.user_id, devices.device_name, devices.device_type, devices.login_status, devices.ip_address, devices.user_agent, devices.first_login, devices.last_seen, devices.login_count 
FROM devices 
WHERE devices.user_id = $1::INTEGER AND devices.device_name = $2::VARCHAR AND devices.ip_address = $3::VARCHAR
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] (2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', '127.0.0.1')
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'device_id', 'user_id', 'device_name', 'device_type', 'login_status', 'ip_address', 'user_agent', 'first_login', 'last_seen', 'login_count')
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - DEBUG - Row (1, '82650354-f2e5-4cb4-86db-617229360dc6', 2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', 'unknown', True, '127.0.0.1', 'Python/3.11 aiohttp/3.11.10', datetime.datetime(2025, 1, 13, 9, 14, 42, 530184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 30, 21, 996184, tzinfo=datetime.timezone.utc), 9)
2025-01-13 17:31:22 - root - WARNING - 

    "更新现有设备: Python/3.11 aiohttp/3.11.10 (127.0.0.1), ID: 82650354-f2e5-4cb4-86db-617229360dc6"   2025-01-13 17:31:22----code_context : lprint(f"更新现有设备: {device_name}, ID: {device_id}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:195, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - UPDATE devices SET last_seen=$1::TIMESTAMP WITH TIME ZONE, login_count=$2::INTEGER WHERE devices.id = $3::INTEGER
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (datetime.datetime(2025, 1, 13, 17, 31, 22, 840183, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 10, 1)
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:31:22 - root - WARNING - 

    "用户登录成功: system01, IP: 127.0.0.1, 设备ID: 82650354-f2e5-4cb4-86db-617229360dc6, 设备名称: Python/3.11 aiohttp/3.11.10 (127.0.0.1), 设备类型: unknown"   2025-01-13 17:31:22----code_context : lprint(f"用户登录成功: {user.username}, IP: {client_host}, 设备ID: {device_id}, 设备名称: {device_name}, 设备类型: {device_type}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:221, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:31:22 - engineio.server - INFO - aJjxR6e97x3m_o9uAAAA: Sending packet OPEN data {'sid': 'aJjxR6e97x3m_o9uAAAA', 'upgrades': [], 'pingTimeout': 60000, 'pingInterval': 25000}
2025-01-13 17:31:22 - engineio.server - INFO - aJjxR6e97x3m_o9uAAAA: Received request to upgrade to websocket
2025-01-13 17:31:22 - engineio.server - INFO - aJjxR6e97x3m_o9uAAAA: Upgrade to websocket successful
2025-01-13 17:31:22 - engineio.server - INFO - aJjxR6e97x3m_o9uAAAA: Received packet MESSAGE data 0{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MTU4Mn0.TpIsKgY2OA9Qw_cuVTp_ahjmA_gA9LOteVFwnydFLYQ"
}
2025-01-13 17:31:22 - engineio.server - INFO - aJjxR6e97x3m_o9uAAAA: Sending packet MESSAGE data 0{
  "sid": "LJR_OIZYbwzX3mgFAAAB"
}
2025-01-13 17:31:22 - root - WARNING - 

    "收到连接请求: sid=LJR_OIZYbwzX3mgFAAAB, auth={'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MTU4Mn0.TpIsKgY2OA9Qw_cuVTp_ahjmA_gA9LOteVFwnydFLYQ'}"   2025-01-13 17:31:22----code_context : lprint(f"收到连接请求: sid={sid}, auth={auth}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:338, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:31:22 - root - WARNING - 

    "验证 token: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:31:22----code_context : lprint(f"验证 token: {token[:20]}...") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:350, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:31:22 - root - WARNING - 

    "验证令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:31:22----code_context : lprint(f"验证令牌: {token[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:104, -fn: authenticate_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:351, ->code_context:->user = await authenticate_token(token)->fn:connect
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - [cached since 0.1305s ago] ('system01',)
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:31:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:31:22 - root - WARNING - 

    "用户 system01 连接成功"   2025-01-13 17:31:22----code_context : lprint(f"用户 {user.username} 连接成功") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:358, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:31:22 - socketio.server - INFO - emitting event "connect_success" to LJR_OIZYbwzX3mgFAAAB [/]
2025-01-13 17:31:22 - engineio.server - INFO - aJjxR6e97x3m_o9uAAAA: Sending packet MESSAGE data 2[
  "connect_success",
  {
    "message": "Welcome system01!",
    "sid": "LJR_OIZYbwzX3mgFAAAB"
  }
]
2025-01-13 17:31:22 - socketio.server - INFO - emitting event "user_connected" to all [/]
2025-01-13 17:31:23 - engineio.server - INFO - aJjxR6e97x3m_o9uAAAA: Received packet MESSAGE data 2[
  "message",
  {
    "content": "这是一条群聊测试消息",
    "recipient": "1",
    "message_type": "group_chat",
    "timestamp": "2025-01-13T17:31:23.957684+08:00"
  }
]
2025-01-13 17:31:23 - socketio.server - INFO - received event "message" from LJR_OIZYbwzX3mgFAAAB [/]
2025-01-13 17:31:23 - root - WARNING - 

    "处理消息时发生错误: 'ConnectionManager' object has no attribute 'get_user_by_sid'"   2025-01-13 17:31:23----code_context : lprint(f"处理消息时发生错误: {str(e)}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:151, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:31:23 - root - WARNING - 

    "Traceback (most recent call last):
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\app\\core\\message_handlers.py\", line 105, in handle_message
    sender = self.connection_manager.get_user_by_sid(sid)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ConnectionManager' object has no attribute 'get_user_by_sid'
"   2025-01-13 17:31:23----code_context : lprint(traceback.format_exc(), popui=False) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:152, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:31:24 - engineio.server - INFO - aJjxR6e97x3m_o9uAAAA: Received packet MESSAGE data 2[
  "message",
  {
    "content": "这是一条私聊测试消息",
    "recipient": "system02",
    "message_type": "private_chat",
    "timestamp": "2025-01-13T17:31:24.964689+08:00"
  }
]
2025-01-13 17:31:24 - socketio.server - INFO - received event "message" from LJR_OIZYbwzX3mgFAAAB [/]
2025-01-13 17:31:24 - root - WARNING - 

    "处理消息时发生错误: 'ConnectionManager' object has no attribute 'get_user_by_sid'"   2025-01-13 17:31:24----code_context : lprint(f"处理消息时发生错误: {str(e)}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:151, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:31:24 - root - WARNING - 

    "Traceback (most recent call last):
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\app\\core\\message_handlers.py\", line 105, in handle_message
    sender = self.connection_manager.get_user_by_sid(sid)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ConnectionManager' object has no attribute 'get_user_by_sid'
"   2025-01-13 17:31:24----code_context : lprint(traceback.format_exc(), popui=False) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:152, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:32:45 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:32:45----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:32:45 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:32:45----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:32:45 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:32:45----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:32:45 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:32:45----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:32:46 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:32:46 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:32:46 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:32:46 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:32:46----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:32:46 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:32:46 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:32:46----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:32:46 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:32:46----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:32:46 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:32:46 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:32:46----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:32:46 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:32:46----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:32:54 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:32:54----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:32:54 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:32:54----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:32:54 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:32:54----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:32:54 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:32:54----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:32:55 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:32:55 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:32:55 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:32:55 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:32:55----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:32:55 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:32:55 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:32:55----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:32:55 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:32:55----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:32:55 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:32:55 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:32:55----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:32:55 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:32:55----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_name with data[0:8]
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_data with data[9:17]
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_name with data[18:26]
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_data with data[27:30]
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_name with data[31:41]
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_data with data[42:50]
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_name with data[51:56]
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_name with data[58:67]
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_name with data[69:82]
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:33:03 - multipart.multipart - DEBUG - Calling on_end with no data
2025-01-13 17:33:03 - root - WARNING - 

    "收到登录请求 - 用户名: system01, 客户端IP: 127.0.0.1"   2025-01-13 17:33:03----code_context : lprint(f"收到登录请求 - 用户名: {form_data.username}, 客户端IP: {request.client.host}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:136, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:33:03 - root - WARNING - 

    "请求头: {'host': '127.0.0.1:1026', 'accept': 'application/json', 'accept-encoding': 'gzip, deflate', 'user-agent': 'Python/3.11 aiohttp/3.11.10', 'content-length': '83', 'content-type': 'application/x-www-form-urlencoded'}"   2025-01-13 17:33:03----code_context : lprint(f"请求头: {dict(request.headers)}", level=logging.DEBUG) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:137, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:33:03 - root - WARNING - 

    "认证用户: system01"   2025-01-13 17:33:03----code_context : lprint(f"认证用户: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:170, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 17.2 on x86_64-windows, compiled by msvc-19.42.34433, 64-bit',)
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - [generated in 0.00075s] ('system01',)
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:33:03 - root - WARNING - 

    "用户验证成功: system01"   2025-01-13 17:33:03----code_context : lprint(f"用户验证成功: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:181, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:33:03 - root - WARNING - 

    "获取密钥: a3f1e5c9d8b4a6e3f2c1d4b5e6f7a8c9d0e1f2a3b4c5d6e7f8g9h0i1j2k3l4m"   2025-01-13 17:33:03----code_context : lprint(f"获取密钥: {SECRET_KEY}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:69, -fn: get_secret_key, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:98, ->code_context:->encoded_jwt = jwt.encode(to_encode, get_secret_key(), algorithm=ALGORITHM)->fn:create_access_token
2025-01-13 17:33:03 - root - WARNING - 

    "创建访问令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:33:03----code_context : lprint(f"创建访问令牌: {encoded_jwt[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:99, -fn: create_access_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:151, ->code_context:->access_token = create_access_token(->fn:login
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - SELECT devices.id, devices.device_id, devices.user_id, devices.device_name, devices.device_type, devices.login_status, devices.ip_address, devices.user_agent, devices.first_login, devices.last_seen, devices.login_count 
FROM devices 
WHERE devices.user_id = $1::INTEGER AND devices.device_name = $2::VARCHAR AND devices.ip_address = $3::VARCHAR
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] (2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', '127.0.0.1')
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'device_id', 'user_id', 'device_name', 'device_type', 'login_status', 'ip_address', 'user_agent', 'first_login', 'last_seen', 'login_count')
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - DEBUG - Row (1, '82650354-f2e5-4cb4-86db-617229360dc6', 2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', 'unknown', True, '127.0.0.1', 'Python/3.11 aiohttp/3.11.10', datetime.datetime(2025, 1, 13, 9, 14, 42, 530184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 31, 22, 840183, tzinfo=datetime.timezone.utc), 10)
2025-01-13 17:33:03 - root - WARNING - 

    "更新现有设备: Python/3.11 aiohttp/3.11.10 (127.0.0.1), ID: 82650354-f2e5-4cb4-86db-617229360dc6"   2025-01-13 17:33:03----code_context : lprint(f"更新现有设备: {device_name}, ID: {device_id}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:195, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - UPDATE devices SET last_seen=$1::TIMESTAMP WITH TIME ZONE, login_count=$2::INTEGER WHERE devices.id = $3::INTEGER
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (datetime.datetime(2025, 1, 13, 17, 33, 3, 570684, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 11, 1)
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:33:03 - root - WARNING - 

    "用户登录成功: system01, IP: 127.0.0.1, 设备ID: 82650354-f2e5-4cb4-86db-617229360dc6, 设备名称: Python/3.11 aiohttp/3.11.10 (127.0.0.1), 设备类型: unknown"   2025-01-13 17:33:03----code_context : lprint(f"用户登录成功: {user.username}, IP: {client_host}, 设备ID: {device_id}, 设备名称: {device_name}, 设备类型: {device_type}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:221, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:33:03 - engineio.server - INFO - LISASe1vHijfuQcAAAAA: Sending packet OPEN data {'sid': 'LISASe1vHijfuQcAAAAA', 'upgrades': [], 'pingTimeout': 60000, 'pingInterval': 25000}
2025-01-13 17:33:03 - engineio.server - INFO - LISASe1vHijfuQcAAAAA: Received request to upgrade to websocket
2025-01-13 17:33:03 - engineio.server - INFO - LISASe1vHijfuQcAAAAA: Upgrade to websocket successful
2025-01-13 17:33:03 - engineio.server - INFO - LISASe1vHijfuQcAAAAA: Received packet MESSAGE data 0{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MTY4M30.-4Za1fd0CRAZ0D0tctnaU41jYukdj5ZnT5KMx52xHLg"
}
2025-01-13 17:33:03 - engineio.server - INFO - LISASe1vHijfuQcAAAAA: Sending packet MESSAGE data 0{
  "sid": "zV-1E9CJzH3TNsVHAAAB"
}
2025-01-13 17:33:03 - root - WARNING - 

    "收到连接请求: sid=zV-1E9CJzH3TNsVHAAAB, auth={'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MTY4M30.-4Za1fd0CRAZ0D0tctnaU41jYukdj5ZnT5KMx52xHLg'}"   2025-01-13 17:33:03----code_context : lprint(f"收到连接请求: sid={sid}, auth={auth}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:338, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:33:03 - root - WARNING - 

    "验证 token: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:33:03----code_context : lprint(f"验证 token: {token[:20]}...") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:350, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:33:03 - root - WARNING - 

    "验证令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:33:03----code_context : lprint(f"验证令牌: {token[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:104, -fn: authenticate_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:351, ->code_context:->user = await authenticate_token(token)->fn:connect
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - [cached since 0.1165s ago] ('system01',)
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), '$2b$12$Sdp5Bp04C7hTNC4Be3U3xeSdh.AbDNaA6i/JNxuFV.HSpgoxP.0e6', 'active', None, datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 461684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 14, 32, 25184, tzinfo=datetime.timezone.utc))
2025-01-13 17:33:03 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:33:03 - root - WARNING - 

    "用户 system01 连接成功"   2025-01-13 17:33:03----code_context : lprint(f"用户 {user.username} 连接成功") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:358, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:33:03 - socketio.server - INFO - emitting event "connect_success" to zV-1E9CJzH3TNsVHAAAB [/]
2025-01-13 17:33:03 - engineio.server - INFO - LISASe1vHijfuQcAAAAA: Sending packet MESSAGE data 2[
  "connect_success",
  {
    "message": "Welcome system01!",
    "sid": "zV-1E9CJzH3TNsVHAAAB"
  }
]
2025-01-13 17:33:03 - socketio.server - INFO - emitting event "user_connected" to all [/]
2025-01-13 17:33:04 - engineio.server - INFO - LISASe1vHijfuQcAAAAA: Received packet MESSAGE data 2[
  "message",
  {
    "content": "这是一条群聊测试消息",
    "recipient": "asset_group",
    "message_type": "group_chat",
    "timestamp": "2025-01-13T17:33:04.670683+08:00"
  }
]
2025-01-13 17:33:04 - socketio.server - INFO - received event "message" from zV-1E9CJzH3TNsVHAAAB [/]
2025-01-13 17:33:04 - root - WARNING - 

    "处理消息时发生错误: 'ConnectionManager' object has no attribute 'get_user_by_sid'"   2025-01-13 17:33:04----code_context : lprint(f"处理消息时发生错误: {str(e)}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:175, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:33:04 - root - WARNING - 

    "Traceback (most recent call last):
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\app\\core\\message_handlers.py\", line 105, in handle_message
    sender = self.connection_manager.get_user_by_sid(sid)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ConnectionManager' object has no attribute 'get_user_by_sid'
"   2025-01-13 17:33:04----code_context : lprint(traceback.format_exc(), popui=False) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:176, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:33:05 - engineio.server - INFO - LISASe1vHijfuQcAAAAA: Received packet MESSAGE data 2[
  "message",
  {
    "content": "这是一条私聊测试消息",
    "recipient": "system02",
    "message_type": "private_chat",
    "timestamp": "2025-01-13T17:33:05.677183+08:00"
  }
]
2025-01-13 17:33:05 - socketio.server - INFO - received event "message" from zV-1E9CJzH3TNsVHAAAB [/]
2025-01-13 17:33:05 - root - WARNING - 

    "处理消息时发生错误: 'ConnectionManager' object has no attribute 'get_user_by_sid'"   2025-01-13 17:33:05----code_context : lprint(f"处理消息时发生错误: {str(e)}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:175, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:33:05 - root - WARNING - 

    "Traceback (most recent call last):
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\app\\core\\message_handlers.py\", line 105, in handle_message
    sender = self.connection_manager.get_user_by_sid(sid)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ConnectionManager' object has no attribute 'get_user_by_sid'
"   2025-01-13 17:33:05----code_context : lprint(traceback.format_exc(), popui=False) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:176, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:34:15 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:34:15----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:34:15 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:34:15----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:34:15 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:34:15----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:34:15 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:34:15----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:34:15 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:34:15 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:34:15 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:34:16 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:34:16----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:34:16 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:34:16 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:34:16----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:34:16 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:34:16----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:34:16 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:34:16 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:34:16----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:34:16 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:34:16----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:34:37 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:34:37----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:34:37 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:34:37----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:34:37 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:34:37----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:34:37 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:34:37----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:34:38 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:34:38 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:34:38 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:34:39 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:34:39----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:34:39 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:34:39 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:34:39----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:34:39 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:34:39----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:34:39 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:34:39 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:34:39----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:34:39 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:34:39----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:35:00 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:35:00----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:35:00 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:35:00----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:35:00 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:35:00----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:35:00 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:35:00----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:35:01 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:35:01 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:35:01 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:35:01 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:35:01----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:35:01 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:35:01 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:35:01----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:35:01 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:35:01----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:35:01 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:35:01 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:35:01----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:35:01 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:35:01----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:35:42 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:35:42----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:35:42 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:35:42----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:35:42 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:35:42----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:35:42 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:35:42----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:35:43 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:35:43 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:35:43 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:35:43 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:35:43----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:35:43 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:35:43 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:35:43----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:35:43 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:35:43----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:35:43 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:35:43 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:35:43----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:35:43 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:35:43----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:36:14 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:36:14----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:36:14 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:36:14----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:36:14 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:36:14----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:36:14 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:36:14----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:36:15 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:36:15 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:36:15 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:36:15 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:36:15----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:36:15 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:36:15 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:36:15----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:36:15 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:36:15----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:36:15 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:36:15 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:36:15----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:36:15 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:36:15----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:36:45 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:36:45----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:36:45 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:36:45----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:36:45 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:36:45----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:36:45 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:36:45----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:36:45 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:36:45 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:36:45 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:36:46 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:36:46----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:36:46 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:36:46 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:36:46----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:36:46 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:36:46----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:36:46 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:36:46 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:36:46----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:36:46 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:36:46----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:37:34 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:37:34----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:37:34 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:37:34----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:37:34 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:37:34----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:37:34 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:37:34----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:37:35 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:37:35 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:37:35 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:37:35 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:37:35----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:37:35 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:37:35 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:37:35----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:37:35 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:37:35----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:37:35 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:37:35 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:37:35----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:37:35 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:37:35----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:38:55 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:38:55----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:38:55 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:38:55----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:38:55 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:38:55----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:38:55 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:38:55----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:38:56 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:38:56 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:38:56 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:38:56 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:38:56----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:38:56 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:38:56 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:38:56----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:38:56 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:38:56----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:38:56 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:38:56 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:38:56----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:38:56 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:38:56----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:39:29 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:39:29----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:39:29 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:39:29----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:39:29 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:39:29----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:39:29 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:39:29----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:39:30 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:39:30 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:39:30 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:39:31 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:39:31----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:39:31 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:39:31 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:39:31----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:39:31 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:39:31----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:39:31 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:39:31 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:39:31----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:39:31 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:39:31----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:39:37 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:39:37----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:39:37 - asyncio - DEBUG - Using proactor: IocpProactor
2025-01-13 17:39:37 - root - WARNING - 

    "1. 清空数据库..."   2025-01-13 17:39:37----code_context : lprint("1. 清空数据库...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:449, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:39:37 - root - WARNING - 

    "开始清空数据库"   2025-01-13 17:39:37----code_context : lprint("开始清空数据库") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:330, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:450, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 17.2 on x86_64-windows, compiled by msvc-19.42.34433, 64-bit',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - 
            SELECT tablename 
            FROM pg_catalog.pg_tables
            WHERE schemaname = 'public'
        
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('tablename',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS users CASCADE
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS user_group_links CASCADE
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS groups CASCADE
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS private_messages CASCADE
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS message_types CASCADE
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS message_content_types CASCADE
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS devices CASCADE
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS user_private_message_links CASCADE
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS message_type_private_message_links CASCADE
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS message_content_type_private_message_links CASCADE
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:37 - root - WARNING - 

    "数据库清空完成"   2025-01-13 17:39:37----code_context : lprint("数据库清空完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:347, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:450, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 17:39:37 - root - WARNING - 

    "2. 重新创建枚举类型..."   2025-01-13 17:39:37----code_context : lprint("2. 重新创建枚举类型...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:453, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:39:37 - root - WARNING - 

    "开始删除枚举类型"   2025-01-13 17:39:37----code_context : lprint("开始删除枚举类型") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:355, -fn: drop_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:454, ->code_context:->await drop_enums(session)->fn:initialize_db
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - 
            SELECT t.typname
            FROM pg_type t
            JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace
            WHERE t.typtype = 'e'  -- 'e' 表示枚举类型
            AND n.nspname = 'public'  -- 只查询public schema中的类型
        
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - DROP TYPE IF EXISTS messagetype CASCADE
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - DROP TYPE IF EXISTS messagecontenttype CASCADE
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - DROP TYPE IF EXISTS userrole CASCADE
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - DROP TYPE IF EXISTS messagestatus CASCADE
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:37 - root - WARNING - 

    "枚举类型删除完成"   2025-01-13 17:39:37----code_context : lprint("枚举类型删除完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:374, -fn: drop_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:454, ->code_context:->await drop_enums(session)->fn:initialize_db
2025-01-13 17:39:37 - root - WARNING - 

    "开始创建枚举类型"   2025-01-13 17:39:37----code_context : lprint("开始创建枚举类型") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:383, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:455, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - 
                CREATE TYPE messagetype AS ENUM (
                    'private_chat', 'group_chat', 'system', 'notification'
                )
            
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ()
2025-01-13 17:39:37 - root - WARNING - 

    "创建枚举类型 messagetype 成功"   2025-01-13 17:39:37----code_context : lprint(f"创建枚举类型 {enum_name} 成功") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:401, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:455, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - 
                CREATE TYPE messagecontenttype AS ENUM (
                    'plain_text', 'html', 'markdown', 'image', 'file'
                )
            
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ()
2025-01-13 17:39:37 - root - WARNING - 

    "创建枚举类型 messagecontenttype 成功"   2025-01-13 17:39:37----code_context : lprint(f"创建枚举类型 {enum_name} 成功") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:401, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:455, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - 
                CREATE TYPE userrole AS ENUM (
                    'admin', 'user', 'system', 'test'
                )
            
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ()
2025-01-13 17:39:37 - root - WARNING - 

    "创建枚举类型 userrole 成功"   2025-01-13 17:39:37----code_context : lprint(f"创建枚举类型 {enum_name} 成功") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:401, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:455, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - 
                CREATE TYPE messagestatus AS ENUM (
                    'unread', 'read', 'sending', 'sent', 'delivered', 'success', 'failed', 'deleted', 'recalled', 'unknown'
                )
            
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ()
2025-01-13 17:39:37 - root - WARNING - 

    "创建枚举类型 messagestatus 成功"   2025-01-13 17:39:37----code_context : lprint(f"创建枚举类型 {enum_name} 成功") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:401, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:455, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:37 - root - WARNING - 

    "枚举类型创建完成"   2025-01-13 17:39:37----code_context : lprint("枚举类型创建完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:408, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:455, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:39:37 - root - WARNING - 

    "3. 创建表..."   2025-01-13 17:39:37----code_context : lprint("3. 创建表...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:458, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [cached since 0.005143s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [cached since 0.007372s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [cached since 0.009406s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [cached since 0.01086s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [cached since 0.01224s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [cached since 0.01356s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [cached since 0.0145s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [cached since 0.01549s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [cached since 0.01637s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('messagetype', 'pg_catalog')
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [cached since 0.003342s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [cached since 0.006148s ago] ('userrole', 'pg_catalog')
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [cached since 0.009092s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE message_types (
	id SERIAL NOT NULL, 
	type_code messagetype NOT NULL, 
	description VARCHAR NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (type_code)
)


2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE message_content_types (
	id SERIAL NOT NULL, 
	type_code messagecontenttype NOT NULL, 
	description VARCHAR NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (type_code)
)


2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [no key 0.00038s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id SERIAL NOT NULL, 
	username VARCHAR NOT NULL, 
	email VARCHAR NOT NULL, 
	role userrole NOT NULL, 
	nickname VARCHAR NOT NULL, 
	avatar_index INTEGER NOT NULL, 
	last_seen TIMESTAMP WITH TIME ZONE, 
	hashed_password VARCHAR, 
	status VARCHAR NOT NULL, 
	expires_at TIMESTAMP WITH TIME ZONE, 
	created_at TIMESTAMP WITH TIME ZONE, 
	updated_at TIMESTAMP WITH TIME ZONE, 
	last_login TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id)
)


2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [no key 0.00062s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_users_email ON users (email)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [no key 0.00034s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_username ON users (username)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE groups (
	id SERIAL NOT NULL, 
	name VARCHAR NOT NULL, 
	label VARCHAR NOT NULL, 
	members VARCHAR[], 
	PRIMARY KEY (id), 
	UNIQUE (name)
)


2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [no key 0.00029s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_group_links (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	join_time TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES users (id), 
	FOREIGN KEY(group_id) REFERENCES groups (id)
)


2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [no key 0.00047s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE private_messages (
	id SERIAL NOT NULL, 
	content VARCHAR NOT NULL, 
	timestamp TIMESTAMP WITH TIME ZONE, 
	status messagestatus NOT NULL, 
	sender VARCHAR NOT NULL, 
	popup_message BOOLEAN NOT NULL, 
	message_type_id INTEGER NOT NULL, 
	content_type_id INTEGER NOT NULL, 
	recipient VARCHAR NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(sender) REFERENCES users (username), 
	FOREIGN KEY(message_type_id) REFERENCES message_types (id), 
	FOREIGN KEY(content_type_id) REFERENCES message_content_types (id), 
	FOREIGN KEY(recipient) REFERENCES users (username)
)


2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [no key 0.00042s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE devices (
	id SERIAL NOT NULL, 
	device_id VARCHAR NOT NULL, 
	user_id INTEGER NOT NULL, 
	device_name VARCHAR NOT NULL, 
	device_type VARCHAR NOT NULL, 
	login_status BOOLEAN NOT NULL, 
	ip_address VARCHAR NOT NULL, 
	user_agent VARCHAR NOT NULL, 
	first_login TIMESTAMP WITH TIME ZONE, 
	last_seen TIMESTAMP WITH TIME ZONE, 
	login_count INTEGER NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [no key 0.00033s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_devices_device_id ON devices (device_id)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [no key 0.00035s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_private_message_links (
	user_id INTEGER NOT NULL, 
	private_message_id INTEGER NOT NULL, 
	is_sender BOOLEAN NOT NULL, 
	PRIMARY KEY (user_id, private_message_id), 
	FOREIGN KEY(user_id) REFERENCES users (id), 
	FOREIGN KEY(private_message_id) REFERENCES private_messages (id)
)


2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [no key 0.00061s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE message_type_private_message_links (
	message_type_id INTEGER NOT NULL, 
	private_message_id INTEGER NOT NULL, 
	PRIMARY KEY (message_type_id, private_message_id), 
	FOREIGN KEY(message_type_id) REFERENCES message_types (id), 
	FOREIGN KEY(private_message_id) REFERENCES private_messages (id)
)


2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE message_content_type_private_message_links (
	message_content_type_id INTEGER NOT NULL, 
	private_message_id INTEGER NOT NULL, 
	PRIMARY KEY (message_content_type_id, private_message_id), 
	FOREIGN KEY(message_content_type_id) REFERENCES message_content_types (id), 
	FOREIGN KEY(private_message_id) REFERENCES private_messages (id)
)


2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [no key 0.00058s] ()
2025-01-13 17:39:37 - root - WARNING - 

    "基础表创建完成"   2025-01-13 17:39:37----code_context : lprint("基础表创建完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:418, -fn: create_tables, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:459, ->code_context:->await create_tables()->fn:initialize_db
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ()
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:37 - root - WARNING - 

    "群组消息表创建完成"   2025-01-13 17:39:37----code_context : lprint("群组消息表创建完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, -fn: create_tables, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:459, ->code_context:->await create_tables()->fn:initialize_db
2025-01-13 17:39:37 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:39:37 - root - WARNING - 

    "4. 加载用户数据..."   2025-01-13 17:39:37----code_context : lprint("4. 加载用户数据...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:462, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:39:37 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:39:37 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:39:37 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:39:37 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:39:37 - passlib.handlers.bcrypt - DEBUG - detected 'bcrypt' backend, version '3.2.0'
2025-01-13 17:39:37 - passlib.handlers.bcrypt - DEBUG - 'bcrypt' backend lacks $2$ support, enabling workaround
2025-01-13 17:39:37 - root - WARNING - 

    "添加用户: admin01"   2025-01-13 17:39:37----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:39:38 - root - WARNING - 

    "添加用户: system01"   2025-01-13 17:39:38----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:39:38 - root - WARNING - 

    "添加用户: zhangqunzhong"   2025-01-13 17:39:38----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:39:38 - root - WARNING - 

    "添加用户: fengqingqing"   2025-01-13 17:39:38----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:39:38 - root - WARNING - 

    "添加用户: zhaiwenpeng"   2025-01-13 17:39:38----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:39:38 - root - WARNING - 

    "添加用户: OC6"   2025-01-13 17:39:38----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:39:39 - root - WARNING - 

    "添加用户: OC5"   2025-01-13 17:39:39----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:39:39 - root - WARNING - 

    "添加用户: OC4"   2025-01-13 17:39:39----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:39:39 - root - WARNING - 

    "添加用户: OC3"   2025-01-13 17:39:39----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:39:39 - root - WARNING - 

    "添加用户: OC2"   2025-01-13 17:39:39----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:39:39 - root - WARNING - 

    "添加用户: OC1"   2025-01-13 17:39:39----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:39:39 - root - WARNING - 

    "添加用户: liujunlong"   2025-01-13 17:39:39----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户: julia01"   2025-01-13 17:39:40----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户: tanglinyu"   2025-01-13 17:39:40----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:463, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:39:40 - root - WARNING - 

    "5. 加载群组数据..."   2025-01-13 17:39:40----code_context : lprint("5. 加载群组数据...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:469, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:39:40 - root - WARNING - 

    "添加群组: asset_group (资产组)"   2025-01-13 17:39:40----code_context : lprint(f"添加群组: {group['name']} ({group['label']})") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:98, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - root - WARNING - 

    "添加群组: animation_group (动画组)"   2025-01-13 17:39:40----code_context : lprint(f"添加群组: {group['name']} ({group['label']})") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:98, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - root - WARNING - 

    "添加群组: effect_group (特效组)"   2025-01-13 17:39:40----code_context : lprint(f"添加群组: {group['name']} ({group['label']})") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:98, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - root - WARNING - 

    "添加群组: solve_group (解算组)"   2025-01-13 17:39:40----code_context : lprint(f"添加群组: {group['name']} ({group['label']})") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:98, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - root - WARNING - 

    "添加群组: light_group (灯光组)"   2025-01-13 17:39:40----code_context : lprint(f"添加群组: {group['name']} ({group['label']})") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:98, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - INSERT INTO groups (name, label, members) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR[] FROM (VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR[], 0), ($4::VARCHAR, $5::VARCHAR, $6::VARCHAR[], 1), ($7::VARCHAR, $8::VARCHAR, $9::VARCHAR[], 2), ($10::VARCHAR, $11::VARCHAR, $12::VARCHAR[], 3), ($13::VARCHAR, $14::VARCHAR, $15::VARCHAR[], 4)) AS imp_sen(p0, p1, p2, sen_counter) ORDER BY sen_counter RETURNING groups.id, groups.id AS id__1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s (insertmanyvalues) 1/1 (ordered)] ('asset_group', '资产组', [], 'animation_group', '动画组', [], 'effect_group', '特效组', [], 'solve_group', '解算组', [], 'light_group', '灯光组', [])
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (3,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (4,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (5,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (username, email, role, nickname, avatar_index, last_seen, hashed_password, status, expires_at, created_at, updated_at, last_login) SELECT p0::VARCHAR, p1::VARCHAR, p2::userrole, p3::VARCHAR, p4::INTEGER, p5::TIMESTAMP WITH TIME ZON ... 3885 characters truncated ... 5, p6, p7, p8, p9, p10, p11, sen_counter) ORDER BY sen_counter RETURNING users.id, users.id AS id__1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s (insertmanyvalues) 1/1 (ordered)] ('admin01', 'admin1@example.com', 'admin', '管理员一', 0, datetime.datetime(2025, 1, 13, 17, 39, 37, 867184, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$ENbyh9T3HXvwXvDkuJ2q8een8G78mtLEp2z3PjQaFCICmT4uq2l9W', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 37, 867184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 867184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc), 'system01', 'system1@example.com', 'system', '系统账户一', 0, datetime.datetime(2025, 1, 13, 17, 39, 38, 58686, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$sy8SHnDtUlr.ZNLQP98Jvu/Ne3SIMicfS00cZ0/BM4mvZed3DokPS', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 38, 58686, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 38, 58686, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc), 'zhangqunzhong', 'test1@example.com', 'user', '张群忠', 0, datetime.datetime(2025, 1, 13, 17, 39, 38, 256683, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$taNScjq/XBIeNj6xFUOi/eFy7CwBNXps8J9tOK6s54wb.WmEEIsau', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 38, 257184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 38, 257184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc), 'fengqingqing', 'alice@example.com', 'user', '冯青青', 0, datetime.datetime(2025, 1, 13, 17, 39, 38, 446687, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$a.vIFRC05TXrXSJpC/OyuOKy5ucNx7SOUkj/3tOERp3fTSUwkEleW', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 38, 446687, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 38, 446687, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc), 'zhaiwenpeng', 'zhaiwenpeng@example.com' ... 68 parameters truncated ... datetime.datetime(2025, 1, 13, 9, 39, 39, 578683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc), 'OC1', 'OC1@example.com', 'system', 'OC1_26_服务器', 0, datetime.datetime(2025, 1, 13, 17, 39, 39, 762684, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$f2apBFaph1.EvrbYx4sj7.e8UTU52gbb8GGUNtwDrNeoW4zyNV4Vu', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 39, 762684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 39, 762684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc), 'liujunlong', 'liujunlong@example.com', 'user', '刘俊龙', 0, datetime.datetime(2025, 1, 13, 17, 39, 39, 948683, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$4CXqbsiA9D7nts0vn0Hg7.63qePl.eemyM22DDSdyQUdHkIWDBOMi', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 39, 948683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 39, 948683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc), 'julia01', 'julia@example.com', 'user', '朱莉娅', 0, datetime.datetime(2025, 1, 13, 17, 39, 40, 134182, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$niKcWOAIx3mn9zZR0xTvuOS7Hht9ZpH4b5qgWBsUnkH2nOfUBT0kW', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 40, 134182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 40, 134182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc), 'tanglinyu', 'tanglinyu@example.com', 'user', '唐林钰', 0, datetime.datetime(2025, 1, 13, 17, 39, 40, 319682, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$pjduWhDkKgQ7elCUQJk7UuKD22E09.aRejIWf7qxtO35.0cQlX1lK', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 40, 319682, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 40, 319682, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc))
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (3,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (4,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (5,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (6,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (7,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (8,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (9,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (10,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (11,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (12,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (13,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (14,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('admin01',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1, 'admin01', 'admin1@example.com', <UserRole.admin: 'admin'>, '管理员一', 0, datetime.datetime(2025, 1, 13, 9, 39, 37, 867184, tzinfo=datetime.timezone.utc), '$2b$12$ENbyh9T3HXvwXvDkuJ2q8een8G78mtLEp2z3PjQaFCICmT4uq2l9W', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 37, 867184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 867184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc))
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('asset_group',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1, 'asset_group', '资产组', [])
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户 admin01 到群组 asset_group"   2025-01-13 17:39:40----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.002948s ago] ('animation_group',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'animation_group', '动画组', [])
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户 admin01 到群组 animation_group"   2025-01-13 17:39:40----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.008612s ago] ('system01',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 39, 38, 58686, tzinfo=datetime.timezone.utc), '$2b$12$sy8SHnDtUlr.ZNLQP98Jvu/Ne3SIMicfS00cZ0/BM4mvZed3DokPS', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 38, 58686, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 38, 58686, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc))
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.007261s ago] ('solve_group',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'solve_group', '解算组', [])
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户 system01 到群组 solve_group"   2025-01-13 17:39:40----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.01233s ago] ('zhangqunzhong',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (3, 'zhangqunzhong', 'test1@example.com', <UserRole.user: 'user'>, '张群忠', 0, datetime.datetime(2025, 1, 13, 9, 39, 38, 256683, tzinfo=datetime.timezone.utc), '$2b$12$taNScjq/XBIeNj6xFUOi/eFy7CwBNXps8J9tOK6s54wb.WmEEIsau', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 38, 257184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 38, 257184, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc))
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.01064s ago] ('light_group',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (5, 'light_group', '灯光组', [])
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户 zhangqunzhong 到群组 light_group"   2025-01-13 17:39:40----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.01249s ago] ('effect_group',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (3, 'effect_group', '特效组', [])
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户 zhangqunzhong 到群组 effect_group"   2025-01-13 17:39:40----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.01766s ago] ('fengqingqing',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'fengqingqing', 'alice@example.com', <UserRole.user: 'user'>, '冯青青', 0, datetime.datetime(2025, 1, 13, 9, 39, 38, 446687, tzinfo=datetime.timezone.utc), '$2b$12$a.vIFRC05TXrXSJpC/OyuOKy5ucNx7SOUkj/3tOERp3fTSUwkEleW', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 38, 446687, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 38, 446687, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc))
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.01635s ago] ('solve_group',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'solve_group', '解算组', [])
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户 fengqingqing 到群组 solve_group"   2025-01-13 17:39:40----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.02149s ago] ('zhaiwenpeng',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (5, 'zhaiwenpeng', 'zhaiwenpeng@example.com', <UserRole.user: 'user'>, '翟文朋', 0, datetime.datetime(2025, 1, 13, 9, 39, 38, 633682, tzinfo=datetime.timezone.utc), '$2b$12$AVGzoVf1mr9yUr.5WeVhmu/SQZGDFFYd16qt0bvyMKUf/60I.sLoO', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 38, 633682, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 38, 633682, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc))
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.01981s ago] ('effect_group',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (3, 'effect_group', '特效组', [])
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户 zhaiwenpeng 到群组 effect_group"   2025-01-13 17:39:40----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.02482s ago] ('OC6',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (6, 'OC6', 'OC6@example.com', <UserRole.system: 'system'>, 'OC6_26_服务器', 0, datetime.datetime(2025, 1, 13, 9, 39, 38, 826182, tzinfo=datetime.timezone.utc), '$2b$12$9TmulxJRGEXfDlACh2oQMO/hWUp.FQ3oKQUClO9jgEng2IqJYLhT.', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 38, 826182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 38, 826182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc))
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.02362s ago] ('solve_group',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'solve_group', '解算组', [])
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户 OC6 到群组 solve_group"   2025-01-13 17:39:40----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.02875s ago] ('OC5',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (7, 'OC5', 'OC5@example.com', <UserRole.system: 'system'>, 'OC5_26_服务器', 0, datetime.datetime(2025, 1, 13, 9, 39, 39, 13182, tzinfo=datetime.timezone.utc), '$2b$12$YSJu255NdWHNjSpWLss/PONkL1M8gpVNRnN3WmSpviVQBfdE9HSJW', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 39, 13182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 39, 13182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc))
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.0272s ago] ('solve_group',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'solve_group', '解算组', [])
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户 OC5 到群组 solve_group"   2025-01-13 17:39:40----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.03218s ago] ('OC4',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (8, 'OC4', 'OC4@example.com', <UserRole.system: 'system'>, 'OC4_26_服务器', 0, datetime.datetime(2025, 1, 13, 9, 39, 39, 208683, tzinfo=datetime.timezone.utc), '$2b$12$4/s8B1igbqdQ/jDiArQP0erOBClsLSNGDemQzlQa6ZqVHlHRVBLzG', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 39, 208683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 39, 208683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc))
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.03042s ago] ('solve_group',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'solve_group', '解算组', [])
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户 OC4 到群组 solve_group"   2025-01-13 17:39:40----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.03546s ago] ('OC3',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (9, 'OC3', 'OC3@example.com', <UserRole.system: 'system'>, 'OC3_26_服务器', 0, datetime.datetime(2025, 1, 13, 9, 39, 39, 392182, tzinfo=datetime.timezone.utc), '$2b$12$WSUiJsUU7IcFaPadPap8Ne/Ml6evj2paQvlhRGEU40b/HAyArptdO', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 39, 392182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 39, 392182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc))
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.03413s ago] ('solve_group',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'solve_group', '解算组', [])
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户 OC3 到群组 solve_group"   2025-01-13 17:39:40----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.03947s ago] ('OC2',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (10, 'OC2', 'OC2@example.com', <UserRole.system: 'system'>, 'OC2_26_服务器', 0, datetime.datetime(2025, 1, 13, 9, 39, 39, 578683, tzinfo=datetime.timezone.utc), '$2b$12$zctTi7QnKk5kUVZI3BUSQOwfoMs2E70lxfEz1Q2p5LbXXrtCBmUPK', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 39, 578683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 39, 578683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc))
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.03784s ago] ('solve_group',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'solve_group', '解算组', [])
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户 OC2 到群组 solve_group"   2025-01-13 17:39:40----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.04341s ago] ('OC1',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (11, 'OC1', 'OC1@example.com', <UserRole.system: 'system'>, 'OC1_26_服务器', 0, datetime.datetime(2025, 1, 13, 9, 39, 39, 762684, tzinfo=datetime.timezone.utc), '$2b$12$f2apBFaph1.EvrbYx4sj7.e8UTU52gbb8GGUNtwDrNeoW4zyNV4Vu', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 39, 762684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 39, 762684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc))
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.04217s ago] ('solve_group',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'solve_group', '解算组', [])
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户 OC1 到群组 solve_group"   2025-01-13 17:39:40----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.04743s ago] ('liujunlong',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (12, 'liujunlong', 'liujunlong@example.com', <UserRole.user: 'user'>, '刘俊龙', 0, datetime.datetime(2025, 1, 13, 9, 39, 39, 948683, tzinfo=datetime.timezone.utc), '$2b$12$4CXqbsiA9D7nts0vn0Hg7.63qePl.eemyM22DDSdyQUdHkIWDBOMi', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 39, 948683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 39, 948683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc))
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.04587s ago] ('asset_group',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1, 'asset_group', '资产组', [])
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户 liujunlong 到群组 asset_group"   2025-01-13 17:39:40----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.05125s ago] ('julia01',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (13, 'julia01', 'julia@example.com', <UserRole.user: 'user'>, '朱莉娅', 0, datetime.datetime(2025, 1, 13, 9, 39, 40, 134182, tzinfo=datetime.timezone.utc), '$2b$12$niKcWOAIx3mn9zZR0xTvuOS7Hht9ZpH4b5qgWBsUnkH2nOfUBT0kW', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 40, 134182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 40, 134182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc))
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.04973s ago] ('asset_group',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1, 'asset_group', '资产组', [])
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户 julia01 到群组 asset_group"   2025-01-13 17:39:40----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.05482s ago] ('tanglinyu',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (14, 'tanglinyu', 'tanglinyu@example.com', <UserRole.user: 'user'>, '唐林钰', 0, datetime.datetime(2025, 1, 13, 9, 39, 40, 319682, tzinfo=datetime.timezone.utc), '$2b$12$pjduWhDkKgQ7elCUQJk7UuKD22E09.aRejIWf7qxtO35.0cQlX1lK', 'active', None, datetime.datetime(2025, 1, 13, 9, 39, 40, 319682, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 40, 319682, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 39, 37, 614184, tzinfo=datetime.timezone.utc))
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.05291s ago] ('light_group',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (5, 'light_group', '灯光组', [])
2025-01-13 17:39:40 - root - WARNING - 

    "添加用户 tanglinyu 到群组 light_group"   2025-01-13 17:39:40----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:470, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:39:40 - root - WARNING - 

    "6. 加载消息数据..."   2025-01-13 17:39:40----code_context : lprint("6. 加载消息数据...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:477, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:39:40 - root - WARNING - 

    "添加消息类型: private_chat"   2025-01-13 17:39:40----code_context : lprint(f"添加消息类型: {msg_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:157, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - root - WARNING - 

    "添加消息类型: group_chat"   2025-01-13 17:39:40----code_context : lprint(f"添加消息类型: {msg_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:157, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - root - WARNING - 

    "添加消息类型: system"   2025-01-13 17:39:40----code_context : lprint(f"添加消息类型: {msg_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:157, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - root - WARNING - 

    "添加消息类型: notification"   2025-01-13 17:39:40----code_context : lprint(f"添加消息类型: {msg_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:157, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - root - WARNING - 

    "添加消息内容类型: plain_text"   2025-01-13 17:39:40----code_context : lprint(f"添加消息内容类型: {content_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:171, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - root - WARNING - 

    "添加消息内容类型: html"   2025-01-13 17:39:40----code_context : lprint(f"添加消息内容类型: {content_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:171, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - root - WARNING - 

    "添加消息内容类型: markdown"   2025-01-13 17:39:40----code_context : lprint(f"添加消息内容类型: {content_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:171, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - root - WARNING - 

    "添加消息内容类型: image"   2025-01-13 17:39:40----code_context : lprint(f"添加消息内容类型: {content_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:171, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - root - WARNING - 

    "添加消息内容类型: file"   2025-01-13 17:39:40----code_context : lprint(f"添加消息内容类型: {content_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:171, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - INSERT INTO message_content_types (type_code, description) SELECT p0::messagecontenttype, p1::VARCHAR FROM (VALUES ($1::messagecontenttype, $2::VARCHAR, 0), ($3::messagecontenttype, $4::VARCHAR, 1), ($5::messagecontenttype, $6::VARCHAR, 2), ($7::messagecontenttype, $8::VARCHAR, 3), ($9::messagecontenttype, $10::VARCHAR, 4)) AS imp_sen(p0, p1, sen_counter) ORDER BY sen_counter RETURNING message_content_types.id, message_content_types.id AS id__1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s (insertmanyvalues) 1/1 (ordered)] ('plain_text', '纯文本', 'html', 'HTML格式', 'markdown', 'Markdown格式', 'image', '图片', 'file', '文件')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (3,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (4,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (5,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - INSERT INTO message_types (type_code, description) SELECT p0::messagetype, p1::VARCHAR FROM (VALUES ($1::messagetype, $2::VARCHAR, 0), ($3::messagetype, $4::VARCHAR, 1), ($5::messagetype, $6::VARCHAR, 2), ($7::messagetype, $8::VARCHAR, 3)) AS imp_sen(p0, p1, sen_counter) ORDER BY sen_counter RETURNING message_types.id, message_types.id AS id__1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s (insertmanyvalues) 1/1 (ordered)] ('private_chat', '私聊消息', 'group_chat', '群聊消息', 'system', '系统消息', 'notification', '通知消息')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (3,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (4,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_group_links (user_id, group_id, join_time) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITH TIME ZONE)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] [(1, 1, datetime.datetime(2025, 1, 13, 9, 39, 40, 321683, tzinfo=datetime.timezone.utc)), (1, 2, datetime.datetime(2025, 1, 13, 9, 39, 40, 321683, tzinfo=datetime.timezone.utc)), (2, 4, datetime.datetime(2025, 1, 13, 9, 39, 40, 321683, tzinfo=datetime.timezone.utc)), (3, 5, datetime.datetime(2025, 1, 13, 9, 39, 40, 321683, tzinfo=datetime.timezone.utc)), (3, 3, datetime.datetime(2025, 1, 13, 9, 39, 40, 321683, tzinfo=datetime.timezone.utc)), (4, 4, datetime.datetime(2025, 1, 13, 9, 39, 40, 321683, tzinfo=datetime.timezone.utc)), (5, 3, datetime.datetime(2025, 1, 13, 9, 39, 40, 321683, tzinfo=datetime.timezone.utc)), (6, 4, datetime.datetime(2025, 1, 13, 9, 39, 40, 321683, tzinfo=datetime.timezone.utc))  ... displaying 10 of 16 total bound parameter sets ...  (13, 1, datetime.datetime(2025, 1, 13, 9, 39, 40, 321683, tzinfo=datetime.timezone.utc)), (14, 5, datetime.datetime(2025, 1, 13, 9, 39, 40, 321683, tzinfo=datetime.timezone.utc))]
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('private_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 17:39:40----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.00461s ago] ('private_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.004013s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 17:39:40----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.007899s ago] ('private_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.007135s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 17:39:40----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.01135s ago] ('private_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.01073s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 17:39:40----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.01455s ago] ('private_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.01371s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 17:39:40----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.01754s ago] ('private_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.01686s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 17:39:40----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.02078s ago] ('private_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.02233s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 17:39:40----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - INSERT INTO private_messages (content, timestamp, status, sender, popup_message, message_type_id, content_type_id, recipient) SELECT p0::VARCHAR, p1::TIMESTAMP WITH TIME ZONE, p2::messagestatus, p3::VARCHAR, p4::BOOLEAN, p5::INTEGER, p6::INTEGER, p7: ... 1029 characters truncated ... 6, p7, sen_counter) ORDER BY sen_counter RETURNING private_messages.id, private_messages.id AS id__1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s (insertmanyvalues) 1/1 (ordered)] ('你好,admin01!', datetime.datetime(2025, 1, 13, 17, 39, 40, 462683, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), 'sent', 'fengqingqing', False, 1, 1, 'admin01', '你好,fengqingqing!', datetime.datetime(2025, 1, 13, 17, 39, 40, 466183, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), 'sent', 'admin01', False, 1, 1, 'fengqingqing', '你好，欢迎加入我们的团队！', datetime.datetime(2025, 1, 13, 17, 39, 40, 469684, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), 'sent', 'system01', False, 1, 1, 'fengqingqing', '谢谢！很高兴能加入团队', datetime.datetime(2025, 1, 13, 17, 39, 40, 473184, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), 'sent', 'fengqingqing', False, 1, 1, 'system01', '如果有任何问题，随时可以问我', datetime.datetime(2025, 1, 13, 17, 39, 40, 476183, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), 'sent', 'system01', False, 1, 1, 'fengqingqing', '好的，谢谢你', datetime.datetime(2025, 1, 13, 17, 39, 40, 479183, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), 'sent', 'fengqingqing', False, 1, 1, 'system01', '祝你工作顺利！', datetime.datetime(2025, 1, 13, 17, 39, 40, 504183, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), 'sent', 'system01', False, 1, 1, 'fengqingqing')
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (3,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (4,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (5,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (6,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (7,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                CREATE TABLE IF NOT EXISTS solve_group_group_messages (
                    id SERIAL PRIMARY KEY,
                    content TEXT NOT NULL,
                    sender VARCHAR(50) REFERENCES users(username),
                    group_name VARCHAR(50) NOT NULL,
                    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                    status VARCHAR(20) DEFAULT 'unread',
                    message_type_id INTEGER,
                    content_type_id INTEGER,
                    popup_message BOOLEAN DEFAULT FALSE
                )
            
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ()
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.07984s ago] ('group_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.07962s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO solve_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('欢迎来到解算组群聊！', 'system01', 'solve_group', '2024-01-10T10:00:00Z', 'sent', 2, 1, False)
2025-01-13 17:39:40 - root - WARNING - 

    "添加群聊消息失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: '2024-01-10T10:00:00Z' (expected a datetime.date or datetime.datetime instance, got 'str')
[SQL: 
                    INSERT INTO solve_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                ]
[parameters: ('欢迎来到解算组群聊！', 'system01', 'solve_group', '2024-01-10T10:00:00Z', 'sent', 2, 1, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)"   2025-01-13 17:39:40----code_context : lprint(f"添加群聊消息失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:287, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                CREATE TABLE IF NOT EXISTS solve_group_group_messages (
                    id SERIAL PRIMARY KEY,
                    content TEXT NOT NULL,
                    sender VARCHAR(50) REFERENCES users(username),
                    group_name VARCHAR(50) NOT NULL,
                    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                    status VARCHAR(20) DEFAULT 'unread',
                    message_type_id INTEGER,
                    content_type_id INTEGER,
                    popup_message BOOLEAN DEFAULT FALSE
                )
            
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.02819s ago] ()
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.09842s ago] ('group_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.0979s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO solve_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.01822s ago] ('大家好，我是唐林玉', 'tanglinyu', 'solve_group', '2024-01-10T10:01:00Z', 'sent', 2, 1, False)
2025-01-13 17:39:40 - root - WARNING - 

    "添加群聊消息失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: '2024-01-10T10:01:00Z' (expected a datetime.date or datetime.datetime instance, got 'str')
[SQL: 
                    INSERT INTO solve_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                ]
[parameters: ('大家好，我是唐林玉', 'tanglinyu', 'solve_group', '2024-01-10T10:01:00Z', 'sent', 2, 1, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)"   2025-01-13 17:39:40----code_context : lprint(f"添加群聊消息失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:287, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                CREATE TABLE IF NOT EXISTS solve_group_group_messages (
                    id SERIAL PRIMARY KEY,
                    content TEXT NOT NULL,
                    sender VARCHAR(50) REFERENCES users(username),
                    group_name VARCHAR(50) NOT NULL,
                    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                    status VARCHAR(20) DEFAULT 'unread',
                    message_type_id INTEGER,
                    content_type_id INTEGER,
                    popup_message BOOLEAN DEFAULT FALSE
                )
            
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.03902s ago] ()
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.1091s ago] ('group_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.1085s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO solve_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.03289s ago] ('今天我们讨论一下新项目的解算方案', 'system01', 'solve_group', '2024-01-10T10:02:00Z', 'sent', 2, 1, False)
2025-01-13 17:39:40 - root - WARNING - 

    "添加群聊消息失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: '2024-01-10T10:02:00Z' (expected a datetime.date or datetime.datetime instance, got 'str')
[SQL: 
                    INSERT INTO solve_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                ]
[parameters: ('今天我们讨论一下新项目的解算方案', 'system01', 'solve_group', '2024-01-10T10:02:00Z', 'sent', 2, 1, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)"   2025-01-13 17:39:40----code_context : lprint(f"添加群聊消息失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:287, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                CREATE TABLE IF NOT EXISTS solve_group_group_messages (
                    id SERIAL PRIMARY KEY,
                    content TEXT NOT NULL,
                    sender VARCHAR(50) REFERENCES users(username),
                    group_name VARCHAR(50) NOT NULL,
                    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                    status VARCHAR(20) DEFAULT 'unread',
                    message_type_id INTEGER,
                    content_type_id INTEGER,
                    popup_message BOOLEAN DEFAULT FALSE
                )
            
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.06034s ago] ()
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.132s ago] ('group_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.1328s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO solve_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.05374s ago] ('好的，我们开始吧', 'OC5', 'solve_group', '2024-01-10T10:03:00Z', 'sent', 2, 1, False)
2025-01-13 17:39:40 - root - WARNING - 

    "添加群聊消息失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: '2024-01-10T10:03:00Z' (expected a datetime.date or datetime.datetime instance, got 'str')
[SQL: 
                    INSERT INTO solve_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                ]
[parameters: ('好的，我们开始吧', 'OC5', 'solve_group', '2024-01-10T10:03:00Z', 'sent', 2, 1, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)"   2025-01-13 17:39:40----code_context : lprint(f"添加群聊消息失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:287, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                CREATE TABLE IF NOT EXISTS light_group_group_messages (
                    id SERIAL PRIMARY KEY,
                    content TEXT NOT NULL,
                    sender VARCHAR(50) REFERENCES users(username),
                    group_name VARCHAR(50) NOT NULL,
                    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                    status VARCHAR(20) DEFAULT 'unread',
                    message_type_id INTEGER,
                    content_type_id INTEGER,
                    popup_message BOOLEAN DEFAULT FALSE
                )
            
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.01208s] ()
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.1871s ago] ('group_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.1869s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO light_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('欢迎来到灯光组群聊！', 'system01', 'light_group', '2024-01-10T10:00:00Z', 'sent', 2, 1, False)
2025-01-13 17:39:40 - root - WARNING - 

    "添加群聊消息失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: '2024-01-10T10:00:00Z' (expected a datetime.date or datetime.datetime instance, got 'str')
[SQL: 
                    INSERT INTO light_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                ]
[parameters: ('欢迎来到灯光组群聊！', 'system01', 'light_group', '2024-01-10T10:00:00Z', 'sent', 2, 1, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)"   2025-01-13 17:39:40----code_context : lprint(f"添加群聊消息失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:287, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                CREATE TABLE IF NOT EXISTS light_group_group_messages (
                    id SERIAL PRIMARY KEY,
                    content TEXT NOT NULL,
                    sender VARCHAR(50) REFERENCES users(username),
                    group_name VARCHAR(50) NOT NULL,
                    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                    status VARCHAR(20) DEFAULT 'unread',
                    message_type_id INTEGER,
                    content_type_id INTEGER,
                    popup_message BOOLEAN DEFAULT FALSE
                )
            
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.05747s ago] ()
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.2252s ago] ('group_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.226s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO light_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.03923s ago] ('大家好，我是刘俊龙', 'liujunlong', 'light_group', '2024-01-10T10:01:00Z', 'sent', 2, 1, False)
2025-01-13 17:39:40 - root - WARNING - 

    "添加群聊消息失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: '2024-01-10T10:01:00Z' (expected a datetime.date or datetime.datetime instance, got 'str')
[SQL: 
                    INSERT INTO light_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                ]
[parameters: ('大家好，我是刘俊龙', 'liujunlong', 'light_group', '2024-01-10T10:01:00Z', 'sent', 2, 1, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)"   2025-01-13 17:39:40----code_context : lprint(f"添加群聊消息失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:287, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                CREATE TABLE IF NOT EXISTS light_group_group_messages (
                    id SERIAL PRIMARY KEY,
                    content TEXT NOT NULL,
                    sender VARCHAR(50) REFERENCES users(username),
                    group_name VARCHAR(50) NOT NULL,
                    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                    status VARCHAR(20) DEFAULT 'unread',
                    message_type_id INTEGER,
                    content_type_id INTEGER,
                    popup_message BOOLEAN DEFAULT FALSE
                )
            
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.08382s ago] ()
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.2435s ago] ('group_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.2435s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO light_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.06689s ago] ('你好，我是朱丽叶', 'julia01', 'light_group', '2024-01-10T10:02:00Z', 'sent', 2, 1, False)
2025-01-13 17:39:40 - root - WARNING - 

    "添加群聊消息失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: '2024-01-10T10:02:00Z' (expected a datetime.date or datetime.datetime instance, got 'str')
[SQL: 
                    INSERT INTO light_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                ]
[parameters: ('你好，我是朱丽叶', 'julia01', 'light_group', '2024-01-10T10:02:00Z', 'sent', 2, 1, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)"   2025-01-13 17:39:40----code_context : lprint(f"添加群聊消息失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:287, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                CREATE TABLE IF NOT EXISTS asset_group_group_messages (
                    id SERIAL PRIMARY KEY,
                    content TEXT NOT NULL,
                    sender VARCHAR(50) REFERENCES users(username),
                    group_name VARCHAR(50) NOT NULL,
                    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                    status VARCHAR(20) DEFAULT 'unread',
                    message_type_id INTEGER,
                    content_type_id INTEGER,
                    popup_message BOOLEAN DEFAULT FALSE
                )
            
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00588s] ()
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.2861s ago] ('group_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.2859s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO asset_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('欢迎来到资产组群聊！', 'system01', 'asset_group', '2024-01-10T10:00:00Z', 'sent', 2, 1, False)
2025-01-13 17:39:40 - root - WARNING - 

    "添加群聊消息失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: '2024-01-10T10:00:00Z' (expected a datetime.date or datetime.datetime instance, got 'str')
[SQL: 
                    INSERT INTO asset_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                ]
[parameters: ('欢迎来到资产组群聊！', 'system01', 'asset_group', '2024-01-10T10:00:00Z', 'sent', 2, 1, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)"   2025-01-13 17:39:40----code_context : lprint(f"添加群聊消息失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:287, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                CREATE TABLE IF NOT EXISTS asset_group_group_messages (
                    id SERIAL PRIMARY KEY,
                    content TEXT NOT NULL,
                    sender VARCHAR(50) REFERENCES users(username),
                    group_name VARCHAR(50) NOT NULL,
                    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                    status VARCHAR(20) DEFAULT 'unread',
                    message_type_id INTEGER,
                    content_type_id INTEGER,
                    popup_message BOOLEAN DEFAULT FALSE
                )
            
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.06361s ago] ()
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.3299s ago] ('group_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.3294s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO asset_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.0434s ago] ('大家好，我是唐林玉', 'tanglinyu', 'asset_group', '2024-01-10T10:01:00Z', 'sent', 2, 1, False)
2025-01-13 17:39:40 - root - WARNING - 

    "添加群聊消息失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: '2024-01-10T10:01:00Z' (expected a datetime.date or datetime.datetime instance, got 'str')
[SQL: 
                    INSERT INTO asset_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                ]
[parameters: ('大家好，我是唐林玉', 'tanglinyu', 'asset_group', '2024-01-10T10:01:00Z', 'sent', 2, 1, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)"   2025-01-13 17:39:40----code_context : lprint(f"添加群聊消息失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:287, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                CREATE TABLE IF NOT EXISTS effect_group_group_messages (
                    id SERIAL PRIMARY KEY,
                    content TEXT NOT NULL,
                    sender VARCHAR(50) REFERENCES users(username),
                    group_name VARCHAR(50) NOT NULL,
                    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                    status VARCHAR(20) DEFAULT 'unread',
                    message_type_id INTEGER,
                    content_type_id INTEGER,
                    popup_message BOOLEAN DEFAULT FALSE
                )
            
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00137s] ()
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.3572s ago] ('group_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.3568s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO effect_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('欢迎来到特效组群聊！', 'system01', 'effect_group', '2024-01-10T10:00:00Z', 'sent', 2, 1, False)
2025-01-13 17:39:40 - root - WARNING - 

    "添加群聊消息失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: '2024-01-10T10:00:00Z' (expected a datetime.date or datetime.datetime instance, got 'str')
[SQL: 
                    INSERT INTO effect_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                ]
[parameters: ('欢迎来到特效组群聊！', 'system01', 'effect_group', '2024-01-10T10:00:00Z', 'sent', 2, 1, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)"   2025-01-13 17:39:40----code_context : lprint(f"添加群聊消息失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:287, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                CREATE TABLE IF NOT EXISTS effect_group_group_messages (
                    id SERIAL PRIMARY KEY,
                    content TEXT NOT NULL,
                    sender VARCHAR(50) REFERENCES users(username),
                    group_name VARCHAR(50) NOT NULL,
                    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                    status VARCHAR(20) DEFAULT 'unread',
                    message_type_id INTEGER,
                    content_type_id INTEGER,
                    popup_message BOOLEAN DEFAULT FALSE
                )
            
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.06084s ago] ()
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.4009s ago] ('group_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.4011s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO effect_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.04464s ago] ('大家好，我是OC1', 'OC1', 'effect_group', '2024-01-10T10:01:00Z', 'sent', 2, 1, False)
2025-01-13 17:39:40 - root - WARNING - 

    "添加群聊消息失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: '2024-01-10T10:01:00Z' (expected a datetime.date or datetime.datetime instance, got 'str')
[SQL: 
                    INSERT INTO effect_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                ]
[parameters: ('大家好，我是OC1', 'OC1', 'effect_group', '2024-01-10T10:01:00Z', 'sent', 2, 1, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)"   2025-01-13 17:39:40----code_context : lprint(f"添加群聊消息失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:287, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                CREATE TABLE IF NOT EXISTS effect_group_group_messages (
                    id SERIAL PRIMARY KEY,
                    content TEXT NOT NULL,
                    sender VARCHAR(50) REFERENCES users(username),
                    group_name VARCHAR(50) NOT NULL,
                    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                    status VARCHAR(20) DEFAULT 'unread',
                    message_type_id INTEGER,
                    content_type_id INTEGER,
                    popup_message BOOLEAN DEFAULT FALSE
                )
            
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.1097s ago] ()
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.451s ago] ('group_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.451s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO effect_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.1105s ago] ('你好，我是OC2', 'OC2', 'effect_group', '2024-01-10T10:02:00Z', 'sent', 2, 1, False)
2025-01-13 17:39:40 - root - WARNING - 

    "添加群聊消息失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: '2024-01-10T10:02:00Z' (expected a datetime.date or datetime.datetime instance, got 'str')
[SQL: 
                    INSERT INTO effect_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                ]
[parameters: ('你好，我是OC2', 'OC2', 'effect_group', '2024-01-10T10:02:00Z', 'sent', 2, 1, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)"   2025-01-13 17:39:40----code_context : lprint(f"添加群聊消息失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:287, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                CREATE TABLE IF NOT EXISTS animation_group_group_messages (
                    id SERIAL PRIMARY KEY,
                    content TEXT NOT NULL,
                    sender VARCHAR(50) REFERENCES users(username),
                    group_name VARCHAR(50) NOT NULL,
                    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                    status VARCHAR(20) DEFAULT 'unread',
                    message_type_id INTEGER,
                    content_type_id INTEGER,
                    popup_message BOOLEAN DEFAULT FALSE
                )
            
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.01161s] ()
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.4964s ago] ('group_chat',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.496s ago] ('plain_text',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO animation_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('欢迎来到动画组群聊！', 'system01', 'animation_group', '2024-01-10T10:00:00Z', 'sent', 2, 1, False)
2025-01-13 17:39:40 - root - WARNING - 

    "添加群聊消息失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: '2024-01-10T10:00:00Z' (expected a datetime.date or datetime.datetime instance, got 'str')
[SQL: 
                    INSERT INTO animation_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                ]
[parameters: ('欢迎来到动画组群聊！', 'system01', 'animation_group', '2024-01-10T10:00:00Z', 'sent', 2, 1, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)"   2025-01-13 17:39:40----code_context : lprint(f"添加群聊消息失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:287, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - 
                CREATE TABLE IF NOT EXISTS animation_group_group_messages (
                    id SERIAL PRIMARY KEY,
                    content TEXT NOT NULL,
                    sender VARCHAR(50) REFERENCES users(username),
                    group_name VARCHAR(50) NOT NULL,
                    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                    status VARCHAR(20) DEFAULT 'unread',
                    message_type_id INTEGER,
                    content_type_id INTEGER,
                    popup_message BOOLEAN DEFAULT FALSE
                )
            
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.04875s ago] ()
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.527s ago] ('group_chat',)
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - INFO - [cached since 0.5429s ago] ('plain_text',)
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO animation_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - INFO - [cached since 0.04924s ago] ('这里是动画制作的讨论区', 'system01', 'animation_group', '2024-01-10T10:01:00Z', 'sent', 2, 1, False)
2025-01-13 17:39:41 - root - WARNING - 

    "添加群聊消息失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: '2024-01-10T10:01:00Z' (expected a datetime.date or datetime.datetime instance, got 'str')
[SQL: 
                    INSERT INTO animation_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                ]
[parameters: ('这里是动画制作的讨论区', 'system01', 'animation_group', '2024-01-10T10:01:00Z', 'sent', 2, 1, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)"   2025-01-13 17:39:41----code_context : lprint(f"添加群聊消息失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:287, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - INFO - 
                CREATE TABLE IF NOT EXISTS animation_group_group_messages (
                    id SERIAL PRIMARY KEY,
                    content TEXT NOT NULL,
                    sender VARCHAR(50) REFERENCES users(username),
                    group_name VARCHAR(50) NOT NULL,
                    timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                    status VARCHAR(20) DEFAULT 'unread',
                    message_type_id INTEGER,
                    content_type_id INTEGER,
                    popup_message BOOLEAN DEFAULT FALSE
                )
            
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - INFO - [cached since 0.0862s ago] ()
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - INFO - [cached since 0.5939s ago] ('group_chat',)
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - INFO - [cached since 0.5943s ago] ('plain_text',)
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO animation_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - INFO - [cached since 0.09852s ago] ('好的，明白了', 'tanglinyu', 'animation_group', '2024-01-10T10:02:00Z', 'sent', 2, 1, False)
2025-01-13 17:39:41 - root - WARNING - 

    "添加群聊消息失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: '2024-01-10T10:02:00Z' (expected a datetime.date or datetime.datetime instance, got 'str')
[SQL: 
                    INSERT INTO animation_group_group_messages (
                        content, sender, group_name, timestamp, status, message_type_id, content_type_id, popup_message
                    ) VALUES (
                        $1, $2, $3, $4, $5, $6, $7, $8
                    )
                ]
[parameters: ('好的，明白了', 'tanglinyu', 'animation_group', '2024-01-10T10:02:00Z', 'sent', 2, 1, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)"   2025-01-13 17:39:41----code_context : lprint(f"添加群聊消息失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:287, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:478, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:39:41 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:39:41 - root - WARNING - 

    "7. 加载设备数据..."   2025-01-13 17:39:41----code_context : lprint("7. 加载设备数据...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:484, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:39:41 - root - WARNING - 

    "初始设备文件未找到: d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\data\\initial_devices.json"   2025-01-13 17:39:41----code_context : lprint(f"初始设备文件未找到: {json_path}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:295, -fn: load_initial_devices, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:485, ->code_context:->await load_initial_devices(->fn:initialize_db
2025-01-13 17:39:41 - root - WARNING - 

    "数据库初始化完成!"   2025-01-13 17:39:41----code_context : lprint("数据库初始化完成!") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:491, -fn: initialize_db, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:40:08 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:40:08----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:40:08 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:40:08----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:40:08 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:40:08----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:40:08 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:40:08----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:40:09 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:40:09 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:40:09 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:40:09 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:40:09----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:40:09 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:40:10 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:40:10----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:40:10 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:40:10----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:40:10 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:40:10 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:40:10----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:40:10 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:40:10----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:40:18 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:40:18----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:40:18 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:40:18----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:40:18 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:40:18----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:40:18 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:40:18----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:40:19 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:40:19 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:40:19 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:40:19 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:40:19----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:40:19 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:40:19 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:40:19----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:40:19 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:40:19----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:40:19 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:40:19 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:40:19----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:40:19 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:40:19----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:40:44 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:40:44----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:40:44 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:40:44----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:40:44 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:40:44----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:40:44 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:40:44----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:40:44 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:40:44 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:40:44 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:40:45 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:40:45----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:40:45 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:40:45 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:40:45----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:40:45 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:40:45----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:40:45 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:40:45 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:40:45----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:40:45 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:40:45----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:41:22 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:41:22----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:41:22 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:41:22----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:41:22 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:41:22----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:41:22 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:41:22----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:41:23 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:41:23 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:41:23 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:41:24 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:41:24----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:41:24 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:41:24 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:41:24----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:41:24 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:41:24----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:41:24 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:41:24 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:41:24----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:41:24 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:41:24----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:41:39 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:41:39----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:41:39 - root - WARNING - 

    "日志目录: d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:41:39----code_context : lprint(f"日志目录: {log_dir}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:640, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:41:39 - root - WARNING - 

    "日志文件: d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:41:39----code_context : lprint(f"日志文件: {log_file}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:640, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:41:39 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:41:39----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:640, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:41:39 - asyncio - DEBUG - Using proactor: IocpProactor
2025-01-13 17:41:39 - root - WARNING - 

    "1. 清空数据库..."   2025-01-13 17:41:39----code_context : lprint("1. 清空数据库...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:589, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:41:39 - root - WARNING - 

    "开始清空数据库"   2025-01-13 17:41:39----code_context : lprint("开始清空数据库") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:483, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:590, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 17:41:39 - sqlalchemy.pool.impl.AsyncAdaptedQueuePool - ERROR - Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x0000027EED9071F0>>
Traceback (most recent call last):
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\pool\base.py", line 374, in _close_connection
    self._dialect.do_terminate(connection)
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 1105, in do_terminate
    dbapi_connection.terminate()
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 884, in terminate
    self.await_(self._connection.close(timeout=2))
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 131, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\asyncpg\connection.py", line 1504, in close
    await self._protocol.close(timeout)
  File "asyncpg\\protocol\\protocol.pyx", line 627, in close
  File "asyncpg\\protocol\\protocol.pyx", line 660, in asyncpg.protocol.protocol.BaseProtocol._request_cancel
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\asyncpg\connection.py", line 1673, in _cancel_current_command
    self._cancellations.add(self._loop.create_task(self._cancel(waiter)))
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\base_events.py", line 435, in create_task
    self._check_closed()
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\base_events.py", line 520, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
2025-01-13 17:41:39 - root - WARNING - 

    "清空数据库时出错: Event loop is closed"   2025-01-13 17:41:39----code_context : lprint(f"清空数据库时出错: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:502, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:590, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 17:41:39 - root - WARNING - 

    "数据库初始化失败: Event loop is closed"   2025-01-13 17:41:39----code_context : lprint(f"数据库初始化失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:634, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:41:39 - root - WARNING - 

    "Traceback (most recent call last):
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 590, in initialize_db
    await clear_database(session)
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 492, in clear_database
    result = await session.execute(text(tables_query))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 461, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2226, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2095, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"<string>\", line 2, in _connection_for_bind
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3276, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3300, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1362, in _checkout
    with util.safe_reraise():
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1300, in _checkout
    result = pool._dialect._do_ping_w_event(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 715, in _do_ping_w_event
    return self.do_ping(dbapi_connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 1138, in do_ping
    dbapi_connection.ping()
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 810, in ping
    self._handle_exception(error)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 791, in _handle_exception
    raise error
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 808, in ping
    _ = self.await_(self._async_ping())
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 131, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 817, in _async_ping
    await tr.start()
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\transaction.py\", line 146, in start
    await self._connection.execute(query)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\connection.py\", line 349, in execute
    result = await self._protocol.query(query, timeout)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"asyncpg\\\\protocol\\\\protocol.pyx\", line 366, in query
  File \"asyncpg\\\\protocol\\\\protocol.pyx\", line 779, in asyncpg.protocol.protocol.BaseProtocol._new_waiter
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\asyncio\\base_events.py\", line 728, in call_later
    timer = self.call_at(self.time() + delay, callback, *args,
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\asyncio\\base_events.py\", line 741, in call_at
    self._check_closed()
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\asyncio\\base_events.py\", line 520, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
"   2025-01-13 17:41:39----code_context : lprint(traceback.format_exc()) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:635, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:42:00 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:42:00----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:42:00 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:42:00----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:42:00 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:42:00----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:42:00 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:42:00----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:42:01 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:42:01 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:42:01 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:42:02 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:42:02----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:42:02 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:42:02 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:42:02----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:42:02 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:42:02----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:42:02 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:42:02 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:42:02----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:42:02 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:42:02----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:42:09 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:42:09----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:42:09 - root - WARNING - 

    "日志目录: d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:42:09----code_context : lprint(f"日志目录: {log_dir}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:640, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:42:09 - root - WARNING - 

    "日志文件: d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:42:09----code_context : lprint(f"日志文件: {log_file}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:640, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:42:09 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:42:09----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:640, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:42:09 - asyncio - DEBUG - Using proactor: IocpProactor
2025-01-13 17:42:09 - root - WARNING - 

    "1. 清空数据库..."   2025-01-13 17:42:09----code_context : lprint("1. 清空数据库...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:590, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:42:09 - root - WARNING - 

    "开始清空数据库"   2025-01-13 17:42:09----code_context : lprint("开始清空数据库") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:483, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:591, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 17:42:09 - root - WARNING - 

    "清空数据库时出错: A transaction is already begun on this Session."   2025-01-13 17:42:09----code_context : lprint(f"清空数据库时出错: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:502, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:591, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 17:42:09 - root - WARNING - 

    "数据库初始化失败: A transaction is already begun on this Session."   2025-01-13 17:42:09----code_context : lprint(f"数据库初始化失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:634, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:42:09 - root - WARNING - 

    "Traceback (most recent call last):
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 591, in initialize_db
    await clear_database(session)
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 492, in clear_database
    async with session.begin():
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\base.py\", line 121, in __aenter__
    return await self.start(is_ctxmanager=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 1865, in start
    await greenlet_spawn(
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1928, in begin
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: A transaction is already begun on this Session.
"   2025-01-13 17:42:09----code_context : lprint(traceback.format_exc()) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:635, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:42:39 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:42:39----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:42:39 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:42:39----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:42:39 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:42:39----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:42:39 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:42:39----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:42:40 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:42:40 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:42:40 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:42:40 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:42:40----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:42:40 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:42:40 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:42:40----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:42:40 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:42:40----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:42:40 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:42:40 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:42:40----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:42:40 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:42:40----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:42:51 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:42:51----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:42:51 - root - WARNING - 

    "日志目录: d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:42:51----code_context : lprint(f"日志目录: {log_dir}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:644, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:42:51 - root - WARNING - 

    "日志文件: d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:42:51----code_context : lprint(f"日志文件: {log_file}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:644, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:42:51 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:42:51----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:644, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:42:51 - asyncio - DEBUG - Using proactor: IocpProactor
2025-01-13 17:42:51 - root - WARNING - 

    "1. 清空数据库..."   2025-01-13 17:42:51----code_context : lprint("1. 清空数据库...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:588, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:42:51 - root - WARNING - 

    "开始清空数据库"   2025-01-13 17:42:51----code_context : lprint("开始清空数据库") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:483, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:589, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 17:42:51 - sqlalchemy.pool.impl.AsyncAdaptedQueuePool - ERROR - Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x000001E0854871F0>>
Traceback (most recent call last):
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\pool\base.py", line 374, in _close_connection
    self._dialect.do_terminate(connection)
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 1105, in do_terminate
    dbapi_connection.terminate()
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 884, in terminate
    self.await_(self._connection.close(timeout=2))
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 131, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\asyncpg\connection.py", line 1504, in close
    await self._protocol.close(timeout)
  File "asyncpg\\protocol\\protocol.pyx", line 627, in close
  File "asyncpg\\protocol\\protocol.pyx", line 660, in asyncpg.protocol.protocol.BaseProtocol._request_cancel
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\asyncpg\connection.py", line 1673, in _cancel_current_command
    self._cancellations.add(self._loop.create_task(self._cancel(waiter)))
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\base_events.py", line 435, in create_task
    self._check_closed()
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\base_events.py", line 520, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
2025-01-13 17:42:51 - root - WARNING - 

    "清空数据库时出错: Event loop is closed"   2025-01-13 17:42:51----code_context : lprint(f"清空数据库时出错: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:501, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:589, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 17:42:51 - root - WARNING - 

    "数据库初始化失败: Event loop is closed"   2025-01-13 17:42:51----code_context : lprint(f"数据库初始化失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:638, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:42:51 - root - WARNING - 

    "Traceback (most recent call last):
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 589, in initialize_db
    await clear_database(session)
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 492, in clear_database
    result = await session.execute(text(tables_query))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 461, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2226, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2095, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"<string>\", line 2, in _connection_for_bind
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3276, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3300, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1362, in _checkout
    with util.safe_reraise():
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1300, in _checkout
    result = pool._dialect._do_ping_w_event(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 715, in _do_ping_w_event
    return self.do_ping(dbapi_connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 1138, in do_ping
    dbapi_connection.ping()
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 810, in ping
    self._handle_exception(error)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 791, in _handle_exception
    raise error
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 808, in ping
    _ = self.await_(self._async_ping())
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 131, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 817, in _async_ping
    await tr.start()
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\transaction.py\", line 146, in start
    await self._connection.execute(query)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\connection.py\", line 349, in execute
    result = await self._protocol.query(query, timeout)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"asyncpg\\\\protocol\\\\protocol.pyx\", line 366, in query
  File \"asyncpg\\\\protocol\\\\protocol.pyx\", line 779, in asyncpg.protocol.protocol.BaseProtocol._new_waiter
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\asyncio\\base_events.py\", line 728, in call_later
    timer = self.call_at(self.time() + delay, callback, *args,
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\asyncio\\base_events.py\", line 741, in call_at
    self._check_closed()
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\asyncio\\base_events.py\", line 520, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
"   2025-01-13 17:42:51----code_context : lprint(traceback.format_exc()) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:639, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:43:12 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:43:12----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:12 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:43:12----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:12 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:43:12----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:12 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:43:12----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:13 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:43:13 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:43:13 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:43:13 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:43:13----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:43:13 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:43:13 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:43:13----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:43:13 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:43:13----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:43:13 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:43:13 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:43:13----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:43:13 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:43:13----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:43:24 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:43:24----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:24 - root - WARNING - 

    "日志目录: d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:43:24----code_context : lprint(f"日志目录: {log_dir}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:659, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:24 - root - WARNING - 

    "日志文件: d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:43:24----code_context : lprint(f"日志文件: {log_file}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:659, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:24 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:43:24----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:659, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:24 - asyncio - DEBUG - Using proactor: IocpProactor
2025-01-13 17:43:24 - asyncio - DEBUG - Using proactor: IocpProactor
2025-01-13 17:43:24 - root - WARNING - 

    "数据库初始化失败: name 'create_async_engine' is not defined"   2025-01-13 17:43:24----code_context : lprint(f"数据库初始化失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:653, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:43:24 - root - WARNING - 

    "Traceback (most recent call last):
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 591, in initialize_db
    engine = create_async_engine(DATABASE_URL)
             ^^^^^^^^^^^^^^^^^^^
NameError: name 'create_async_engine' is not defined
"   2025-01-13 17:43:24----code_context : lprint(traceback.format_exc()) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:654, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:43:35 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:43:35----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:35 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:43:35----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:35 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:43:35----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:35 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:43:35----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:36 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:43:36 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:43:36 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:43:36 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:43:36----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:43:36 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:43:36 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:43:36----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:43:36 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:43:36----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:43:36 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:43:36 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:43:36----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:43:36 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:43:36----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:43:45 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:43:45----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:45 - asyncio - DEBUG - Using proactor: IocpProactor
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 17.2 on x86_64-windows, compiled by msvc-19.42.34433, 64-bit',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
                SELECT table_name 
                FROM information_schema.tables 
                WHERE table_name LIKE '%_group_messages' 
                AND table_schema = 'public'
            
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('table_name',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('group_asset_group_messages',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('group_test_group_messages',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS group_asset_group_messages CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS group_test_group_messages CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS user_group_links CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS private_messages CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS groups CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS users CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.005551s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.007656s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.009253s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.01091s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.01251s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.0146s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.01577s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.01682s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.0178s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('messagetype', 'pg_catalog')
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.002637s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.004359s ago] ('userrole', 'pg_catalog')
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.006002s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id SERIAL NOT NULL, 
	username VARCHAR NOT NULL, 
	email VARCHAR NOT NULL, 
	role userrole NOT NULL, 
	nickname VARCHAR NOT NULL, 
	avatar_index INTEGER NOT NULL, 
	last_seen TIMESTAMP WITH TIME ZONE, 
	hashed_password VARCHAR, 
	status VARCHAR NOT NULL, 
	expires_at TIMESTAMP WITH TIME ZONE, 
	created_at TIMESTAMP WITH TIME ZONE, 
	updated_at TIMESTAMP WITH TIME ZONE, 
	last_login TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id)
)


2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_username ON users (username)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [no key 0.00039s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_users_email ON users (email)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [no key 0.00029s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE groups (
	id SERIAL NOT NULL, 
	name VARCHAR NOT NULL, 
	label VARCHAR NOT NULL, 
	members VARCHAR[], 
	PRIMARY KEY (id), 
	UNIQUE (name)
)


2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_group_links (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	join_time TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES users (id), 
	FOREIGN KEY(group_id) REFERENCES groups (id)
)


2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE private_messages (
	id SERIAL NOT NULL, 
	content VARCHAR NOT NULL, 
	timestamp TIMESTAMP WITH TIME ZONE, 
	status messagestatus NOT NULL, 
	sender VARCHAR NOT NULL, 
	popup_message BOOLEAN NOT NULL, 
	message_type_id INTEGER NOT NULL, 
	content_type_id INTEGER NOT NULL, 
	recipient VARCHAR NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(sender) REFERENCES users (username), 
	FOREIGN KEY(message_type_id) REFERENCES message_types (id), 
	FOREIGN KEY(content_type_id) REFERENCES message_content_types (id), 
	FOREIGN KEY(recipient) REFERENCES users (username)
)


2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (username, email, role, nickname, avatar_index, last_seen, hashed_password, status, expires_at, created_at, updated_at, last_login) SELECT p0::VARCHAR, p1::VARCHAR, p2::userrole, p3::VARCHAR, p4::INTEGER, p5::TIMESTAMP WITH TIME ZON ... 704 characters truncated ... 5, p6, p7, p8, p9, p10, p11, sen_counter) ORDER BY sen_counter RETURNING users.id, users.id AS id__1
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s (insertmanyvalues) 1/1 (ordered)] ('system01', 'system01@example.com', 'admin', '系统用户1', 0, datetime.datetime(2025, 1, 13, 17, 43, 45, 392684, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW', 'active', None, datetime.datetime(2025, 1, 13, 9, 43, 45, 392684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 43, 45, 392684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 43, 45, 392684, tzinfo=datetime.timezone.utc), 'system02', 'system02@example.com', 'admin', '系统用户2', 0, datetime.datetime(2025, 1, 13, 17, 43, 45, 392684, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW', 'active', None, datetime.datetime(2025, 1, 13, 9, 43, 45, 392684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 43, 45, 392684, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 43, 45, 392684, tzinfo=datetime.timezone.utc))
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - INSERT INTO groups (name, label, members) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR[] FROM (VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR[], 0), ($4::VARCHAR, $5::VARCHAR, $6::VARCHAR[], 1)) AS imp_sen(p0, p1, p2, sen_counter) ORDER BY sen_counter RETURNING groups.id, groups.id AS id__1
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s (insertmanyvalues) 1/1 (ordered)] ('asset_group', '资产组', ['system01', 'system02'], 'test_group', '测试组', ['system01', 'system02'])
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT id FROM groups WHERE name = 'asset_group'
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT id FROM users WHERE username = 'system01'
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
                            SELECT 1 FROM user_group_links 
                            WHERE user_id = 1 AND group_id = 1
                        
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('?column?',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_group_links (user_id, group_id, join_time) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITH TIME ZONE)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (1, 1, datetime.datetime(2025, 1, 13, 17, 43, 45, 447183, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>))
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT id FROM users WHERE username = 'system02'
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
                            SELECT 1 FROM user_group_links 
                            WHERE user_id = 2 AND group_id = 1
                        
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('?column?',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_group_links (user_id, group_id, join_time) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITH TIME ZONE)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.00971s ago] (2, 1, datetime.datetime(2025, 1, 13, 17, 43, 45, 457183, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>))
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT id FROM groups WHERE name = 'test_group'
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT id FROM users WHERE username = 'system01'
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.01993s ago] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
                            SELECT 1 FROM user_group_links 
                            WHERE user_id = 1 AND group_id = 2
                        
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('?column?',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_group_links (user_id, group_id, join_time) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITH TIME ZONE)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.01746s ago] (1, 2, datetime.datetime(2025, 1, 13, 17, 43, 45, 465183, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>))
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - SELECT id FROM users WHERE username = 'system02'
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.01505s ago] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
                            SELECT 1 FROM user_group_links 
                            WHERE user_id = 2 AND group_id = 2
                        
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('?column?',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_group_links (user_id, group_id, join_time) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITH TIME ZONE)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [cached since 0.02397s ago] (2, 2, datetime.datetime(2025, 1, 13, 17, 43, 45, 471183, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>))
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
                    CREATE TABLE IF NOT EXISTS group_asset_group_messages (
                        id SERIAL PRIMARY KEY,
                        content TEXT NOT NULL,
                        sender VARCHAR(50) REFERENCES users(username),
                        group_name VARCHAR(50) NOT NULL,
                        timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                        status VARCHAR(20) DEFAULT 'unread'
                    )
                
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO group_asset_group_messages (
                        content, sender, group_name, timestamp, status
                    ) VALUES (
                        '欢迎来到资产组', 'system01', 'asset_group', $1, 'sent'
                    )
                
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (datetime.datetime(2025, 1, 13, 9, 43, 45, 490183, tzinfo=<UTC>),)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
                    CREATE TABLE IF NOT EXISTS group_test_group_messages (
                        id SERIAL PRIMARY KEY,
                        content TEXT NOT NULL,
                        sender VARCHAR(50) REFERENCES users(username),
                        group_name VARCHAR(50) NOT NULL,
                        timestamp TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
                        status VARCHAR(20) DEFAULT 'unread'
                    )
                
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
                    INSERT INTO group_test_group_messages (
                        content, sender, group_name, timestamp, status
                    ) VALUES (
                        '欢迎来到测试组', 'system01', 'test_group', $1, 'sent'
                    )
                
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (datetime.datetime(2025, 1, 13, 9, 43, 45, 506683, tzinfo=<UTC>),)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:43:45 - root - INFO - 数据库初始化完成
2025-01-13 17:43:45 - root - WARNING - 

    "日志目录: d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:43:45----code_context : lprint(f"日志目录: {log_dir}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:675, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:45 - root - WARNING - 

    "日志文件: d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:43:45----code_context : lprint(f"日志文件: {log_file}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:675, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:45 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:43:45----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:675, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:45 - asyncio - DEBUG - Using proactor: IocpProactor
2025-01-13 17:43:45 - asyncio - DEBUG - Using proactor: IocpProactor
2025-01-13 17:43:45 - root - WARNING - 

    "1. 清空数据库..."   2025-01-13 17:43:45----code_context : lprint("1. 清空数据库...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:616, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:43:45 - root - WARNING - 

    "开始清空数据库"   2025-01-13 17:43:45----code_context : lprint("开始清空数据库") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:499, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:617, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 17.2 on x86_64-windows, compiled by msvc-19.42.34433, 64-bit',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
            SELECT tablename 
            FROM pg_catalog.pg_tables
            WHERE schemaname = 'public'
        
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('tablename',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('group_asset_group_messages',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('group_test_group_messages',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS message_types CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS message_content_types CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS devices CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS user_private_message_links CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS message_type_private_message_links CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS message_content_type_private_message_links CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS users CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS user_group_links CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS groups CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS private_messages CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS group_asset_group_messages CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS group_test_group_messages CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ()
2025-01-13 17:43:45 - root - WARNING - 

    "数据库清空完成"   2025-01-13 17:43:45----code_context : lprint("数据库清空完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:515, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:617, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:43:45 - root - WARNING - 

    "2. 重新创建枚举类型..."   2025-01-13 17:43:45----code_context : lprint("2. 重新创建枚举类型...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:621, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:43:45 - root - WARNING - 

    "开始删除枚举类型"   2025-01-13 17:43:45----code_context : lprint("开始删除枚举类型") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:523, -fn: drop_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:622, ->code_context:->await drop_enums(session)->fn:initialize_db
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
            SELECT t.typname
            FROM pg_type t
            JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace
            WHERE t.typtype = 'e'  -- 'e' 表示枚举类型
            AND n.nspname = 'public'  -- 只查询public schema中的类型
        
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TYPE IF EXISTS messagetype CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TYPE IF EXISTS messagecontenttype CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TYPE IF EXISTS userrole CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - DROP TYPE IF EXISTS messagestatus CASCADE
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ()
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:43:45 - root - WARNING - 

    "枚举类型删除完成"   2025-01-13 17:43:45----code_context : lprint("枚举类型删除完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:542, -fn: drop_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:622, ->code_context:->await drop_enums(session)->fn:initialize_db
2025-01-13 17:43:45 - root - WARNING - 

    "开始创建枚举类型"   2025-01-13 17:43:45----code_context : lprint("开始创建枚举类型") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:551, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:623, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
                CREATE TYPE messagetype AS ENUM (
                    'private_chat', 'group_chat', 'system', 'notification'
                )
            
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ()
2025-01-13 17:43:45 - root - WARNING - 

    "创建枚举类型 messagetype 成功"   2025-01-13 17:43:45----code_context : lprint(f"创建枚举类型 {enum_name} 成功") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:569, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:623, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
                CREATE TYPE messagecontenttype AS ENUM (
                    'plain_text', 'html', 'markdown', 'image', 'file'
                )
            
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2025-01-13 17:43:45 - root - WARNING - 

    "创建枚举类型 messagecontenttype 成功"   2025-01-13 17:43:45----code_context : lprint(f"创建枚举类型 {enum_name} 成功") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:569, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:623, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
                CREATE TYPE userrole AS ENUM (
                    'admin', 'user', 'system', 'test'
                )
            
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ()
2025-01-13 17:43:45 - root - WARNING - 

    "创建枚举类型 userrole 成功"   2025-01-13 17:43:45----code_context : lprint(f"创建枚举类型 {enum_name} 成功") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:569, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:623, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - 
                CREATE TYPE messagestatus AS ENUM (
                    'unread', 'read', 'sending', 'sent', 'delivered', 'success', 'failed', 'deleted', 'recalled', 'unknown'
                )
            
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2025-01-13 17:43:45 - root - WARNING - 

    "创建枚举类型 messagestatus 成功"   2025-01-13 17:43:45----code_context : lprint(f"创建枚举类型 {enum_name} 成功") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:569, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:623, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:43:45 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:43:45 - root - WARNING - 

    "枚举类型创建完成"   2025-01-13 17:43:45----code_context : lprint("枚举类型创建完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:576, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:623, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:43:45 - root - WARNING - 

    "3. 创建表..."   2025-01-13 17:43:45----code_context : lprint("3. 创建表...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:627, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:43:45 - sqlalchemy.pool.impl.AsyncAdaptedQueuePool - ERROR - Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x000002AA8C7DD7B0>>
Traceback (most recent call last):
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\pool\base.py", line 374, in _close_connection
    self._dialect.do_terminate(connection)
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 1105, in do_terminate
    dbapi_connection.terminate()
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 884, in terminate
    self.await_(self._connection.close(timeout=2))
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 131, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\asyncpg\connection.py", line 1504, in close
    await self._protocol.close(timeout)
  File "asyncpg\\protocol\\protocol.pyx", line 627, in close
  File "asyncpg\\protocol\\protocol.pyx", line 660, in asyncpg.protocol.protocol.BaseProtocol._request_cancel
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\asyncpg\connection.py", line 1673, in _cancel_current_command
    self._cancellations.add(self._loop.create_task(self._cancel(waiter)))
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\base_events.py", line 435, in create_task
    self._check_closed()
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\base_events.py", line 520, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
2025-01-13 17:43:45 - root - WARNING - 

    "创建表时出错: Event loop is closed"   2025-01-13 17:43:45----code_context : lprint(f"创建表时出错: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:596, -fn: create_tables, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:628, ->code_context:->await create_tables()->fn:initialize_db
2025-01-13 17:43:45 - root - WARNING - 

    "数据库初始化失败: Event loop is closed"   2025-01-13 17:43:45----code_context : lprint(f"数据库初始化失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:669, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:43:45 - root - WARNING - 

    "Traceback (most recent call last):
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 628, in initialize_db
    await create_tables()
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 584, in create_tables
    async with engine.begin() as conn:
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\contextlib.py\", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\engine.py\", line 1063, in begin
    async with conn:
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\base.py\", line 121, in __aenter__
    return await self.start(is_ctxmanager=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\engine.py\", line 273, in start
    await greenlet_spawn(self.sync_engine.connect)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3276, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3300, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1362, in _checkout
    with util.safe_reraise():
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1300, in _checkout
    result = pool._dialect._do_ping_w_event(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 715, in _do_ping_w_event
    return self.do_ping(dbapi_connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 1138, in do_ping
    dbapi_connection.ping()
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 810, in ping
    self._handle_exception(error)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 791, in _handle_exception
    raise error
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 808, in ping
    _ = self.await_(self._async_ping())
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 131, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 817, in _async_ping
    await tr.start()
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\transaction.py\", line 146, in start
    await self._connection.execute(query)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\connection.py\", line 349, in execute
    result = await self._protocol.query(query, timeout)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"asyncpg\\\\protocol\\\\protocol.pyx\", line 366, in query
  File \"asyncpg\\\\protocol\\\\protocol.pyx\", line 779, in asyncpg.protocol.protocol.BaseProtocol._new_waiter
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\asyncio\\base_events.py\", line 728, in call_later
    timer = self.call_at(self.time() + delay, callback, *args,
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\asyncio\\base_events.py\", line 741, in call_at
    self._check_closed()
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\asyncio\\base_events.py\", line 520, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
"   2025-01-13 17:43:45----code_context : lprint(traceback.format_exc()) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:670, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:43:56 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:43:56----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:56 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:43:56----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:56 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:43:56----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:56 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:43:56----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:57 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:43:57 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:43:57 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:43:57 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:43:57----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:43:57 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:43:57 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:43:57----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:43:57 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:43:57----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:43:57 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:43:57 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:43:57----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:43:57 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:43:57----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:43:59 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:43:59----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:43:59 - asyncio - DEBUG - Using proactor: IocpProactor
2025-01-13 17:43:59 - root - WARNING - 

    "1. 清空数据库..."   2025-01-13 17:43:59----code_context : lprint("1. 清空数据库...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:589, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:43:59 - root - WARNING - 

    "开始清空数据库"   2025-01-13 17:43:59----code_context : lprint("开始清空数据库") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:483, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:590, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 17:43:59 - sqlalchemy.pool.impl.AsyncAdaptedQueuePool - ERROR - Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x0000023B8FB871F0>>
Traceback (most recent call last):
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\pool\base.py", line 374, in _close_connection
    self._dialect.do_terminate(connection)
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 1105, in do_terminate
    dbapi_connection.terminate()
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 884, in terminate
    self.await_(self._connection.close(timeout=2))
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 131, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\asyncpg\connection.py", line 1504, in close
    await self._protocol.close(timeout)
  File "asyncpg\\protocol\\protocol.pyx", line 627, in close
  File "asyncpg\\protocol\\protocol.pyx", line 660, in asyncpg.protocol.protocol.BaseProtocol._request_cancel
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\site-packages\asyncpg\connection.py", line 1673, in _cancel_current_command
    self._cancellations.add(self._loop.create_task(self._cancel(waiter)))
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\base_events.py", line 435, in create_task
    self._check_closed()
  File "D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\base_events.py", line 520, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
2025-01-13 17:43:59 - root - WARNING - 

    "清空数据库时出错: Event loop is closed"   2025-01-13 17:43:59----code_context : lprint(f"清空数据库时出错: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:502, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:590, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 17:43:59 - root - WARNING - 

    "数据库初始化失败: Event loop is closed"   2025-01-13 17:43:59----code_context : lprint(f"数据库初始化失败: {str(e)}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:634, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:43:59 - root - WARNING - 

    "Traceback (most recent call last):
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 590, in initialize_db
    await clear_database(session)
  File \"d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\init_database.py\", line 492, in clear_database
    result = await session.execute(text(tables_query))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 461, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2226, in _execute_internal
    conn = self._connection_for_bind(bind)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2095, in _connection_for_bind
    return trans._connection_for_bind(engine, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"<string>\", line 2, in _connection_for_bind
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1189, in _connection_for_bind
    conn = bind.connect()
           ^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3276, in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 146, in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3300, in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 449, in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1362, in _checkout
    with util.safe_reraise():
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1300, in _checkout
    result = pool._dialect._do_ping_w_event(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 715, in _do_ping_w_event
    return self.do_ping(dbapi_connection)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 1138, in do_ping
    dbapi_connection.ping()
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 810, in ping
    self._handle_exception(error)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 791, in _handle_exception
    raise error
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 808, in ping
    _ = self.await_(self._async_ping())
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 131, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 817, in _async_ping
    await tr.start()
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\transaction.py\", line 146, in start
    await self._connection.execute(query)
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\site-packages\\asyncpg\\connection.py\", line 349, in execute
    result = await self._protocol.query(query, timeout)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"asyncpg\\\\protocol\\\\protocol.pyx\", line 366, in query
  File \"asyncpg\\\\protocol\\\\protocol.pyx\", line 779, in asyncpg.protocol.protocol.BaseProtocol._new_waiter
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\asyncio\\base_events.py\", line 728, in call_later
    timer = self.call_at(self.time() + delay, callback, *args,
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\asyncio\\base_events.py\", line 741, in call_at
    self._check_closed()
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\python_env\\Lib\\asyncio\\base_events.py\", line 520, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
"   2025-01-13 17:43:59----code_context : lprint(traceback.format_exc()) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:635, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:44:21 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:44:21----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:44:21 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:44:21----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:44:21 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:44:21----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:44:21 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:44:21----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:44:22 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:44:22 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:44:22 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:44:22 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:44:22----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:44:22 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:44:22 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:44:22----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:44:22 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:44:22----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:44:22 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:44:22 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:44:22----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:44:22 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:44:22----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:44:27 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:44:27----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:44:27 - asyncio - DEBUG - Using proactor: IocpProactor
2025-01-13 17:44:27 - root - WARNING - 

    "1. 清空数据库..."   2025-01-13 17:44:27----code_context : lprint("1. 清空数据库...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:418, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:44:27 - root - WARNING - 

    "开始清空数据库"   2025-01-13 17:44:27----code_context : lprint("开始清空数据库") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:312, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:419, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 17.2 on x86_64-windows, compiled by msvc-19.42.34433, 64-bit',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - 
            SELECT tablename 
            FROM pg_catalog.pg_tables
            WHERE schemaname = 'public'
        
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('tablename',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('group_asset_group_messages',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('group_test_group_messages',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS users CASCADE
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS user_group_links CASCADE
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS groups CASCADE
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS private_messages CASCADE
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS message_types CASCADE
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS message_type_private_message_links CASCADE
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS message_content_types CASCADE
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS devices CASCADE
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS user_private_message_links CASCADE
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS message_content_type_private_message_links CASCADE
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS group_asset_group_messages CASCADE
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - DROP TABLE IF EXISTS group_test_group_messages CASCADE
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:27 - root - WARNING - 

    "数据库清空完成"   2025-01-13 17:44:27----code_context : lprint("数据库清空完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:329, -fn: clear_database, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:419, ->code_context:->await clear_database(session)->fn:initialize_db
2025-01-13 17:44:27 - root - WARNING - 

    "2. 重新创建枚举类型..."   2025-01-13 17:44:27----code_context : lprint("2. 重新创建枚举类型...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:422, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:44:27 - root - WARNING - 

    "开始删除枚举类型"   2025-01-13 17:44:27----code_context : lprint("开始删除枚举类型") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:337, -fn: drop_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:423, ->code_context:->await drop_enums(session)->fn:initialize_db
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - 
            SELECT t.typname
            FROM pg_type t
            JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace
            WHERE t.typtype = 'e'  -- 'e' 表示枚举类型
            AND n.nspname = 'public'  -- 只查询public schema中的类型
        
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - DROP TYPE IF EXISTS messagetype CASCADE
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - DROP TYPE IF EXISTS messagecontenttype CASCADE
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - DROP TYPE IF EXISTS userrole CASCADE
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - DROP TYPE IF EXISTS messagestatus CASCADE
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:27 - root - WARNING - 

    "枚举类型删除完成"   2025-01-13 17:44:27----code_context : lprint("枚举类型删除完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:356, -fn: drop_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:423, ->code_context:->await drop_enums(session)->fn:initialize_db
2025-01-13 17:44:27 - root - WARNING - 

    "开始创建枚举类型"   2025-01-13 17:44:27----code_context : lprint("开始创建枚举类型") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:365, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:424, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - 
                CREATE TYPE messagetype AS ENUM (
                    'private_chat', 'group_chat', 'system', 'notification'
                )
            
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00084s] ()
2025-01-13 17:44:27 - root - WARNING - 

    "创建枚举类型 messagetype 成功"   2025-01-13 17:44:27----code_context : lprint(f"创建枚举类型 {enum_name} 成功") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:383, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:424, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - 
                CREATE TYPE messagecontenttype AS ENUM (
                    'plain_text', 'html', 'markdown', 'image', 'file'
                )
            
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00080s] ()
2025-01-13 17:44:27 - root - WARNING - 

    "创建枚举类型 messagecontenttype 成功"   2025-01-13 17:44:27----code_context : lprint(f"创建枚举类型 {enum_name} 成功") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:383, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:424, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - 
                CREATE TYPE userrole AS ENUM (
                    'admin', 'user', 'system', 'test'
                )
            
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] ()
2025-01-13 17:44:27 - root - WARNING - 

    "创建枚举类型 userrole 成功"   2025-01-13 17:44:27----code_context : lprint(f"创建枚举类型 {enum_name} 成功") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:383, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:424, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - 
                CREATE TYPE messagestatus AS ENUM (
                    'unread', 'read', 'sending', 'sent', 'delivered', 'success', 'failed', 'deleted', 'recalled', 'unknown'
                )
            
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] ()
2025-01-13 17:44:27 - root - WARNING - 

    "创建枚举类型 messagestatus 成功"   2025-01-13 17:44:27----code_context : lprint(f"创建枚举类型 {enum_name} 成功") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:383, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:424, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:27 - root - WARNING - 

    "枚举类型创建完成"   2025-01-13 17:44:27----code_context : lprint("枚举类型创建完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:390, -fn: create_enums, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:424, ->code_context:->await create_enums(session)->fn:initialize_db
2025-01-13 17:44:27 - root - WARNING - 

    "3. 创建表..."   2025-01-13 17:44:27----code_context : lprint("3. 创建表...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:427, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00104s] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [cached since 0.007353s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [cached since 0.009774s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [cached since 0.01253s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [cached since 0.01496s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [cached since 0.01762s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [cached since 0.02074s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [cached since 0.02329s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [cached since 0.02552s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [cached since 0.0271s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] ('messagetype', 'pg_catalog')
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [cached since 0.004644s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [cached since 0.008138s ago] ('userrole', 'pg_catalog')
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [cached since 0.01133s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE message_types (
	id SERIAL NOT NULL, 
	type_code messagetype NOT NULL, 
	description VARCHAR NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (type_code)
)


2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [no key 0.00071s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE message_content_types (
	id SERIAL NOT NULL, 
	type_code messagecontenttype NOT NULL, 
	description VARCHAR NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (type_code)
)


2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [no key 0.00103s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE users (
	id SERIAL NOT NULL, 
	username VARCHAR NOT NULL, 
	email VARCHAR NOT NULL, 
	role userrole NOT NULL, 
	nickname VARCHAR NOT NULL, 
	avatar_index INTEGER NOT NULL, 
	last_seen TIMESTAMP WITH TIME ZONE, 
	hashed_password VARCHAR, 
	status VARCHAR NOT NULL, 
	expires_at TIMESTAMP WITH TIME ZONE, 
	created_at TIMESTAMP WITH TIME ZONE, 
	updated_at TIMESTAMP WITH TIME ZONE, 
	last_login TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id)
)


2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [no key 0.00121s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_users_email ON users (email)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [no key 0.00049s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_users_username ON users (username)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [no key 0.00037s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE groups (
	id SERIAL NOT NULL, 
	name VARCHAR NOT NULL, 
	label VARCHAR NOT NULL, 
	members VARCHAR[], 
	PRIMARY KEY (id), 
	UNIQUE (name)
)


2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [no key 0.00083s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_group_links (
	user_id INTEGER NOT NULL, 
	group_id INTEGER NOT NULL, 
	join_time TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (user_id, group_id), 
	FOREIGN KEY(user_id) REFERENCES users (id), 
	FOREIGN KEY(group_id) REFERENCES groups (id)
)


2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [no key 0.00101s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE private_messages (
	id SERIAL NOT NULL, 
	content VARCHAR NOT NULL, 
	timestamp TIMESTAMP WITH TIME ZONE, 
	status messagestatus NOT NULL, 
	sender VARCHAR NOT NULL, 
	popup_message BOOLEAN NOT NULL, 
	message_type_id INTEGER NOT NULL, 
	content_type_id INTEGER NOT NULL, 
	recipient VARCHAR NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(sender) REFERENCES users (username), 
	FOREIGN KEY(message_type_id) REFERENCES message_types (id), 
	FOREIGN KEY(content_type_id) REFERENCES message_content_types (id), 
	FOREIGN KEY(recipient) REFERENCES users (username)
)


2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [no key 0.00142s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE devices (
	id SERIAL NOT NULL, 
	device_id VARCHAR NOT NULL, 
	user_id INTEGER NOT NULL, 
	device_name VARCHAR NOT NULL, 
	device_type VARCHAR NOT NULL, 
	login_status BOOLEAN NOT NULL, 
	ip_address VARCHAR NOT NULL, 
	user_agent VARCHAR NOT NULL, 
	first_login TIMESTAMP WITH TIME ZONE, 
	last_seen TIMESTAMP WITH TIME ZONE, 
	login_count INTEGER NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [no key 0.00237s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - CREATE UNIQUE INDEX ix_devices_device_id ON devices (device_id)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [no key 0.00051s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE user_private_message_links (
	user_id INTEGER NOT NULL, 
	private_message_id INTEGER NOT NULL, 
	is_sender BOOLEAN NOT NULL, 
	PRIMARY KEY (user_id, private_message_id), 
	FOREIGN KEY(user_id) REFERENCES users (id), 
	FOREIGN KEY(private_message_id) REFERENCES private_messages (id)
)


2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [no key 0.00085s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE message_type_private_message_links (
	message_type_id INTEGER NOT NULL, 
	private_message_id INTEGER NOT NULL, 
	PRIMARY KEY (message_type_id, private_message_id), 
	FOREIGN KEY(message_type_id) REFERENCES message_types (id), 
	FOREIGN KEY(private_message_id) REFERENCES private_messages (id)
)


2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [no key 0.00086s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE message_content_type_private_message_links (
	message_content_type_id INTEGER NOT NULL, 
	private_message_id INTEGER NOT NULL, 
	PRIMARY KEY (message_content_type_id, private_message_id), 
	FOREIGN KEY(message_content_type_id) REFERENCES message_content_types (id), 
	FOREIGN KEY(private_message_id) REFERENCES private_messages (id)
)


2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [no key 0.00073s] ()
2025-01-13 17:44:27 - root - WARNING - 

    "基础表创建完成"   2025-01-13 17:44:27----code_context : lprint("基础表创建完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:400, -fn: create_tables, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:428, ->code_context:->await create_tables()->fn:initialize_db
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - [generated in 0.00074s] ()
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:27 - root - WARNING - 

    "群组消息表创建完成"   2025-01-13 17:44:27----code_context : lprint("群组消息表创建完成") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:408, -fn: create_tables, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:428, ->code_context:->await create_tables()->fn:initialize_db
2025-01-13 17:44:27 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:44:27 - root - WARNING - 

    "4. 加载用户数据..."   2025-01-13 17:44:27----code_context : lprint("4. 加载用户数据...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:431, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:44:27 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:44:27 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:44:27 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:44:27 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:44:27 - passlib.handlers.bcrypt - DEBUG - detected 'bcrypt' backend, version '3.2.0'
2025-01-13 17:44:27 - passlib.handlers.bcrypt - DEBUG - 'bcrypt' backend lacks $2$ support, enabling workaround
2025-01-13 17:44:28 - root - WARNING - 

    "添加用户: admin01"   2025-01-13 17:44:28----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:44:28 - root - WARNING - 

    "添加用户: system01"   2025-01-13 17:44:28----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:44:28 - root - WARNING - 

    "添加用户: zhangqunzhong"   2025-01-13 17:44:28----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:44:28 - root - WARNING - 

    "添加用户: fengqingqing"   2025-01-13 17:44:28----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:44:28 - root - WARNING - 

    "添加用户: zhaiwenpeng"   2025-01-13 17:44:28----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:44:29 - root - WARNING - 

    "添加用户: OC6"   2025-01-13 17:44:29----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:44:29 - root - WARNING - 

    "添加用户: OC5"   2025-01-13 17:44:29----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:44:29 - root - WARNING - 

    "添加用户: OC4"   2025-01-13 17:44:29----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:44:29 - root - WARNING - 

    "添加用户: OC3"   2025-01-13 17:44:29----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:44:29 - root - WARNING - 

    "添加用户: OC2"   2025-01-13 17:44:29----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户: OC1"   2025-01-13 17:44:30----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户: liujunlong"   2025-01-13 17:44:30----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户: julia01"   2025-01-13 17:44:30----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户: tanglinyu"   2025-01-13 17:44:30----code_context : lprint(f"添加用户: {user['username']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:68, -fn: load_initial_users, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:432, ->code_context:->user_groups_map = await load_initial_users(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "5. 加载群组数据..."   2025-01-13 17:44:30----code_context : lprint("5. 加载群组数据...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:438, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:44:30 - root - WARNING - 

    "添加群组: asset_group (资产组)"   2025-01-13 17:44:30----code_context : lprint(f"添加群组: {group['name']} ({group['label']})") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:98, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "添加群组: animation_group (动画组)"   2025-01-13 17:44:30----code_context : lprint(f"添加群组: {group['name']} ({group['label']})") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:98, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "添加群组: effect_group (特效组)"   2025-01-13 17:44:30----code_context : lprint(f"添加群组: {group['name']} ({group['label']})") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:98, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "添加群组: solve_group (解算组)"   2025-01-13 17:44:30----code_context : lprint(f"添加群组: {group['name']} ({group['label']})") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:98, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "添加群组: light_group (灯光组)"   2025-01-13 17:44:30----code_context : lprint(f"添加群组: {group['name']} ({group['label']})") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:98, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - INSERT INTO groups (name, label, members) SELECT p0::VARCHAR, p1::VARCHAR, p2::VARCHAR[] FROM (VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR[], 0), ($4::VARCHAR, $5::VARCHAR, $6::VARCHAR[], 1), ($7::VARCHAR, $8::VARCHAR, $9::VARCHAR[], 2), ($10::VARCHAR, $11::VARCHAR, $12::VARCHAR[], 3), ($13::VARCHAR, $14::VARCHAR, $15::VARCHAR[], 4)) AS imp_sen(p0, p1, p2, sen_counter) ORDER BY sen_counter RETURNING groups.id, groups.id AS id__1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s (insertmanyvalues) 1/1 (ordered)] ('asset_group', '资产组', [], 'animation_group', '动画组', [], 'effect_group', '特效组', [], 'solve_group', '解算组', [], 'light_group', '灯光组', [])
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (3,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (4,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (5,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (username, email, role, nickname, avatar_index, last_seen, hashed_password, status, expires_at, created_at, updated_at, last_login) SELECT p0::VARCHAR, p1::VARCHAR, p2::userrole, p3::VARCHAR, p4::INTEGER, p5::TIMESTAMP WITH TIME ZON ... 3885 characters truncated ... 5, p6, p7, p8, p9, p10, p11, sen_counter) ORDER BY sen_counter RETURNING users.id, users.id AS id__1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s (insertmanyvalues) 1/1 (ordered)] ('admin01', 'admin1@example.com', 'admin', '管理员一', 0, datetime.datetime(2025, 1, 13, 17, 44, 28, 211182, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$yGVquzWx2wjze3KX4.K09.NZx.A8NKoat3yVUoo0SjPx85ysv0/.K', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 28, 211182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 28, 211182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc), 'system01', 'system1@example.com', 'system', '系统账户一', 0, datetime.datetime(2025, 1, 13, 17, 44, 28, 395683, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$WvQYicggCQyljBgvMYR2m.F67a1dt.nwBP5CQgLbanDELbgTJDojC', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 28, 395683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 28, 395683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc), 'zhangqunzhong', 'test1@example.com', 'user', '张群忠', 0, datetime.datetime(2025, 1, 13, 17, 44, 28, 578683, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$RHQydgpZ15wq1VWNJiYi4.0lZiJ5zvdT0ETuS12qKPJL4flLa.ze2', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 28, 578683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 28, 578683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc), 'fengqingqing', 'alice@example.com', 'user', '冯青青', 0, datetime.datetime(2025, 1, 13, 17, 44, 28, 765183, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$SUqwbZr0Pz22ao7lsI4myu/Bo4iOS9BiBeQB11DrFibmI7QYwnDEe', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 28, 765183, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 28, 765183, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc), 'zhaiwenpeng', 'zhaiwenpeng@example.com' ... 68 parameters truncated ... datetime.datetime(2025, 1, 13, 9, 44, 29, 873182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc), 'OC1', 'OC1@example.com', 'system', 'OC1_26_服务器', 0, datetime.datetime(2025, 1, 13, 17, 44, 30, 58683, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$uVXR64i8gGFyxlpTXmhf2efwtBBKXG8I03x88l3x1CNEzkGGx2cAm', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 30, 58683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 30, 58683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc), 'liujunlong', 'liujunlong@example.com', 'user', '刘俊龙', 0, datetime.datetime(2025, 1, 13, 17, 44, 30, 242683, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$59PYK2XwUdVCqkF46eGfqOzI2DOiux85q89g7HGi1tb5eItC7atOy', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 30, 242683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 30, 242683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc), 'julia01', 'julia@example.com', 'user', '朱莉娅', 0, datetime.datetime(2025, 1, 13, 17, 44, 30, 427183, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$gT7k/N0K76Qaf3MxReZKV.Jl/GCe7Vo5iFStWOY8ueHuG0udRNOO2', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 30, 427183, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 30, 427183, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc), 'tanglinyu', 'tanglinyu@example.com', 'user', '唐林钰', 0, datetime.datetime(2025, 1, 13, 17, 44, 30, 612182, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), '$2b$12$8L27Wik.dDUlmY0mY0Y6SuWJUY6ic4hI8IWaTepOAg6yA1j4MR.cG', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 30, 612182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 30, 612182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (3,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (4,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (5,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (6,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (7,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (8,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (9,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (10,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (11,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (12,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (13,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (14,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] ('admin01',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1, 'admin01', 'admin1@example.com', <UserRole.admin: 'admin'>, '管理员一', 0, datetime.datetime(2025, 1, 13, 9, 44, 28, 211182, tzinfo=datetime.timezone.utc), '$2b$12$yGVquzWx2wjze3KX4.K09.NZx.A8NKoat3yVUoo0SjPx85ysv0/.K', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 28, 211182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 28, 211182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] ('asset_group',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1, 'asset_group', '资产组', [])
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户 admin01 到群组 asset_group"   2025-01-13 17:44:30----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.007019s ago] ('animation_group',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'animation_group', '动画组', [])
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户 admin01 到群组 animation_group"   2025-01-13 17:44:30----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.01517s ago] ('system01',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 44, 28, 395683, tzinfo=datetime.timezone.utc), '$2b$12$WvQYicggCQyljBgvMYR2m.F67a1dt.nwBP5CQgLbanDELbgTJDojC', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 28, 395683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 28, 395683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.01368s ago] ('solve_group',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'solve_group', '解算组', [])
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户 system01 到群组 solve_group"   2025-01-13 17:44:30----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.02132s ago] ('zhangqunzhong',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (3, 'zhangqunzhong', 'test1@example.com', <UserRole.user: 'user'>, '张群忠', 0, datetime.datetime(2025, 1, 13, 9, 44, 28, 578683, tzinfo=datetime.timezone.utc), '$2b$12$RHQydgpZ15wq1VWNJiYi4.0lZiJ5zvdT0ETuS12qKPJL4flLa.ze2', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 28, 578683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 28, 578683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.01993s ago] ('light_group',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (5, 'light_group', '灯光组', [])
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户 zhangqunzhong 到群组 light_group"   2025-01-13 17:44:30----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.02368s ago] ('effect_group',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (3, 'effect_group', '特效组', [])
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户 zhangqunzhong 到群组 effect_group"   2025-01-13 17:44:30----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.04245s ago] ('fengqingqing',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'fengqingqing', 'alice@example.com', <UserRole.user: 'user'>, '冯青青', 0, datetime.datetime(2025, 1, 13, 9, 44, 28, 765183, tzinfo=datetime.timezone.utc), '$2b$12$SUqwbZr0Pz22ao7lsI4myu/Bo4iOS9BiBeQB11DrFibmI7QYwnDEe', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 28, 765183, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 28, 765183, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.04212s ago] ('solve_group',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'solve_group', '解算组', [])
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户 fengqingqing 到群组 solve_group"   2025-01-13 17:44:30----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.05081s ago] ('zhaiwenpeng',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (5, 'zhaiwenpeng', 'zhaiwenpeng@example.com', <UserRole.user: 'user'>, '翟文朋', 0, datetime.datetime(2025, 1, 13, 9, 44, 28, 948683, tzinfo=datetime.timezone.utc), '$2b$12$RQRKob/tTc9iQzy23vOPMubLxjy4gA8e1R3mxWtjjfwp1wSBzMSGy', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 28, 948683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 28, 948683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.05239s ago] ('effect_group',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (3, 'effect_group', '特效组', [])
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户 zhaiwenpeng 到群组 effect_group"   2025-01-13 17:44:30----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.06167s ago] ('OC6',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (6, 'OC6', 'OC6@example.com', <UserRole.system: 'system'>, 'OC6_26_服务器', 0, datetime.datetime(2025, 1, 13, 9, 44, 29, 133683, tzinfo=datetime.timezone.utc), '$2b$12$vseJdch8FBt4O0YyxzQDbO5KDpcMVoAX.kyYzrtwrngvM0491vqDa', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 29, 133683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 29, 133683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.06398s ago] ('solve_group',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'solve_group', '解算组', [])
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户 OC6 到群组 solve_group"   2025-01-13 17:44:30----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.07223s ago] ('OC5',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (7, 'OC5', 'OC5@example.com', <UserRole.system: 'system'>, 'OC5_26_服务器', 0, datetime.datetime(2025, 1, 13, 9, 44, 29, 321683, tzinfo=datetime.timezone.utc), '$2b$12$P59v3nXUBi0XBVdmB2N8VeATMBBKJL3p54.dnBTbqwUS4RUzlASNi', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 29, 321683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 29, 321683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.07117s ago] ('solve_group',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'solve_group', '解算组', [])
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户 OC5 到群组 solve_group"   2025-01-13 17:44:30----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.07876s ago] ('OC4',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (8, 'OC4', 'OC4@example.com', <UserRole.system: 'system'>, 'OC4_26_服务器', 0, datetime.datetime(2025, 1, 13, 9, 44, 29, 504182, tzinfo=datetime.timezone.utc), '$2b$12$j41Afx1TVabOFesN8DMEGeX/vH2RWK6b9YXSLT0CMPVwvXqb6Ce1S', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 29, 504182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 29, 504182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.07727s ago] ('solve_group',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'solve_group', '解算组', [])
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户 OC4 到群组 solve_group"   2025-01-13 17:44:30----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.08474s ago] ('OC3',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (9, 'OC3', 'OC3@example.com', <UserRole.system: 'system'>, 'OC3_26_服务器', 0, datetime.datetime(2025, 1, 13, 9, 44, 29, 688683, tzinfo=datetime.timezone.utc), '$2b$12$8R7cCPb5WjmoNeNPMKuGPevJLKIMTQq3Fj3wD9CyS0nbcSwZqXCXS', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 29, 688683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 29, 688683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.08314s ago] ('solve_group',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'solve_group', '解算组', [])
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户 OC3 到群组 solve_group"   2025-01-13 17:44:30----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.09052s ago] ('OC2',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (10, 'OC2', 'OC2@example.com', <UserRole.system: 'system'>, 'OC2_26_服务器', 0, datetime.datetime(2025, 1, 13, 9, 44, 29, 873182, tzinfo=datetime.timezone.utc), '$2b$12$lCGKfd6NMThK9XpbmyXL3uPwwd0RAKSu7DOtVnTY1.zxEOxLyBsFy', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 29, 873182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 29, 873182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.0888s ago] ('solve_group',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'solve_group', '解算组', [])
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户 OC2 到群组 solve_group"   2025-01-13 17:44:30----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.09633s ago] ('OC1',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (11, 'OC1', 'OC1@example.com', <UserRole.system: 'system'>, 'OC1_26_服务器', 0, datetime.datetime(2025, 1, 13, 9, 44, 30, 58683, tzinfo=datetime.timezone.utc), '$2b$12$uVXR64i8gGFyxlpTXmhf2efwtBBKXG8I03x88l3x1CNEzkGGx2cAm', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 30, 58683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 30, 58683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.09507s ago] ('solve_group',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (4, 'solve_group', '解算组', [])
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户 OC1 到群组 solve_group"   2025-01-13 17:44:30----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.1029s ago] ('liujunlong',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (12, 'liujunlong', 'liujunlong@example.com', <UserRole.user: 'user'>, '刘俊龙', 0, datetime.datetime(2025, 1, 13, 9, 44, 30, 242683, tzinfo=datetime.timezone.utc), '$2b$12$59PYK2XwUdVCqkF46eGfqOzI2DOiux85q89g7HGi1tb5eItC7atOy', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 30, 242683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 30, 242683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.1013s ago] ('asset_group',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1, 'asset_group', '资产组', [])
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户 liujunlong 到群组 asset_group"   2025-01-13 17:44:30----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.109s ago] ('julia01',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (13, 'julia01', 'julia@example.com', <UserRole.user: 'user'>, '朱莉娅', 0, datetime.datetime(2025, 1, 13, 9, 44, 30, 427183, tzinfo=datetime.timezone.utc), '$2b$12$gT7k/N0K76Qaf3MxReZKV.Jl/GCe7Vo5iFStWOY8ueHuG0udRNOO2', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 30, 427183, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 30, 427183, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.1076s ago] ('asset_group',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1, 'asset_group', '资产组', [])
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户 julia01 到群组 asset_group"   2025-01-13 17:44:30----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.1156s ago] ('tanglinyu',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (14, 'tanglinyu', 'tanglinyu@example.com', <UserRole.user: 'user'>, '唐林钰', 0, datetime.datetime(2025, 1, 13, 9, 44, 30, 612182, tzinfo=datetime.timezone.utc), '$2b$12$8L27Wik.dDUlmY0mY0Y6SuWJUY6ic4hI8IWaTepOAg6yA1j4MR.cG', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 30, 612182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 30, 612182, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT groups.id, groups.name, groups.label, groups.members 
FROM groups 
WHERE groups.name = $1::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.1141s ago] ('light_group',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'name', 'label', 'members')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (5, 'light_group', '灯光组', [])
2025-01-13 17:44:30 - root - WARNING - 

    "添加用户 tanglinyu 到群组 light_group"   2025-01-13 17:44:30----code_context : lprint(f"添加用户 {username} 到群组 {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:133, -fn: load_initial_groups, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:439, ->code_context:->await load_initial_groups(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "6. 加载消息数据..."   2025-01-13 17:44:30----code_context : lprint("6. 加载消息数据...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:446, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:44:30 - root - WARNING - 

    "添加消息类型: private_chat"   2025-01-13 17:44:30----code_context : lprint(f"添加消息类型: {msg_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:157, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "添加消息类型: group_chat"   2025-01-13 17:44:30----code_context : lprint(f"添加消息类型: {msg_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:157, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "添加消息类型: system"   2025-01-13 17:44:30----code_context : lprint(f"添加消息类型: {msg_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:157, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "添加消息类型: notification"   2025-01-13 17:44:30----code_context : lprint(f"添加消息类型: {msg_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:157, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "添加消息内容类型: plain_text"   2025-01-13 17:44:30----code_context : lprint(f"添加消息内容类型: {content_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:171, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "添加消息内容类型: html"   2025-01-13 17:44:30----code_context : lprint(f"添加消息内容类型: {content_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:171, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "添加消息内容类型: markdown"   2025-01-13 17:44:30----code_context : lprint(f"添加消息内容类型: {content_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:171, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "添加消息内容类型: image"   2025-01-13 17:44:30----code_context : lprint(f"添加消息内容类型: {content_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:171, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:30 - root - WARNING - 

    "添加消息内容类型: file"   2025-01-13 17:44:30----code_context : lprint(f"添加消息内容类型: {content_type['type_code']}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:171, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - INSERT INTO message_content_types (type_code, description) SELECT p0::messagecontenttype, p1::VARCHAR FROM (VALUES ($1::messagecontenttype, $2::VARCHAR, 0), ($3::messagecontenttype, $4::VARCHAR, 1), ($5::messagecontenttype, $6::VARCHAR, 2), ($7::messagecontenttype, $8::VARCHAR, 3), ($9::messagecontenttype, $10::VARCHAR, 4)) AS imp_sen(p0, p1, sen_counter) ORDER BY sen_counter RETURNING message_content_types.id, message_content_types.id AS id__1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s (insertmanyvalues) 1/1 (ordered)] ('plain_text', '纯文本', 'html', 'HTML格式', 'markdown', 'Markdown格式', 'image', '图片', 'file', '文件')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (3,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (4,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (5,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - INSERT INTO message_types (type_code, description) SELECT p0::messagetype, p1::VARCHAR FROM (VALUES ($1::messagetype, $2::VARCHAR, 0), ($3::messagetype, $4::VARCHAR, 1), ($5::messagetype, $6::VARCHAR, 2), ($7::messagetype, $8::VARCHAR, 3)) AS imp_sen(p0, p1, sen_counter) ORDER BY sen_counter RETURNING message_types.id, message_types.id AS id__1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s (insertmanyvalues) 1/1 (ordered)] ('private_chat', '私聊消息', 'group_chat', '群聊消息', 'system', '系统消息', 'notification', '通知消息')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (3,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (4,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_group_links (user_id, group_id, join_time) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITH TIME ZONE)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] [(1, 1, datetime.datetime(2025, 1, 13, 9, 44, 30, 615183, tzinfo=datetime.timezone.utc)), (1, 2, datetime.datetime(2025, 1, 13, 9, 44, 30, 615183, tzinfo=datetime.timezone.utc)), (2, 4, datetime.datetime(2025, 1, 13, 9, 44, 30, 615183, tzinfo=datetime.timezone.utc)), (3, 5, datetime.datetime(2025, 1, 13, 9, 44, 30, 615183, tzinfo=datetime.timezone.utc)), (3, 3, datetime.datetime(2025, 1, 13, 9, 44, 30, 615183, tzinfo=datetime.timezone.utc)), (4, 4, datetime.datetime(2025, 1, 13, 9, 44, 30, 615183, tzinfo=datetime.timezone.utc)), (5, 3, datetime.datetime(2025, 1, 13, 9, 44, 30, 615183, tzinfo=datetime.timezone.utc)), (6, 4, datetime.datetime(2025, 1, 13, 9, 44, 30, 615183, tzinfo=datetime.timezone.utc))  ... displaying 10 of 16 total bound parameter sets ...  (13, 1, datetime.datetime(2025, 1, 13, 9, 44, 30, 615183, tzinfo=datetime.timezone.utc)), (14, 5, datetime.datetime(2025, 1, 13, 9, 44, 30, 615183, tzinfo=datetime.timezone.utc))]
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('private_chat',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('plain_text',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 17:44:30----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.006955s ago] ('private_chat',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.005906s ago] ('plain_text',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 17:44:30----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.01136s ago] ('private_chat',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.01028s ago] ('plain_text',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 17:44:30----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.01581s ago] ('private_chat',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.01491s ago] ('plain_text',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 17:44:30----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.02196s ago] ('private_chat',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.02104s ago] ('plain_text',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 17:44:30----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.02648s ago] ('private_chat',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.02545s ago] ('plain_text',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 17:44:30----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.0312s ago] ('private_chat',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.02997s ago] ('plain_text',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - root - WARNING - 

    "添加私聊消息: private_chat - plain_text"   2025-01-13 17:44:30----code_context : lprint(f"添加私聊消息: {msg_type} - {content_type}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:211, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - INSERT INTO private_messages (content, timestamp, status, sender, popup_message, message_type_id, content_type_id, recipient) SELECT p0::VARCHAR, p1::TIMESTAMP WITH TIME ZONE, p2::messagestatus, p3::VARCHAR, p4::BOOLEAN, p5::INTEGER, p6::INTEGER, p7: ... 1029 characters truncated ... 6, p7, sen_counter) ORDER BY sen_counter RETURNING private_messages.id, private_messages.id AS id__1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s (insertmanyvalues) 1/1 (ordered)] ('你好,admin01!', datetime.datetime(2025, 1, 13, 17, 44, 30, 840184, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), 'sent', 'fengqingqing', False, 1, 1, 'admin01', '你好,fengqingqing!', datetime.datetime(2025, 1, 13, 17, 44, 30, 844683, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), 'sent', 'admin01', False, 1, 1, 'fengqingqing', '你好，欢迎加入我们的团队！', datetime.datetime(2025, 1, 13, 17, 44, 30, 849184, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), 'sent', 'system01', False, 1, 1, 'fengqingqing', '谢谢！很高兴能加入团队', datetime.datetime(2025, 1, 13, 17, 44, 30, 854184, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), 'sent', 'fengqingqing', False, 1, 1, 'system01', '如果有任何问题，随时可以问我', datetime.datetime(2025, 1, 13, 17, 44, 30, 859683, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), 'sent', 'system01', False, 1, 1, 'fengqingqing', '好的，谢谢你', datetime.datetime(2025, 1, 13, 17, 44, 30, 864184, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), 'sent', 'fengqingqing', False, 1, 1, 'system01', '祝你工作顺利！', datetime.datetime(2025, 1, 13, 17, 44, 30, 868684, tzinfo=<DstTzInfo 'Asia/Shanghai' CST+8:00:00 STD>), 'sent', 'system01', False, 1, 1, 'fengqingqing')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (3,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (4,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (5,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (6,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (7,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 3.147s ago] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 3.151s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 3.153s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 3.155s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 3.157s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 3.159s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 3.162s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 3.164s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 3.166s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 3.168s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 3.17s ago] ('solve_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 3.143s ago] ('messagetype', 'pg_catalog')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 3.146s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 3.148s ago] ('userrole', 'pg_catalog')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 3.151s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE solve_group_group_messages (
	id SERIAL NOT NULL, 
	content VARCHAR NOT NULL, 
	sender VARCHAR NOT NULL, 
	timestamp TIMESTAMP WITH TIME ZONE, 
	popup_message BOOLEAN NOT NULL, 
	status VARCHAR[], 
	message_type_id INTEGER NOT NULL, 
	content_type_id INTEGER NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(sender) REFERENCES users (username), 
	FOREIGN KEY(message_type_id) REFERENCES message_types (id), 
	FOREIGN KEY(content_type_id) REFERENCES message_content_types (id)
)


2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [no key 0.00144s] ()
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_solve_group_group_messages_content ON solve_group_group_messages (content)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [no key 0.00052s] ()
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.1292s ago] ('group_chat',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - INFO - [cached since 0.1295s ago] ('plain_text',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:30 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:30 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> solve_group"   2025-01-13 17:44:30----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.306s ago] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.315s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.317s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.32s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.323s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.327s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.33s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.333s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.337s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.34s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.343s ago] ('solve_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('solve_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.317s ago] ('messagetype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.322s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.326s ago] ('userrole', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.329s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.281s ago] ('group_chat',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.2804s ago] ('plain_text',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> solve_group"   2025-01-13 17:44:31----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.376s ago] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.379s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.381s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.383s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.386s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.389s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.391s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.393s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.395s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.397s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.399s ago] ('solve_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('solve_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.372s ago] ('messagetype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.375s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.378s ago] ('userrole', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.38s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.3303s ago] ('group_chat',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.3294s ago] ('plain_text',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> solve_group"   2025-01-13 17:44:31----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.424s ago] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.427s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.43s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.432s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.434s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.437s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.439s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.441s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.443s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.445s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.447s ago] ('solve_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('solve_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.419s ago] ('messagetype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.422s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.425s ago] ('userrole', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.427s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.3777s ago] ('group_chat',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.3769s ago] ('plain_text',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> solve_group"   2025-01-13 17:44:31----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.472s ago] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.475s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.477s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.479s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.481s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.483s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.485s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.487s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.489s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.491s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.493s ago] ('solve_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('solve_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.494s ago] ('light_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.467s ago] ('messagetype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.469s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.472s ago] ('userrole', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.474s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE light_group_group_messages (
	id SERIAL NOT NULL, 
	content VARCHAR NOT NULL, 
	sender VARCHAR NOT NULL, 
	timestamp TIMESTAMP WITH TIME ZONE, 
	popup_message BOOLEAN NOT NULL, 
	status VARCHAR[], 
	message_type_id INTEGER NOT NULL, 
	content_type_id INTEGER NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(sender) REFERENCES users (username), 
	FOREIGN KEY(message_type_id) REFERENCES message_types (id), 
	FOREIGN KEY(content_type_id) REFERENCES message_content_types (id)
)


2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [no key 0.00109s] ()
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_light_group_group_messages_content ON light_group_group_messages (content)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [no key 0.00052s] ()
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.4506s ago] ('group_chat',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.4524s ago] ('plain_text',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> light_group"   2025-01-13 17:44:31----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.551s ago] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.555s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.557s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.559s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.561s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.564s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.566s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.568s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.57s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.572s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.574s ago] ('solve_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('solve_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.576s ago] ('light_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('light_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.549s ago] ('messagetype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.553s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.556s ago] ('userrole', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.56s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.5111s ago] ('group_chat',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.5102s ago] ('plain_text',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> light_group"   2025-01-13 17:44:31----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.604s ago] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.607s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.609s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.611s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.614s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.615s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.618s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.621s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.623s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.625s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.628s ago] ('solve_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('solve_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.63s ago] ('light_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('light_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.603s ago] ('messagetype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.606s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.609s ago] ('userrole', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.611s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.562s ago] ('group_chat',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.561s ago] ('plain_text',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> light_group"   2025-01-13 17:44:31----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.655s ago] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.658s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.66s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.662s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.664s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.666s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.669s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.672s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.674s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.676s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.678s ago] ('solve_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('solve_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.68s ago] ('light_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('light_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.682s ago] ('asset_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.654s ago] ('messagetype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.657s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.659s ago] ('userrole', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.662s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE asset_group_group_messages (
	id SERIAL NOT NULL, 
	content VARCHAR NOT NULL, 
	sender VARCHAR NOT NULL, 
	timestamp TIMESTAMP WITH TIME ZONE, 
	popup_message BOOLEAN NOT NULL, 
	status VARCHAR[], 
	message_type_id INTEGER NOT NULL, 
	content_type_id INTEGER NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(sender) REFERENCES users (username), 
	FOREIGN KEY(message_type_id) REFERENCES message_types (id), 
	FOREIGN KEY(content_type_id) REFERENCES message_content_types (id)
)


2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [no key 0.00087s] ()
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_asset_group_group_messages_content ON asset_group_group_messages (content)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [no key 0.00064s] ()
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.6348s ago] ('group_chat',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.6379s ago] ('plain_text',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> asset_group"   2025-01-13 17:44:31----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.739s ago] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.743s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.746s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.749s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.754s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.758s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.761s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.764s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.766s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.77s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.773s ago] ('solve_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('solve_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.775s ago] ('light_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('light_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.777s ago] ('asset_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('asset_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.75s ago] ('messagetype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.754s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.758s ago] ('userrole', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.761s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.7127s ago] ('group_chat',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.7122s ago] ('plain_text',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> asset_group"   2025-01-13 17:44:31----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.807s ago] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.81s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.813s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.815s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.817s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.819s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.821s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.823s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.825s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.827s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.83s ago] ('solve_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('solve_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.832s ago] ('light_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('light_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.834s ago] ('asset_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('asset_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.837s ago] ('effect_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.81s ago] ('messagetype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.813s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.816s ago] ('userrole', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.819s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE effect_group_group_messages (
	id SERIAL NOT NULL, 
	content VARCHAR NOT NULL, 
	sender VARCHAR NOT NULL, 
	timestamp TIMESTAMP WITH TIME ZONE, 
	popup_message BOOLEAN NOT NULL, 
	status VARCHAR[], 
	message_type_id INTEGER NOT NULL, 
	content_type_id INTEGER NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(sender) REFERENCES users (username), 
	FOREIGN KEY(message_type_id) REFERENCES message_types (id), 
	FOREIGN KEY(content_type_id) REFERENCES message_content_types (id)
)


2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [no key 0.00126s] ()
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_effect_group_group_messages_content ON effect_group_group_messages (content)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [no key 0.00091s] ()
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.7921s ago] ('group_chat',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.7934s ago] ('plain_text',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> effect_group"   2025-01-13 17:44:31----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.891s ago] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.895s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.897s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.9s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.903s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.905s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.908s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.91s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.912s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.914s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.916s ago] ('solve_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('solve_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.919s ago] ('light_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('light_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.921s ago] ('asset_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('asset_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.923s ago] ('effect_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('effect_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.896s ago] ('messagetype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.9s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.903s ago] ('userrole', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.906s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.8581s ago] ('group_chat',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.8574s ago] ('plain_text',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> effect_group"   2025-01-13 17:44:31----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.952s ago] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.955s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.957s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.96s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.962s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.964s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.966s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.968s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.97s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.973s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.975s ago] ('solve_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('solve_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.977s ago] ('light_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('light_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.98s ago] ('asset_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('asset_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.982s ago] ('effect_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('effect_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.956s ago] ('messagetype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.959s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.962s ago] ('userrole', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 3.965s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.9154s ago] ('group_chat',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.9149s ago] ('plain_text',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> effect_group"   2025-01-13 17:44:31----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.013s ago] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.015s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.017s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.02s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.021s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.023s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.025s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.027s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.029s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.031s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.033s ago] ('solve_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('solve_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.035s ago] ('light_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('light_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.038s ago] ('asset_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('asset_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.04s ago] ('effect_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('effect_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.042s ago] ('animation_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.014s ago] ('messagetype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.016s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.018s ago] ('userrole', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.021s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - 
CREATE TABLE animation_group_group_messages (
	id SERIAL NOT NULL, 
	content VARCHAR NOT NULL, 
	sender VARCHAR NOT NULL, 
	timestamp TIMESTAMP WITH TIME ZONE, 
	popup_message BOOLEAN NOT NULL, 
	status VARCHAR[], 
	message_type_id INTEGER NOT NULL, 
	content_type_id INTEGER NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(sender) REFERENCES users (username), 
	FOREIGN KEY(message_type_id) REFERENCES message_types (id), 
	FOREIGN KEY(content_type_id) REFERENCES message_content_types (id)
)


2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [no key 0.00100s] ()
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - CREATE INDEX ix_animation_group_group_messages_content ON animation_group_group_messages (content)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [no key 0.00067s] ()
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.9931s ago] ('group_chat',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.9946s ago] ('plain_text',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> animation_group"   2025-01-13 17:44:31----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.092s ago] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.096s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.098s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.101s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.103s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.106s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.108s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.111s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.113s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.115s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.117s ago] ('solve_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('solve_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.119s ago] ('light_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('light_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.122s ago] ('asset_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('asset_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.124s ago] ('effect_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('effect_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.127s ago] ('animation_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('animation_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.099s ago] ('messagetype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.103s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.106s ago] ('userrole', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.108s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 1.06s ago] ('group_chat',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 1.059s ago] ('plain_text',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> animation_group"   2025-01-13 17:44:31----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.153s ago] ('user_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.156s ago] ('message_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.158s ago] ('message_content_type_private_message_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_type_private_message_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.16s ago] ('user_group_links', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('user_group_links',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.161s ago] ('message_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.163s ago] ('message_content_types', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('message_content_types',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.165s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('users',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.167s ago] ('groups', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('groups',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.169s ago] ('private_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('private_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.171s ago] ('devices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('devices',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.173s ago] ('solve_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('solve_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.175s ago] ('light_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('light_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.177s ago] ('asset_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('asset_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.179s ago] ('effect_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('effect_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.181s ago] ('animation_group_group_messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('relname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('animation_group_group_messages',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.153s ago] ('messagetype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagetype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.156s ago] ('messagecontenttype', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagecontenttype',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.159s ago] ('userrole', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('userrole',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 4.161s ago] ('messagestatus', 'pg_catalog')
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('typname',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row ('messagestatus',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 1.111s ago] ('group_chat',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - SELECT id FROM message_content_types WHERE type_code = $1
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [cached since 1.11s ago] ('plain_text',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - root - WARNING - 

    "添加群聊消息: group_chat - plain_text -> animation_group"   2025-01-13 17:44:31----code_context : lprint(f"添加群聊消息: {msg_type} - {content_type} -> {group_name}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:265, -fn: load_initial_messages, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:447, ->code_context:->await load_initial_messages(->fn:initialize_db
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - INSERT INTO effect_group_group_messages (content, sender, timestamp, popup_message, status, message_type_id, content_type_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::TIMESTAMP WITH TIME ZONE, $4::BOOLEAN, $5::VARCHAR[], $6::INTEGER, $7::INTEGER) RETURNING effect_group_group_messages.id
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [generated in 0.00090s] ('你好，我是OC2', 'OC2', datetime.datetime(2025, 1, 13, 17, 44, 31, 756683, tzinfo=zoneinfo.ZoneInfo(key='Asia/Shanghai')), False, ['s', 'e', 'n', 't'], 2, 1)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - INSERT INTO light_group_group_messages (content, sender, timestamp, popup_message, status, message_type_id, content_type_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::TIMESTAMP WITH TIME ZONE, $4::BOOLEAN, $5::VARCHAR[], $6::INTEGER, $7::INTEGER) RETURNING light_group_group_messages.id
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [generated in 0.00135s] ('你好，我是朱丽叶', 'julia01', datetime.datetime(2025, 1, 13, 17, 44, 31, 401684, tzinfo=zoneinfo.ZoneInfo(key='Asia/Shanghai')), False, ['s', 'e', 'n', 't'], 2, 1)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - INSERT INTO animation_group_group_messages (content, sender, timestamp, popup_message, status, message_type_id, content_type_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::TIMESTAMP WITH TIME ZONE, $4::BOOLEAN, $5::VARCHAR[], $6::INTEGER, $7::INTEGER) RETURNING animation_group_group_messages.id
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] ('这里是动画制作的讨论区', 'system01', datetime.datetime(2025, 1, 13, 17, 44, 31, 899184, tzinfo=zoneinfo.ZoneInfo(key='Asia/Shanghai')), False, ['s', 'e', 'n', 't'], 2, 1)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - INSERT INTO light_group_group_messages (content, sender, timestamp, popup_message, status, message_type_id, content_type_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::TIMESTAMP WITH TIME ZONE, $4::BOOLEAN, $5::VARCHAR[], $6::INTEGER, $7::INTEGER) RETURNING light_group_group_messages.id
2025-01-13 17:44:31 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('欢迎来到灯光组群聊！', 'system01', datetime.datetime(2025, 1, 13, 17, 44, 31, 295183, tzinfo=zoneinfo.ZoneInfo(key='Asia/Shanghai')), False, ['s', 'e', 'n', 't'], 2, 1)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - INSERT INTO light_group_group_messages (content, sender, timestamp, popup_message, status, message_type_id, content_type_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::TIMESTAMP WITH TIME ZONE, $4::BOOLEAN, $5::VARCHAR[], $6::INTEGER, $7::INTEGER) RETURNING light_group_group_messages.id
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00081s] ('大家好，我是刘俊龙', 'liujunlong', datetime.datetime(2025, 1, 13, 17, 44, 31, 350683, tzinfo=zoneinfo.ZoneInfo(key='Asia/Shanghai')), False, ['s', 'e', 'n', 't'], 2, 1)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Row (3,)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - INSERT INTO asset_group_group_messages (content, sender, timestamp, popup_message, status, message_type_id, content_type_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::TIMESTAMP WITH TIME ZONE, $4::BOOLEAN, $5::VARCHAR[], $6::INTEGER, $7::INTEGER) RETURNING asset_group_group_messages.id
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] ('大家好，我是唐林玉', 'tanglinyu', datetime.datetime(2025, 1, 13, 17, 44, 31, 553183, tzinfo=zoneinfo.ZoneInfo(key='Asia/Shanghai')), False, ['s', 'e', 'n', 't'], 2, 1)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - INSERT INTO effect_group_group_messages (content, sender, timestamp, popup_message, status, message_type_id, content_type_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::TIMESTAMP WITH TIME ZONE, $4::BOOLEAN, $5::VARCHAR[], $6::INTEGER, $7::INTEGER) RETURNING effect_group_group_messages.id
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('欢迎来到特效组群聊！', 'system01', datetime.datetime(2025, 1, 13, 17, 44, 31, 635183, tzinfo=zoneinfo.ZoneInfo(key='Asia/Shanghai')), False, ['s', 'e', 'n', 't'], 2, 1)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - INSERT INTO effect_group_group_messages (content, sender, timestamp, popup_message, status, message_type_id, content_type_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::TIMESTAMP WITH TIME ZONE, $4::BOOLEAN, $5::VARCHAR[], $6::INTEGER, $7::INTEGER) RETURNING effect_group_group_messages.id
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('大家好，我是OC1', 'OC1', datetime.datetime(2025, 1, 13, 17, 44, 31, 698184, tzinfo=zoneinfo.ZoneInfo(key='Asia/Shanghai')), False, ['s', 'e', 'n', 't'], 2, 1)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Row (3,)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - INSERT INTO solve_group_group_messages (content, sender, timestamp, popup_message, status, message_type_id, content_type_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::TIMESTAMP WITH TIME ZONE, $4::BOOLEAN, $5::VARCHAR[], $6::INTEGER, $7::INTEGER) RETURNING solve_group_group_messages.id
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] ('好的，我们开始吧', 'OC5', datetime.datetime(2025, 1, 13, 17, 44, 31, 217683, tzinfo=zoneinfo.ZoneInfo(key='Asia/Shanghai')), False, ['s', 'e', 'n', 't'], 2, 1)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - INSERT INTO animation_group_group_messages (content, sender, timestamp, popup_message, status, message_type_id, content_type_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::TIMESTAMP WITH TIME ZONE, $4::BOOLEAN, $5::VARCHAR[], $6::INTEGER, $7::INTEGER) RETURNING animation_group_group_messages.id
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('好的，明白了', 'tanglinyu', datetime.datetime(2025, 1, 13, 17, 44, 31, 950683, tzinfo=zoneinfo.ZoneInfo(key='Asia/Shanghai')), False, ['s', 'e', 'n', 't'], 2, 1)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - INSERT INTO asset_group_group_messages (content, sender, timestamp, popup_message, status, message_type_id, content_type_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::TIMESTAMP WITH TIME ZONE, $4::BOOLEAN, $5::VARCHAR[], $6::INTEGER, $7::INTEGER) RETURNING asset_group_group_messages.id
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('欢迎来到资产组群聊！', 'system01', datetime.datetime(2025, 1, 13, 17, 44, 31, 482184, tzinfo=zoneinfo.ZoneInfo(key='Asia/Shanghai')), False, ['s', 'e', 'n', 't'], 2, 1)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - INSERT INTO solve_group_group_messages (content, sender, timestamp, popup_message, status, message_type_id, content_type_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::TIMESTAMP WITH TIME ZONE, $4::BOOLEAN, $5::VARCHAR[], $6::INTEGER, $7::INTEGER) RETURNING solve_group_group_messages.id
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('大家好，我是唐林玉', 'tanglinyu', datetime.datetime(2025, 1, 13, 17, 44, 31, 121683, tzinfo=zoneinfo.ZoneInfo(key='Asia/Shanghai')), False, ['s', 'e', 'n', 't'], 2, 1)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Row (2,)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - INSERT INTO solve_group_group_messages (content, sender, timestamp, popup_message, status, message_type_id, content_type_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::TIMESTAMP WITH TIME ZONE, $4::BOOLEAN, $5::VARCHAR[], $6::INTEGER, $7::INTEGER) RETURNING solve_group_group_messages.id
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('欢迎来到解算组群聊！', 'system01', datetime.datetime(2025, 1, 13, 17, 44, 30, 971184, tzinfo=zoneinfo.ZoneInfo(key='Asia/Shanghai')), False, ['s', 'e', 'n', 't'], 2, 1)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Row (3,)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - INSERT INTO solve_group_group_messages (content, sender, timestamp, popup_message, status, message_type_id, content_type_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::TIMESTAMP WITH TIME ZONE, $4::BOOLEAN, $5::VARCHAR[], $6::INTEGER, $7::INTEGER) RETURNING solve_group_group_messages.id
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] ('今天我们讨论一下新项目的解算方案', 'system01', datetime.datetime(2025, 1, 13, 17, 44, 31, 169683, tzinfo=zoneinfo.ZoneInfo(key='Asia/Shanghai')), False, ['s', 'e', 'n', 't'], 2, 1)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Row (4,)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - INSERT INTO animation_group_group_messages (content, sender, timestamp, popup_message, status, message_type_id, content_type_id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::TIMESTAMP WITH TIME ZONE, $4::BOOLEAN, $5::VARCHAR[], $6::INTEGER, $7::INTEGER) RETURNING animation_group_group_messages.id
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('欢迎来到动画组群聊！', 'system01', datetime.datetime(2025, 1, 13, 17, 44, 31, 837183, tzinfo=zoneinfo.ZoneInfo(key='Asia/Shanghai')), False, ['s', 'e', 'n', 't'], 2, 1)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - DEBUG - Row (3,)
2025-01-13 17:44:32 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:44:32 - root - WARNING - 

    "7. 加载设备数据..."   2025-01-13 17:44:32----code_context : lprint("7. 加载设备数据...") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:453, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:44:32 - root - WARNING - 

    "初始设备文件未找到: d:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\data\\initial_devices.json"   2025-01-13 17:44:32----code_context : lprint(f"初始设备文件未找到: {json_path}") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:277, -fn: load_initial_devices, 
>>callBy: File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:454, ->code_context:->await load_initial_devices(->fn:initialize_db
2025-01-13 17:44:32 - root - WARNING - 

    "数据库初始化完成!"   2025-01-13 17:44:32----code_context : lprint("数据库初始化完成!") 
File: d:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\init_database.py:460, -fn: initialize_db, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\python_env\Lib\asyncio\events.py:84, ->code_context:->self._context.run(self._callback, *self._args)->fn:_run
2025-01-13 17:45:00 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:45:00----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:45:00 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:45:00----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:45:00 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:45:00----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:45:00 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:45:00----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:45:00 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:45:00 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:45:00 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:45:01 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:45:01----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:45:01 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:45:01 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:45:01----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:45:01 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:45:01----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:45:01 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:45:01 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:45:01----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:45:01 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:45:01----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_name with data[0:8]
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_data with data[9:17]
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_name with data[18:26]
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_data with data[27:30]
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_name with data[31:41]
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_data with data[42:50]
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_name with data[51:56]
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_name with data[58:67]
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_name with data[69:82]
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-01-13 17:45:11 - multipart.multipart - DEBUG - Calling on_end with no data
2025-01-13 17:45:11 - root - WARNING - 

    "收到登录请求 - 用户名: system01, 客户端IP: 127.0.0.1"   2025-01-13 17:45:11----code_context : lprint(f"收到登录请求 - 用户名: {form_data.username}, 客户端IP: {request.client.host}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:136, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:45:11 - root - WARNING - 

    "请求头: {'host': '127.0.0.1:1026', 'accept': 'application/json', 'accept-encoding': 'gzip, deflate', 'user-agent': 'Python/3.11 aiohttp/3.11.10', 'content-length': '83', 'content-type': 'application/x-www-form-urlencoded'}"   2025-01-13 17:45:11----code_context : lprint(f"请求头: {dict(request.headers)}", level=logging.DEBUG) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:137, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:45:11 - root - WARNING - 

    "认证用户: system01"   2025-01-13 17:45:11----code_context : lprint(f"认证用户: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:170, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 17.2 on x86_64-windows, compiled by msvc-19.42.34433, 64-bit',)
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - [generated in 0.00104s] ('system01',)
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 44, 28, 395683, tzinfo=datetime.timezone.utc), '$2b$12$WvQYicggCQyljBgvMYR2m.F67a1dt.nwBP5CQgLbanDELbgTJDojC', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 28, 395683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 28, 395683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:45:11 - root - WARNING - 

    "用户验证成功: system01"   2025-01-13 17:45:11----code_context : lprint(f"用户验证成功: {username}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:181, -fn: authenticate_user, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:140, ->code_context:->user = await authenticate_user(form_data.username, form_data.password)->fn:login
2025-01-13 17:45:11 - root - WARNING - 

    "获取密钥: a3f1e5c9d8b4a6e3f2c1d4b5e6f7a8c9d0e1f2a3b4c5d6e7f8g9h0i1j2k3l4m"   2025-01-13 17:45:11----code_context : lprint(f"获取密钥: {SECRET_KEY}", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:69, -fn: get_secret_key, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:98, ->code_context:->encoded_jwt = jwt.encode(to_encode, get_secret_key(), algorithm=ALGORITHM)->fn:create_access_token
2025-01-13 17:45:11 - root - WARNING - 

    "创建访问令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:45:11----code_context : lprint(f"创建访问令牌: {encoded_jwt[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:99, -fn: create_access_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:151, ->code_context:->access_token = create_access_token(->fn:login
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - SELECT devices.id, devices.device_id, devices.user_id, devices.device_name, devices.device_type, devices.login_status, devices.ip_address, devices.user_agent, devices.first_login, devices.last_seen, devices.login_count 
FROM devices 
WHERE devices.user_id = $1::INTEGER AND devices.device_name = $2::VARCHAR AND devices.ip_address = $3::VARCHAR
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] (2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', '127.0.0.1')
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'device_id', 'user_id', 'device_name', 'device_type', 'login_status', 'ip_address', 'user_agent', 'first_login', 'last_seen', 'login_count')
2025-01-13 17:45:11 - root - WARNING - 

    "创建新设备: Python/3.11 aiohttp/3.11.10 (127.0.0.1), ID: 4af4d235-90b9-4b45-a086-959676435acc"   2025-01-13 17:45:11----code_context : lprint(f"创建新设备: {device_name}, ID: {device_id}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:211, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - INSERT INTO devices (device_id, user_id, device_name, device_type, login_status, ip_address, user_agent, first_login, last_seen, login_count) VALUES ($1::VARCHAR, $2::INTEGER, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN, $6::VARCHAR, $7::VARCHAR, $8::TIMESTAMP WITH TIME ZONE, $9::TIMESTAMP WITH TIME ZONE, $10::INTEGER) RETURNING devices.id
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('4af4d235-90b9-4b45-a086-959676435acc', 2, 'Python/3.11 aiohttp/3.11.10 (127.0.0.1)', 'unknown', True, '127.0.0.1', 'Python/3.11 aiohttp/3.11.10', datetime.datetime(2025, 1, 13, 17, 45, 11, 653184, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), datetime.datetime(2025, 1, 13, 17, 45, 11, 653184, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 1)
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - DEBUG - Col ('id',)
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - DEBUG - Row (1,)
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-01-13 17:45:11 - root - WARNING - 

    "用户登录成功: system01, IP: 127.0.0.1, 设备ID: 4af4d235-90b9-4b45-a086-959676435acc, 设备名称: Python/3.11 aiohttp/3.11.10 (127.0.0.1), 设备类型: unknown"   2025-01-13 17:45:11----code_context : lprint(f"用户登录成功: {user.username}, IP: {client_host}, 设备ID: {device_id}, 设备名称: {device_name}, 设备类型: {device_type}", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:221, -fn: login, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:45:11 - engineio.server - INFO - RVY5u--pOospoi9cAAAA: Sending packet OPEN data {'sid': 'RVY5u--pOospoi9cAAAA', 'upgrades': [], 'pingTimeout': 60000, 'pingInterval': 25000}
2025-01-13 17:45:11 - engineio.server - INFO - RVY5u--pOospoi9cAAAA: Received request to upgrade to websocket
2025-01-13 17:45:11 - engineio.server - INFO - RVY5u--pOospoi9cAAAA: Upgrade to websocket successful
2025-01-13 17:45:11 - engineio.server - INFO - RVY5u--pOospoi9cAAAA: Received packet MESSAGE data 0{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MjQxMX0.T4f82VhdugAuJ2DlnHpU9D4gUQ0CNUs12-NReE5-L44"
}
2025-01-13 17:45:11 - engineio.server - INFO - RVY5u--pOospoi9cAAAA: Sending packet MESSAGE data 0{
  "sid": "R3xlJih_1pDALW43AAAB"
}
2025-01-13 17:45:11 - root - WARNING - 

    "收到连接请求: sid=R3xlJih_1pDALW43AAAB, auth={'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MjQxMX0.T4f82VhdugAuJ2DlnHpU9D4gUQ0CNUs12-NReE5-L44'}"   2025-01-13 17:45:11----code_context : lprint(f"收到连接请求: sid={sid}, auth={auth}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:338, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:45:11 - root - WARNING - 

    "验证 token: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:45:11----code_context : lprint(f"验证 token: {token[:20]}...") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:350, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:45:11 - root - WARNING - 

    "验证令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:45:11----code_context : lprint(f"验证令牌: {token[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:104, -fn: authenticate_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:351, ->code_context:->user = await authenticate_token(token)->fn:connect
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - [cached since 0.1347s ago] ('system01',)
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 44, 28, 395683, tzinfo=datetime.timezone.utc), '$2b$12$WvQYicggCQyljBgvMYR2m.F67a1dt.nwBP5CQgLbanDELbgTJDojC', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 28, 395683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 28, 395683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:45:11 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:45:11 - root - WARNING - 

    "用户 system01 连接成功"   2025-01-13 17:45:11----code_context : lprint(f"用户 {user.username} 连接成功") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:358, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:45:11 - socketio.server - INFO - emitting event "connect_success" to R3xlJih_1pDALW43AAAB [/]
2025-01-13 17:45:11 - engineio.server - INFO - RVY5u--pOospoi9cAAAA: Sending packet MESSAGE data 2[
  "connect_success",
  {
    "message": "Welcome system01!",
    "sid": "R3xlJih_1pDALW43AAAB"
  }
]
2025-01-13 17:45:11 - socketio.server - INFO - emitting event "user_connected" to all [/]
2025-01-13 17:45:12 - engineio.server - INFO - RVY5u--pOospoi9cAAAA: Received packet MESSAGE data 2[
  "message",
  {
    "content": "这是一条群聊测试消息",
    "recipient": "asset_group",
    "message_type": "group_chat",
    "timestamp": "2025-01-13T17:45:12.764183+08:00"
  }
]
2025-01-13 17:45:12 - socketio.server - INFO - received event "message" from R3xlJih_1pDALW43AAAB [/]
2025-01-13 17:45:12 - root - WARNING - 

    "处理消息时发生错误: 'ConnectionManager' object has no attribute 'get_user_by_sid'"   2025-01-13 17:45:12----code_context : lprint(f"处理消息时发生错误: {str(e)}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:175, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:45:12 - root - WARNING - 

    "Traceback (most recent call last):
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\app\\core\\message_handlers.py\", line 105, in handle_message
    sender = self.connection_manager.get_user_by_sid(sid)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ConnectionManager' object has no attribute 'get_user_by_sid'
"   2025-01-13 17:45:12----code_context : lprint(traceback.format_exc(), popui=False) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:176, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:45:13 - engineio.server - INFO - RVY5u--pOospoi9cAAAA: Received packet MESSAGE data 2[
  "message",
  {
    "content": "这是一条私聊测试消息",
    "recipient": "system02",
    "message_type": "private_chat",
    "timestamp": "2025-01-13T17:45:13.769683+08:00"
  }
]
2025-01-13 17:45:13 - socketio.server - INFO - received event "message" from R3xlJih_1pDALW43AAAB [/]
2025-01-13 17:45:13 - root - WARNING - 

    "处理消息时发生错误: 'ConnectionManager' object has no attribute 'get_user_by_sid'"   2025-01-13 17:45:13----code_context : lprint(f"处理消息时发生错误: {str(e)}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:175, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:45:13 - root - WARNING - 

    "Traceback (most recent call last):
  File \"D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend\\app\\core\\message_handlers.py\", line 105, in handle_message
    sender = self.connection_manager.get_user_by_sid(sid)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ConnectionManager' object has no attribute 'get_user_by_sid'
"   2025-01-13 17:45:13----code_context : lprint(traceback.format_exc(), popui=False) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:176, -fn: handle_message, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:395, ->code_context:->await message_handlers.handle_message(sid, data)->fn:message
2025-01-13 17:45:14 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:45:14----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:45:14 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:45:14----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:45:14 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:45:14----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:45:14 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:45:14----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:45:15 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:45:15 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:45:15 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:45:15 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:45:15----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:45:15 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:45:15 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:45:15----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:45:15 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:45:15----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:45:15 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:45:15 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:45:15----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:45:15 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:45:15----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:45:15 - engineio.server - INFO - uxB8FMp30U4sJ3oCAAAA: Sending packet OPEN data {'sid': 'uxB8FMp30U4sJ3oCAAAA', 'upgrades': [], 'pingTimeout': 60000, 'pingInterval': 25000}
2025-01-13 17:45:15 - engineio.server - INFO - uxB8FMp30U4sJ3oCAAAA: Received request to upgrade to websocket
2025-01-13 17:45:15 - engineio.server - INFO - uxB8FMp30U4sJ3oCAAAA: Upgrade to websocket successful
2025-01-13 17:45:15 - engineio.server - INFO - uxB8FMp30U4sJ3oCAAAA: Received packet MESSAGE data 0{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MjQxMX0.T4f82VhdugAuJ2DlnHpU9D4gUQ0CNUs12-NReE5-L44"
}
2025-01-13 17:45:15 - engineio.server - INFO - uxB8FMp30U4sJ3oCAAAA: Sending packet MESSAGE data 0{
  "sid": "PV7oJYx-w_OAz8UsAAAB"
}
2025-01-13 17:45:15 - root - WARNING - 

    "收到连接请求: sid=PV7oJYx-w_OAz8UsAAAB, auth={'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzeXN0ZW0wMSIsImV4cCI6MTczNjc2MjQxMX0.T4f82VhdugAuJ2DlnHpU9D4gUQ0CNUs12-NReE5-L44'}"   2025-01-13 17:45:15----code_context : lprint(f"收到连接请求: sid={sid}, auth={auth}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:338, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:45:15 - root - WARNING - 

    "验证 token: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:45:15----code_context : lprint(f"验证 token: {token[:20]}...") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:350, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:45:15 - root - WARNING - 

    "验证令牌: eyJhbGciOiJIUzI1NiIs..."   2025-01-13 17:45:15----code_context : lprint(f"验证令牌: {token[:20]}...", level=logging.info) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\auth.py:104, -fn: authenticate_token, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:351, ->code_context:->user = await authenticate_token(token)->fn:connect
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - DEBUG - Col ('version',)
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - DEBUG - Row ('PostgreSQL 17.2 on x86_64-windows, compiled by msvc-19.42.34433, 64-bit',)
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - DEBUG - Col ('current_schema',)
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - DEBUG - Row ('public',)
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - DEBUG - Col ('standard_conforming_strings',)
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - DEBUG - Row ('on',)
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.role, users.nickname, users.avatar_index, users.last_seen, users.hashed_password, users.status, users.expires_at, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.username = $1::VARCHAR
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - INFO - [generated in 0.00110s] ('system01',)
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - DEBUG - Col ('id', 'username', 'email', 'role', 'nickname', 'avatar_index', 'last_seen', 'hashed_password', 'status', 'expires_at', 'created_at', 'updated_at', 'last_login')
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - DEBUG - Row (2, 'system01', 'system1@example.com', <UserRole.system: 'system'>, '系统账户一', 0, datetime.datetime(2025, 1, 13, 9, 44, 28, 395683, tzinfo=datetime.timezone.utc), '$2b$12$WvQYicggCQyljBgvMYR2m.F67a1dt.nwBP5CQgLbanDELbgTJDojC', 'active', None, datetime.datetime(2025, 1, 13, 9, 44, 28, 395683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 28, 395683, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 1, 13, 9, 44, 27, 976683, tzinfo=datetime.timezone.utc))
2025-01-13 17:45:15 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-01-13 17:45:15 - root - WARNING - 

    "用户 system01 连接成功"   2025-01-13 17:45:15----code_context : lprint(f"用户 {user.username} 连接成功") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:358, -fn: connect, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\socketio\async_server.py:637, ->code_context:->ret = await handler(*args)->fn:_trigger_event
2025-01-13 17:45:15 - socketio.server - INFO - emitting event "connect_success" to PV7oJYx-w_OAz8UsAAAB [/]
2025-01-13 17:45:15 - engineio.server - INFO - uxB8FMp30U4sJ3oCAAAA: Sending packet MESSAGE data 2[
  "connect_success",
  {
    "message": "Welcome system01!",
    "sid": "PV7oJYx-w_OAz8UsAAAB"
  }
]
2025-01-13 17:45:15 - socketio.server - INFO - emitting event "user_connected" to all [/]
2025-01-13 17:45:26 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:45:26----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:45:26 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:45:26----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:45:26 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:45:26----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:45:26 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:45:26----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:45:27 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:45:27 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:45:27 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:45:27 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:45:27----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:45:27 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:45:27 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:45:27----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:45:27 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:45:27----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:45:27 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:45:27 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:45:27----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:45:27 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:45:27----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:46:55 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:46:55----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:46:55 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:46:55----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:46:55 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:46:55----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:46:55 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:46:55----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:46:55 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:46:55 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:46:55 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:46:56 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:46:56----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:46:56 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:46:56 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:46:56----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:46:56 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:46:56----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:46:56 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:46:56 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:46:56----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:46:56 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:46:56----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:47:07 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:47:07----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:47:07 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:47:07----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:47:07 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:47:07----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:47:07 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:47:07----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:47:08 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:47:08 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:47:08 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:47:08 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:47:08----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:47:08 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:47:08 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:47:08----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:47:08 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:47:08----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:47:08 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:47:08 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:47:08----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:47:08 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:47:08----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:48:36 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:48:36----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:48:36 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:48:36----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:48:36 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:48:36----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:48:36 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:48:36----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:48:37 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:48:37 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:48:37 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:48:38 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:48:38----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:48:38 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:48:38 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:48:38----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:48:38 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:48:38----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:48:38 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:48:38 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:48:38----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:48:38 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:48:38----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:48:52 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:48:52----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:48:52 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:48:52----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:48:52 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:48:52----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:48:52 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:48:52----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:48:53 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:48:53 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:48:53 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:48:53 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:48:53----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:48:53 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:48:53 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:48:53----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:48:53 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:48:53----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:48:53 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:48:53 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:48:53----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:48:53 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:48:53----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:52:29 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:52:29----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:52:29 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:52:29----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:52:29 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:52:29----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:52:29 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:52:29----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:52:30 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:52:30 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:52:30 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:52:31 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:52:31----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:52:31 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:52:31 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:52:31----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:52:31 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:52:31----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:52:31 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:52:31 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:52:31----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:52:31 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:52:31----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:52:47 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:52:47----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:52:47 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:52:47----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:52:47 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:52:47----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:52:47 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:52:47----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:52:48 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:52:48 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:52:48 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:52:48 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:52:48----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:52:48 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:52:48 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:52:48----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:52:48 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:52:48----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:52:48 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:52:48 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:52:48----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:52:48 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:52:48----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:53:03 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:53:03----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:53:03 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:53:03----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:53:03 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:53:03----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:53:03 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:53:03----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:53:04 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:53:04 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:53:04 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:53:04 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:53:04----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:53:04 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:53:56 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:53:56----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:53:56 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:53:56----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:53:56 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:53:56----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:53:56 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:53:56----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:53:57 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:53:57 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:53:57 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:53:58 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:53:58----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:53:58 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:54:53 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:54:53----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:54:53 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:54:53----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:54:53 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:54:53----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:54:53 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:54:53----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:54:54 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:54:54 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:54:54 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:54:54 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:54:54----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:54:54 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:55:05 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:55:05----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:55:05 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:55:05----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:55:05 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:55:05----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:55:05 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:55:05----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:55:06 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:55:06 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:55:06 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:55:06 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:55:06----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:55:07 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:55:07 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:55:07----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:73, -fn: <module>, None
2025-01-13 17:55:07 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:55:07----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:74, -fn: <module>, None
2025-01-13 17:55:07 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:55:07 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:55:07----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:90, -fn: <module>, None
2025-01-13 17:55:07 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:55:07----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:55:20 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:55:20----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:55:20 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:55:20----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:55:20 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:55:20----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:55:20 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:55:20----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:55:21 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:55:21 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:55:21 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:55:21 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:55:21----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:55:22 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:55:22 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:55:22----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:71, -fn: <module>, None
2025-01-13 17:55:22 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:55:22----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:72, -fn: <module>, None
2025-01-13 17:55:22 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:55:22 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:55:22----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:88, -fn: <module>, None
2025-01-13 17:55:22 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:55:22----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:55:22 - root - WARNING - 

    "custom_swagger_ui_html"   2025-01-13 17:55:22----code_context : lprint("custom_swagger_ui_html") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:123, -fn: custom_swagger_ui_html, 
>>callBy: File: D:\TD_Depot\Software\LUGWIT~1\LUGWIT~1\python_env\Lib\site-packages\fastapi\routing.py:190, ->code_context:->return await dependant.call(**values)->fn:run_endpoint_function
2025-01-13 17:55:34 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:55:34----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:55:34 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:55:34----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:55:34 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:55:34----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:55:34 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:55:34----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:55:35 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:55:35 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:55:35 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:55:35 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:55:35----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:55:36 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:55:36 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:55:36----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:71, -fn: <module>, None
2025-01-13 17:55:36 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:55:36----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:72, -fn: <module>, None
2025-01-13 17:55:36 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:55:36 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:55:36----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:88, -fn: <module>, None
2025-01-13 17:55:36 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:55:36----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
2025-01-13 17:55:49 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:55:49----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:77, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:55:49 - root - WARNING - 

    "日志目录: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs"   2025-01-13 17:55:49----code_context : lprint(f"日志目录: {log_dir}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:26, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:55:49 - root - WARNING - 

    "日志文件: D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\logs\\server.log"   2025-01-13 17:55:49----code_context : lprint(f"日志文件: {log_file}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:27, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:55:49 - root - WARNING - 

    "日志系统初始化完成"   2025-01-13 17:55:49----code_context : lprint("日志系统初始化完成", level=logging.INFO) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\logging_config.py:74, -fn: setup_logging, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:8, ->code_context:->setup_logging()->fn:<module>
2025-01-13 17:55:50 - passlib.utils.compat - DEBUG - loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>
2025-01-13 17:55:50 - passlib.utils.compat - DEBUG - loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>
2025-01-13 17:55:50 - passlib.utils.compat - DEBUG - loaded lazy attr 'BytesIO': <class '_io.BytesIO'>
2025-01-13 17:55:50 - root - WARNING - 

    "数据库URL: postgresql+asyncpg://postgres:OC.123456@192.168.110.27:5432/chatroom"   2025-01-13 17:55:50----code_context : lprint(f"数据库URL: {DATABASE_URL}") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\db\db_connection.py:18, -fn: <module>, None
2025-01-13 17:55:50 - passlib.registry - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2025-01-13 17:55:50 - root - WARNING - 

    "D:\\TD_Depot\\Software\\Lugwit_syncPlug\\lugwit_insapp\\trayapp\\Lib\\ChatRoom\\backend"   2025-01-13 17:55:50----code_context : lprint(os.getcwd()) 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:71, -fn: <module>, None
2025-01-13 17:55:50 - root - WARNING - 

    "初始化Socket.IO服务器"   2025-01-13 17:55:50----code_context : lprint("初始化Socket.IO服务器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:72, -fn: <module>, None
2025-01-13 17:55:50 - engineio.server - INFO - Server initialized for asgi.
2025-01-13 17:55:50 - root - WARNING - 

    "Socket.IO服务器初始化完成"   2025-01-13 17:55:50----code_context : lprint("Socket.IO服务器初始化完成") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\main.py:88, -fn: <module>, None
2025-01-13 17:55:50 - root - WARNING - 

    "只保留必要的事件处理器"   2025-01-13 17:55:50----code_context : lprint("只保留必要的事件处理器") 
File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:29, -fn: setup_socketio_handlers, 
>>callBy: File: D:\TD_Depot\Software\Lugwit_syncPlug\lugwit_insapp\trayapp\Lib\ChatRoom\backend\app\core\message_handlers.py:26, ->code_context:->self.setup_socketio_handlers()->fn:__init__
